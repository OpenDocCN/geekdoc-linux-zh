- en: The `!!` command (History Expansion)
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '`!!` 命令（历史扩展）'
- en: The `!!` command is a bash history expansion feature that repeats the last command.
    It's part of a broader set of history expansion capabilities that allow you to
    quickly re-execute, modify, or reference previous commands. This is extremely
    useful for correcting mistakes, adding sudo, or repeating complex commands.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '`!!` 命令是bash历史扩展功能，用于重复最后一个命令。它是历史扩展能力更广泛集合的一部分，允许您快速重新执行、修改或引用之前的命令。这对于纠正错误、添加sudo或重复复杂命令非常有用。'
- en: Syntax
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 语法
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Key Features
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关键特性
- en: '**Last Command Repetition**: Quickly re-run the previous command'
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重复上一个命令**：快速重新运行上一个命令'
- en: '**Command Modification**: Modify and re-execute previous commands'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**命令修改**：修改并重新执行之前的命令'
- en: '**Argument Extraction**: Extract specific arguments from previous commands'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**参数提取**：从之前的命令中提取特定参数'
- en: '**Pattern Matching**: Find commands by pattern'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模式匹配**：通过模式查找命令'
- en: '**Time Saving**: Avoid retyping complex commands'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**节省时间**：避免重新输入复杂的命令'
- en: Basic Usage
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 基本用法
- en: Simple History Expansion
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 简单历史扩展
- en: '[PRE1]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Common Scenarios
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 常见场景
- en: '[PRE2]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: History Expansion Patterns
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 历史扩展模式
- en: 1\. Event Designators
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 事件指示符
- en: '[PRE3]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 2\. Word Designators
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 单词指示符
- en: '[PRE4]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 3\. Modifiers
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3. 修饰符
- en: '[PRE5]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Practical Examples
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实际示例
- en: 1\. Error Correction
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 错误纠正
- en: '[PRE6]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 2\. Adding Missing Options
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 添加缺失的选项
- en: '[PRE7]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 3\. File Operations
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3. 文件操作
- en: '[PRE8]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 4\. Directory Navigation
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4. 目录导航
- en: '[PRE9]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Advanced History Expansion
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 高级历史扩展
- en: 1\. Complex Substitutions
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 复杂替换
- en: '[PRE10]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 2\. Combining with Other Features
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 与其他功能结合
- en: '[PRE11]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 3\. Working with Multiple Commands
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3. 使用多个命令
- en: '[PRE12]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Interactive Features
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 交互式功能
- en: 1\. History Verification
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 历史验证
- en: '[PRE13]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 2\. History Search
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 历史搜索
- en: '[PRE14]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Configuration and Settings
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置和设置
- en: 1\. History Settings
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 历史设置
- en: '[PRE15]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 2\. History Expansion Settings
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 历史扩展设置
- en: '[PRE16]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Safety and Best Practices
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安全性和最佳实践
- en: 1\. Verification Before Execution
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 执行前验证
- en: '[PRE17]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 2\. Safe Practices
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 安全实践
- en: '[PRE18]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 3\. Debugging
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3. 调试
- en: '[PRE19]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Common Patterns and Shortcuts
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 常见模式和快捷键
- en: 1\. Frequent Combinations
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 常见组合
- en: '[PRE20]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 2\. File and Directory Operations
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 文件和目录操作
- en: '[PRE21]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 3\. Network and System Commands
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3. 网络和系统命令
- en: '[PRE22]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Integration with Scripts
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 与脚本集成
- en: 1\. History in Scripts
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 脚本中的历史
- en: '[PRE23]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 2\. Interactive Scripts
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 交互式脚本
- en: '[PRE24]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Alternatives and Related Commands
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 替代命令和相关命令
- en: 1\. fc (Fix Command)
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. fc（修复命令）
- en: '[PRE25]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 2\. history command
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. history 命令
- en: '[PRE26]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Troubleshooting
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 故障排除
- en: 1\. History Expansion Not Working
  id: totrans-73
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 1. 历史扩展不起作用
- en: '[PRE27]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 2\. Unexpected Expansions
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 2. 预期之外的扩展
- en: '[PRE28]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 3\. Complex Command Issues
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 3. 复杂命令问题
- en: '[PRE29]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Important Notes
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 重要注意事项
- en: '**Interactive Only**: History expansion primarily works in interactive shells'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**仅交互式**：历史扩展主要在交互式shell中工作'
- en: '**Not in Scripts**: Usually disabled in scripts for safety'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**不在脚本中**：通常在脚本中禁用以提高安全性'
- en: '**Shell Specific**: This is a bash/zsh feature, not available in all shells'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**特定于shell**：这是一个bash/zsh特性，并非所有shell都可用'
- en: '**Verification**: Use `histverify` option for safety with destructive commands'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**验证**：使用 `histverify` 选项在具有破坏性的命令中提高安全性'
- en: '**Case Sensitive**: History expansion is case-sensitive'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**大小写敏感**：历史扩展是大小写敏感的'
- en: '**Immediate Execution**: !! executes immediately; use caution with destructive
    commands'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**立即执行**：!! 立即执行；在使用具有破坏性的命令时要小心'
- en: The `!!` command and history expansion features are powerful tools for efficient
    command-line work, but they require understanding and careful use to avoid mistakes.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '`!!` 命令和历史扩展功能是高效的命令行工具，但它们需要理解和谨慎使用以避免错误。'
- en: 'For more details, check the bash manual: `man bash` (search for "History Expansion")'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 更多详细信息，请查看bash手册：`man bash`（搜索“历史扩展”）
