- en: Meta
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 元数据
- en: '`curl_ws_recv()` and `curl_ws_meta()` both return a pointer to a `curl_ws_frame`
    struct, which provides information about the incoming WebSocket data. A WebSocket
    “frame” in this case is a part of a WebSocket fragment. It *can* be a whole fragment,
    but it might only be a piece of it. The `curl_ws_frame` contains information about
    the frame to tell you the details.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '`curl_ws_recv()`和`curl_ws_meta()`都返回一个指向`curl_ws_frame`结构的指针，该结构提供了关于传入WebSocket数据的信息。在这种情况下，WebSocket“帧”是WebSocket片段的一部分。它*可以*是一个完整的片段，但也可能只是其中的一部分。`curl_ws_frame`包含有关帧的信息，以告知您详细信息。'
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '`age`'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`age`'
- en: This is just a number that identifies the age of this struct. It is always 0
    now, but might increase in a future and then the struct might grow.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 这只是一个标识此结构年龄的数字。现在它始终为0，但将来可能会增加，那时结构可能会增长。
- en: '`flags`'
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`flags`'
- en: The `flags’ field is a bitmask describing details of data.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '`flags`字段是一个位掩码，描述了数据的详细信息。'
- en: '`CURLWS_TEXT`'
  id: totrans-7
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`CURLWS_TEXT`'
- en: The buffer contains text data. Note that this makes a difference to WebSocket
    but libcurl itself does make any verification of the content or precautions that
    you actually receive valid UTF-8 content.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 缓冲区包含文本数据。请注意，这会对WebSocket产生影响，但libcurl本身并不验证内容或采取任何预防措施来确保您接收到的确实是有效的UTF-8内容。
- en: '`CURLWS_BINARY`'
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`CURLWS_BINARY`'
- en: This is binary data.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 这是二进制数据。
- en: '`CURLWS_FINAL`'
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`CURLWS_FINAL`'
- en: This is the final fragment of the message, if this is not set, it implies that
    there is another fragment coming as part of the same message.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 这是消息的最后一个片段，如果未设置，则表示还有另一个片段作为同一消息的一部分即将到来。
- en: '`CURLWS_CLOSE`'
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`CURLWS_CLOSE`'
- en: This transfer is now closed.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 此传输现在已关闭。
- en: '`CURLWS_PING`'
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '`CURLWS_PING`'
- en: This is an incoming ping message, that expects a pong response.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个接收到的ping消息，它期望得到一个pong响应。
- en: '`offset`'
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`offset`'
- en: When the data delivered is just a part of a larger fragment, this identifies
    the offset in number of bytes into the larger fragment where this piece belongs.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 当传递的数据只是更大片段的一部分时，这标识了此片段属于更大片段的字节数偏移量。
- en: '`bytesleft`'
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`bytesleft`'
- en: Number of outstanding payload bytes after this frame, that is left to complete
    this fragment.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在此帧之后，剩余未完成此片段的未处理负载字节数。
- en: The maximum size of a WebSocket fragment is 63 bits.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: WebSocket片段的最大大小为63位。
