# `top/htop` 命令

`top` 是预安装在 Linux 发行版和类 Unix 操作系统中的默认命令行实用程序。它用于显示有关系统和其最高 CPU 消耗进程以及 RAM 使用情况的信息。

`htop` 是基于 ncurses 的 Linux 和类 Unix 操作系统的交互式进程查看器和进程管理器。如果你把 top 放在类固醇上，你就得到了 htop。

## top 和 htop 的比较：

| **特性** | **top** | **htop** |
| :-- | :-- | :-- |
| 类型 | 交互式系统监控器、进程查看器和进程管理器 | 交互式系统监控器、进程查看器和进程管理器 |
| 操作系统 | Linux 发行版，macOS | Linux 发行版，macOS |
| 安装 | 内置且始终存在。也因为这一点而得到更广泛的采用。 | 大多数 Linux 发行版中未预安装。需要手动安装 |
| 用户界面 | 仅基本文本 | 颜色丰富且更美观的文本图形界面 |
| 滚动支持 | 否 | 是，支持水平和垂直滚动 |
| 鼠标支持 | 否 | 是 |
| 进程利用率 | 显示进程，但不是以树形格式显示 | 是的，包括用户和内核线程 |
| 滚动支持 | 否 | 是，支持水平和垂直滚动 |
| 鼠标支持 | 否 | 是 |
| 进程利用率 | 显示进程，但不是以树形格式显示 | 是的，包括用户和内核线程 |
| 网络利用率 | 否 | 否 |
| 磁盘利用率 | 否 | 否 |
| 评论 | 对于一些高级选项（如搜索、向进程发送消息等）有一个学习曲线。了解 top 是好的，因为它是许多系统上的默认进程查看器。 | 更易于使用，并支持类似 vi 的搜索，使用 `/`。向进程发送消息（kill、renice）更容易，不需要像 top 那样输入进程号。 |

## 示例：

### `top`

1.  要显示运行进程的动态实时信息：

```sh
      top 

```

1.  按内部内存大小排序进程（默认顺序 - 进程 ID）：

```sh
      top -o mem 

```

1.  首先按 CPU 排序，然后按运行时间排序：

```sh
      top -o cpu -O time 

```

1.  仅显示指定用户的进程：

```sh
      top -user {user_name} 

```

### `htop`

1.  显示运行进程的动态实时信息。`top` 的增强版本。

```sh
      htop 

```

1.  显示特定用户的进程：

```sh
      htop --user {user_name} 

```

1.  按指定的 `sort_item` 排序进程（使用 `htop --sort help` 查看可用选项）：

```sh
      htop --sort {sort_item} 

```

## 语法：

```sh
      top [OPTIONS] 

```

```sh
      htop [OPTIONS] 

```

## 额外的标志及其功能：

| **短标志** | **长标志** | **描述** |
| :-- | :-- | :-- |
| `-a` | - | 按内存使用量排序。 |
| `-b` | - | 批量模式操作。以 '批量模式' 启动 top，这在将 top 的输出发送到其他程序或文件时可能很有用。在此模式下，top 不会接受输入，直到达到您使用 '-n' 命令行选项设置的迭代限制或被终止。 |
| `-h` | - | `top --user {用户名}` 仅显示属于用户的进程。 |
| `-U` | -user | 帮助。 |
| `-u` | - | 这是一个与：-o cpu -O time 等效的别名。 |
