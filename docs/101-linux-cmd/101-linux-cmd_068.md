# `lsof`命令

`lsof`命令显示所有运行进程打开的**文件信息**。它的名字也来源于“列出打开文件 > `lsof`”的事实。

打开的文件可能是一个普通文件、一个目录、一个块特殊文件、一个字符特殊文件、一个执行中的文本引用、一个库、一个流或一个网络文件（互联网套接字、NFS 文件或 UNIX 域套接字）。可以通过路径选择特定的文件或文件系统中的所有文件。

### 语法：

```sh
      lsof [-OPTION] [USER_NAME] 

```

### 示例：

1.  要显示所有活动进程打开的所有文件：

```sh
      lsof 

```

1.  要显示特定用户打开的文件：

```sh
      lsof -u [USER_NAME] 

```

1.  要列出指定目录下打开文件的进程：

```sh
      lsof +d [PATH_TO_DIR] 

```

### 选项及其功能：

| **选项** | **附加选项** | **描述** |
| :-- | :-- | :-- |
| `-i` | `tcp`/ `udp`/ `:port` | 列出所有正在运行的网络连接，另外，在 udp/tcp 或指定端口上。 |
| `-i4` | - | 列出所有具有 ipv4 连接的进程。 |
| `-i6` | - | 列出所有具有 ipv6 连接的进程。 |
| `-c` | `[进程名称]` | 列出具有给定名称的特定进程的所有文件。 |
| `-p` | `[进程 ID]` | 列出由指定进程 ID 打开的所有文件。 |
| `-p` | `^[进程 ID]` | 列出所有未由指定进程 ID 打开的文件。 |
| `+d` | `[路径]` | 列出指定目录下打开文件的进程 |
| `+R` | - | 列出父进程 ID 打开的文件。 |

### 帮助命令

运行以下命令以查看`lsof`命令的完整指南。

```sh
      man lsof 

```
