# `ifconfig` 命令

`ifconfig` 用于配置内核驻留的网络接口。它在启动时用于根据需要设置接口。之后，通常只有在调试或需要系统调整时才需要使用。

如果没有给出参数，`ifconfig` 将显示当前激活接口的状态。如果给出单个接口参数，它将只显示该接口的状态；如果给出单个 -a 参数，它将显示所有接口的状态，即使它们处于关闭状态。否则，它将配置一个接口。

### 语法：

```sh
      ifconfig [-v] [-a] [-s] [interface]
ifconfig [-v] interface [aftype] options 

```

### 示例：

1.  要显示当前激活的接口：

```sh
      ifconfig 

```

1.  要显示所有当前激活的接口，即使它们处于关闭状态：

```sh
      ifconfig -a 

```

1.  要显示所有错误条件：

```sh
      ifconfig -v 

```

1.  要显示简短列表：

```sh
      ifconfig -s 

```

1.  要显示特定网络接口的详细信息（例如 `eth0`）：

```sh
      ifconfig eth0 

```

1.  要激活接口的驱动程序（例如 `eth0`）：

```sh
      ifconfig eth0 up 

```

1.  要停用接口的驱动程序（例如 `eth0`）：

```sh
      ifconfig eth0 down 

```

1.  要将特定 IP 地址分配给网络接口（例如 `eth0`）：

```sh
      ifconfig eth0 10.10.1.23 

```

1.  要更改网络接口的 MAC（媒体访问控制）地址（例如 `eth0`）：

```sh
      ifconfig eth0 hw ether AA:BB:CC:DD:EE:FF 

```

1.  要为网络接口定义子网掩码（例如 `eth0`）：

```sh
      ifconfig eth0 netmask 255.255.255.224 

```

1.  要在网络上启用混杂模式（例如 `eth0`）：

```sh
      ifconfig eth0 promisc 

```

在正常模式下，当网络卡收到一个数据包时，它会验证该数据包是否属于自己。如果不是，它将正常丢弃该数据包。然而，在混杂模式下，它接受通过网络卡流过的所有数据包。

1.  要在网络上禁用混杂模式（例如 `eth0`）：

```sh
      ifconfig eth0 -promisc 

```

1.  要将最大传输单元设置到网络接口（例如 `eth0`）：

```sh
      ifconfig eth0 mtu 1000 

```

MTU 允许您设置在接口上传输的数据包的最大大小。MTU 能够在一次单独的事务中处理一个接口的最大字节数。

1.  要向网络接口添加额外的 IP 地址，您可以配置网络别名到网络接口：

```sh
      ifconfig eth0:0 10.10.1.24 

```

请注意，别名网络地址与网络接口的子网掩码相同。例如，如果您的 eth0 网络 IP 地址是 `10.10.1.23`，则别名 IP 地址可以是 `10.10.1.24`。一个无效的 IP 地址示例是 `10.10.2.24`，因为接口子网掩码是 `255.255.255.224`。

1.  要删除网络别名：

```sh
      ifconfig eth0:0 down 

```

请记住，对于每个作用域（即具有相同地址/子网掩码组合的同一网络），如果删除第一个别名，则所有别名都将被删除。

### 帮助命令

运行以下命令以查看 `ifconfig` 命令的完整指南。

```sh
      man ifconfig 

```
