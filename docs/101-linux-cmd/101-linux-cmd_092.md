# `xargs` 命令

`xargs` 用于从标准输入构建和执行命令行

一些命令，如 grep，可以接受作为参数的输入，但有些命令接受参数，这就是 xargs 出现的地方。

### 语法：

```sh
      xargs [options] [command [initial-arguments]] 

```

### 选项：

```sh
      -0, --null

```

输入项以空字符终止，而不是以空白字符终止，引号和反斜杠不是特殊字符（每个字符都被当作字面意思）。禁用文件结束字符串，它被当作任何其他参数处理。当输入项可能包含空格、引号或反斜杠时很有用。

```sh
      -a file, --arg-file=file 

```

从文件读取项目而不是标准输入。如果你使用此选项，当运行命令时，stdin 保持不变。否则，stdin 将从 /dev/null 重定向。

```sh
      -o, --open-tty 

```

在执行命令之前，在子进程中重新打开 stdin 为 /dev/tty。如果你想让 xargs 运行交互式应用程序，这很有用。

```sh
      --delimiter=delim, -d delim 

```

输入项以指定的字符终止。指定的分隔符可以是一个字符，一个 C 风格的字符转义，如 \n，或一个八进制或十六进制转义代码。八进制和十六进制转义代码与 printf 命令相同。不支持多字节字符。在处理输入时，引号和反斜杠不是特殊字符；输入中的每个字符都被当作字面意思。-d 选项禁用任何文件结束字符串，它被当作任何其他参数处理。当输入仅由换行符分隔的项目组成时，可以使用此选项，尽管几乎总是更好的设计程序以使用 --null，如果可能的话。

```sh
      -p, --interactive 

```

提示用户是否运行每个命令行，并从终端读取一行。只有当响应以 `y` 或 `Y` 开头时才运行命令行。隐含 -t。

### 示例：

```sh
      find /tmp -name core -type f -print | xargs /bin/rm -f 

```

在目录 /tmp 中或其下方查找名为 core 的文件并删除它们。请注意，如果存在包含换行符或空格的文件名，这将无法正确工作。

```sh
      find /tmp -name core -type f -print0 | xargs -0 /bin/rm -f 

```

在目录 /tmp 中或其下方查找名为 core 的文件并删除它们，以这种方式处理文件名，使得包含空格或换行符的文件名或目录名能够正确处理。

```sh
      find /tmp -depth -name core -type f -delete 

```

在目录 /tmp 中或其下方查找名为 core 的文件并删除它们，但比上一个示例更高效（因为我们避免了使用 fork(2) 和 exec(2) 来启动 rm 的需要，并且我们不需要额外的 xargs 进程）。

```sh
      cut -d: -f1 < /etc/passwd | sort | xargs echo 

```

生成系统上所有用户的紧凑列表。

### 帮助命令

运行以下命令以查看 `xargs` 命令的完整指南。

```sh
      man xargs 

```
