# `printf` 命令

这个命令允许你通过使用规则格式化变量值来打印变量的值。它与 C 语言中的 printf 非常相似。

### 语法：

```sh
      $printf [-v variable_name] format [arguments] 

```

### 选项：

| OPTION | 描述 |
| --- | --- |
| `FORMAT` | FORMAT 控制输出，并定义了 ARGUMENTs 在输出中的表达方式 |
| `ARGUMENT` | ARGUMENT 将根据 FORMAT 的定义插入到格式化输出中 |
| `--help` | 显示帮助并退出 |
| `--version` | 输出版本信息并退出 |

### 格式：

FORMAT 字符串的解剖结构可以提取为三个不同的部分，

+   *普通字符*，它们被原封不动地复制到输出中。

+   *解释字符序列*，它们通过反斜杠 ("\" ) 转义。

+   *转换指定符*，这个指定符将定义 ARGUMENTs 作为输出部分的表达方式。

你可以在这个例子中看到这些部分，

```sh
      printf " %s is where over %d million developers shape \"the future of sofware.\" " Github 65 

```

输出：

```sh
      Github is where over 65 million developers shape "the future of sofware." 

```

有两种转换指定符 `%s` 和 `%d`，以及两种转义字符，即包围着 *软件未来* 词语的开头和结尾的双引号。除此之外，还有普通字符。

### 转换指定符：

每个转换指定符以 `%` 开始，以 `转换字符` 结束。在 `%` 和 `转换字符` 之间，可能按顺序出现：

|  |  |
| --- | --- |
| `-` | 一个减号。这告诉 printf 将参数转换左对齐 |
| *数字* | 一个整数，指定字段宽度；printf 在至少 number 个字符宽度的字段中打印 ARGUMENT 的转换。如果需要，它将在左侧（或右侧，如果需要左对齐）填充，以补足字段宽度。 |
| `.` | 一个点，用于分隔字段宽度和精度 |
| *数字* | 一个整数，精度，指定从字符串中打印的最大字符数，或浮点值小数点后的位数，或整数的最小位数 |
| `h` 或 `l` | 这些分别区分短整数和长整数，通常仅用于计算机编程 |

转换字符告诉 `printf` 要打印哪种类型的参数，如下所示：

| 转换字符 | 参数类型 |
| --- | --- |
| `s` | 字符串 |
| `c` | 一个整数，表示为字符对应 ASCII 码 |
| `d, i` | 作为十进制数的整数 |
| `o` | 作为无符号八进制数的整数 |
| `x, X` | 作为无符号十六进制数的整数 |
| `u` | 作为无符号十进制数的整数 |
| `f` | 默认精度为 6 的浮点数 |
| `e, E` | 以科学记数法表示的浮点数 |
| `p` | 内存地址指针 |
| `%` | 无转换 |

这里是 `printf` 输出 ARGUMENT 的例子列表。我们可以放任何单词，但在这个例子中我们放了一个 'linuxcommand' 单词，并用引号括起来，这样我们可以更容易地看到与空格相关的位置。

| 格式字符串 | ARGUMENT 字符串 | 输出字符串 |
| --- | --- | --- |
| `"%s"` | `"linuxcommand"` | "linuxcommand" |
| `"%5s"` | `"linuxcommand"` | "linuxcommand" |
| `"%.5s"` | `"linuxcommand"` | "linux" |
| `"%-8s"` | `"linuxcommand"` | "linuxcommand" |
| `"%-15s"` | `"linuxcommand"` | "linuxcommand " |
| `"%12.5s"` | `"linuxcommand"` | " linux" |
| `"%-12.5"` | `"linuxcommand"` | "linux " |
| `"%-12.4"` | `"linuxcommand"` | "linu " |

注意事项：

+   `printf` 需要转换字符串的数量与 ARGUMENT 的数量相匹配

+   `printf` 将转换字符串一对一映射，并期望为每个转换字符串找到 exactly one ARGUMENT

+   转换字符串始终从左到右解释。

这里是一个例子：

输入

```sh
      printf "We know %f is %s %d" 12.07 "larger than" 12 

```

输出：

```sh
      We know 12.070000 is larger than 12 

```

上面的例子显示了 3 个 ARGUMENT，*12.07*，*larger than*，和 *12*。它们都从左到右一对一与给定的 3 个转换字符串（`%f`，`%d`，`%s`）进行解释。

`printf` 解释为特殊字符的字符序列：

| 转义字符 | 描述 |
| --- | --- |
| `\a` | 发出警报（播放铃声）。通常是 ASCII BEL 字符 |
| `\b` | 打印一个退格符 |
| `\c` | 指示 `printf` 不再产生输出 |
| `\e` | 打印一个转义字符（ASCII 码 27） |
| `\f` | 打印一个换页符 |
| `\n` | 打印一个换行符 |
| `\r` | 打印一个回车符 |
| `\t` | 打印一个水平制表符 |
| `\v` | 打印一个垂直制表符 |
| `\"` | 打印一个双引号 (") |
| `\\` | 打印一个反斜杠 () |
| `\NNN` | 打印八进制值为 `NNN`（1 到 3 位）的字节 |
| `\xHH` | 打印十六进制值为 `HH`（1 到 2 位）的字节 |
| `\uHHHH` | 打印十六进制值为 `HHHH`（4 位）的 unicode 字符 |
| `\UHHHHHHHH` | 打印十六进制值为 `HHHHHHHH`（8 位）的 unicode 字符 |
| `%b` | 以字符串形式打印 ARGUMENT，其中 "\ " 转义符的解释如上所述，但八进制转义符的形式为 `\0` 或 `\0NN` |

### 示例：

下面列出了与 printf 一起通常使用的格式说明符的例子：

+   %s

```sh
      $printf "%s\n" "Printf command documentation!" 

```

这将在 shell 中打印 `Printf 命令文档！`

### printf 命令的其他重要属性：

+   `%b` - 通过展开反斜杠转义序列来打印 ARGUMENT。

+   `%q` - 以 shell 引用格式打印 ARGUMENT，该格式可作为输入重复使用。

+   `%d` , `%i` - 以有符号十进制整数的格式打印 ARGUMENT。

+   `%u` - 以无符号十进制整数的格式打印 ARGUMENT。

+   `%o` - 以无符号八进制（基数为 8）整数的格式打印 ARGUMENT。

+   `%x`, `%X` - 以无符号十六进制（基数为 16）整数的格式打印 ARGUMENT。%x 打印小写字母，而 %X 打印大写字母。

+   `%e`, `%E` - 以指数记数法格式打印参数。%e 打印小写字母，%E 打印大写字母。

+   `%a`, `%A` - 以十六进制（基数为 16）分数记数法格式打印参数。%a 打印小写字母，%A 打印大写字母。

+   `%g`, `%G` - 以正常或指数记数法格式打印参数，根据给定值和精度选择更合适的形式。%g 打印小写字母，%G 打印大写字母。

+   `%c` - 将参数作为单个字符打印。

+   `%f` - 将参数作为浮点数打印。

+   `%s` - 将参数作为字符串打印。

+   `%%` - 打印一个 "%" 符号。

#### 更多示例：

输入：

```sh
      printf 'Hello\nyoung\nman!' 

```

输出：

```sh
      hello 
young
man! 

```

两个 `\n` 将句子分成三个单词部分。

输入：

```sh
      printf "%f\n" 2.5 5.75 

```

输出

```sh
      2.500000
5.750000 

```

`%f` 说明符与 `\n` 结合解释，将两个参数以浮点数的形式分别打印在新行上。
