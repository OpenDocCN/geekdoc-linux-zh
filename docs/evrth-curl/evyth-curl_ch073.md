# 密码

密码很棘手且敏感。泄露密码可能会让除了你之外的其他人访问原本受保护的资源和数据。

curl 提供了几种从用户接收密码并随后将其传递或用于其他目的的方法。

curl 最基本的认证选项是`-u / --user`。它接受一个参数，即用户名和密码，由冒号分隔。就像当`alice`想要请求需要 HTTP 认证的页面，而她的密码是`12345`时：

```sh
$ curl -u alice:12345 http://example.com/
```

## 命令行泄露

这里正在发生几件可能不好的事情。首先，我们在命令行中输入密码，而命令行可能对同一系统上的其他用户是可读的（假设你有一个多用户系统）。curl 通过尝试从进程列表中清除密码来帮助最小化这种风险。

避免在命令行上传递用户名和密码的一种方法是用一个.netrc 文件或一个配置文件。你也可以使用`-u`选项而不指定密码，然后 curl 在运行时提示用户输入。

## 网络泄露

其次，这个命令行将用户凭据发送到 HTTP 服务器，这是一个明文协议，对中间人或其他窥探者开放，他们可以监视连接并查看发送的内容。在这个命令行示例中，它使 curl 使用 HTTP 基本认证，这是完全不安全的。

有几种方法可以避免这种情况，关键是当然要避免在网络上发送凭据的明文协议或认证方案。最简单的方法可能是确保你使用协议的加密版本。使用 HTTPS 而不是 HTTP，使用 FTPS 而不是 FTP 等等。

如果你需要坚持使用明文和不安全的协议，那么看看你是否可以切换到使用一种避免在明文中发送凭据的认证方法。如果你想使用 HTTP，这些方法包括摘要（`--digest`）、协商（`--negotiate.`）和 NTLM（`--ntlm`）。
