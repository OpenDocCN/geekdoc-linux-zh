# 进度条

curl 有一个内置的进度条。当 curl 被调用以传输数据（无论是上传还是下载）时，它可以在终端屏幕上显示该进度条，以显示传输的进度，即当前的传输速度、已经进行的时间以及它认为可能剩余的时间直到完成。

如果 curl 认为输出将发送到终端，进度条将被抑制，因为进度条会干扰该输出并弄乱显示的内容。用户也可以使用`-s / --silent`选项强制关闭进度条，该选项告诉 curl 保持安静。

如果你调用 curl 而没有得到进度条，请确保你的输出不是指向终端。

curl 还提供了一个替代的更简单的进度条，你可以通过`-# / --progress-bar`启用它。正如长名称所暗示的，它显示传输为一个进度条。

在 curl 被要求传输数据时，它无法确定请求操作的总大小，这导致进度条包含的细节更少，例如，它无法预测传输时间等。

## 单位

进度条显示字节数和每秒字节数。

它还使用后缀表示更大的字节数，使用 1024 进制系统，因此 1024 是一个千字节（1K），2048 是 2K 等。curl 支持这些：

| Suffix | 数量 | 名称 |
| --- | --- | --- |
| K | 2¹⁰ | 千字节 |
| M | 2²⁰ | 兆字节 |
| G | 2³⁰ | 吉字节 |
| T | 2⁴⁰ | 太字节 |
| P | 2⁵⁰ | 太字节 |

时间使用 H:MM:SS 格式显示，表示小时、分钟和秒。

## 进度条图例

进度条的存在是为了向用户显示实际上正在发生某事。输出中的不同字段具有以下含义：

```sh
% Total  % Received % Xferd Average Speed          Time             Curr.
                            Dload  Upload Total    Current  Left    Speed
0  151M  0 38608    0     0  9406      0  4:41:43  0:00:04  4:41:39  9287
```

从左到右：

| Title | 含义 |
| --- | --- |
| `%` | 整个传输完成的百分比 |
| `Total` | 整个预期传输的总大小（如果已知） |
| `%` | 下载完成的百分比 |
| `Received` | 当前已下载的字节数 |
| `%` | 上传完成的百分比 |
| `Xferd` | 当前已上传的字节数 |
| `Average Speed Dload` | 到目前为止整个下载的平均传输速度，以每秒字节数表示 |
| `Average Speed Upload` | 到目前为止整个上传的平均传输速度，以每秒字节数表示 |
| `Time Total` | 完成操作预计时间，以`HH:MM:SS`格式表示的小时、分钟和秒 |
| `Time Current` | 从传输开始经过的时间，以`HH:MM:SS`格式表示的小时、分钟和秒 |
| `Time Left` | 完成剩余的预计时间，以`HH:MM:SS`格式表示的小时、分钟和秒 |
| `Curr. Speed` | 过去 5 秒内的平均传输速度（传输的前 5 秒基于更少的时间，当然）以每秒字节数表示 |
