# 范围

如果客户端只想从远程资源中获取前 200 字节，或者可能在中间的某个地方获取 300 字节，怎么办？HTTP 协议允许客户端请求特定的数据范围。客户端通过提供一个起始偏移量和结束偏移量向服务器请求特定的范围。它甚至可以组合这些请求，通过并列列出多个范围来在同一个请求中请求多个范围。当服务器发送多个独立的部分来回答这样的请求时，这些部分会通过 MIME 边界字符串分隔，用户应用程序需要相应地处理这些部分。curl 不会进一步分隔这样的响应。

然而，字节范围只是一个对服务器的请求。服务器不必遵守这个请求，在许多情况下，比如当服务器在请求时自动生成内容，它可能会简单地拒绝这样做，然后仍然以完整内容作为响应。

你可以使用 `CURLOPT_RANGE` 让 libcurl 请求一个范围。比如，如果你想要某个东西的前 200 字节：

```sh
curl_easy_setopt(curl, CURLOPT_RANGE, "0-199");
```

或者从索引 200 开始文件中的所有内容：

```sh
curl_easy_setopt(curl, CURLOPT_RANGE, "200-");
```

从索引 0 获取 200 字节，并且从索引 1000 获取 200 字节：

```sh
curl_easy_setopt(curl, CURLOPT_RANGE, "0-199,1000-199");
```
