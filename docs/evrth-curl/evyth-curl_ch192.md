# 全局初始化

在你的程序中进行任何与 libcurl 相关的操作之前，你应该使用 `curl_global_init()` 做一个全局的 libcurl 初始化调用。这是必要的，因为 libcurl 可能使用的某些底层库需要提前调用以正确设置和初始化。

`curl_global_init()` 很不幸，不是线程安全的，所以你必须确保只调用一次，并且永远不要与其他调用同时进行。它初始化全局状态，因此你应该只调用一次，一旦你的程序完全使用完 libcurl，你可以调用 `curl_global_cleanup()` 来释放和清理由初始化调用分配的关联全局资源。

libcurl 是构建来处理你跳过 `curl_global_init()` 调用的情况的，但是它是通过自己调用它来做到这一点的（如果你在开始任何实际文件传输之前没有这样做）然后它使用自己的默认值。但是请注意，即使在这种情况下，它仍然不是线程安全的，所以它可能会给你带来一些“有趣”的副作用。最好是以受控的方式自己调用 curl_global_init()。
