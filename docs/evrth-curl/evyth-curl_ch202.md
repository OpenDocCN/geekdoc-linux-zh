# 简单句柄

你需要使用 libcurl 学习的 fundamentals：

首先，你创建一个“简单句柄”，这实际上是你的传输句柄：

```sh
CURL *easy_handle = curl_easy_init();
```

然后，你在这个句柄上设置选项以控制即将进行的传输。此示例设置了 URL：

```sh
/* set URL to operate on */
res = curl_easy_setopt(easy_handle, CURLOPT_URL, "http://example.com/");
```

如果`curl_easy_setopt()`返回`CURLE_OK`，我们知道它已正确存储了选项。

创建简单句柄并在其上设置选项并不会触发任何传输，通常也不会导致 libcurl 做更多的事情，除了存储你希望在传输实际发生时使用的愿望。很多语法检查和输入验证也可以推迟，所以即使`curl_easy_setopt`没有抱怨，并不意味着输入是正确和有效的；你可能会在之后得到一个错误返回。

在其单独的章节中了解更多关于简单选项的信息。

当你完成对简单句柄的选项设置后，你可以启动实际的传输。

实际执行传输可以使用不同的方法和函数调用，这取决于你希望在应用程序中实现的行为以及 libcurl 如何最佳地集成到你的架构中。这些内容将在本章后面进一步描述。

在传输进行过程中，libcurl 会调用你指定的函数——称为*回调函数*——来传递数据、读取数据以及执行各种操作。

传输完成后，你可以确定它是否成功，并可以从简单句柄中提取 libcurl 在传输期间收集的统计信息和其它信息。请参阅传输后信息。

## 重复使用

简单句柄旨在并设计为可重复使用。当你使用简单句柄完成一次传输后，你可以立即再次使用它进行下一次传输。这样做可以带来很多好处。

所有选项都是“粘性的”。如果你使用同一个句柄进行第二次传输，将使用相同的选项。它们将保留在句柄中，直到你再次更改它们或调用句柄上的`curl_easy_reset()`。

## 重置

通过调用`curl_easy_reset()`，给定简单句柄的所有选项都会重置并恢复到其默认值。这些值与句柄最初创建时选项的值相同。缓存保持完整。

## 复制

使用`curl_easy_duphandle()`可以复制一个包含所有当前设置选项的简单句柄。它返回传递给它的句柄的副本。

缓存和其他状态信息不会被传递。
