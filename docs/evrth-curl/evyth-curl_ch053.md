# 命令行选项

当告诉 curl 执行某项操作时，你通过 curl 调用，并附带零个、一个或多个命令行选项来伴随你想要传输的 URL 或 URL 集合。curl 支持超过两百个不同的选项。

## 短选项

命令行选项将关于你希望 curl 如何表现的信息传递给 curl。例如，你可以使用-v 选项让 curl 开启详细模式：

```sh
curl -v http://example.com
```

-v 在这里用作“短选项”。你用减号和紧随其后的单个字母来写这些选项。许多选项只是开关，用于打开或改变两个已知状态之间的某个东西。它们可以用那个选项名来使用。然后你也可以在减号后组合几个单字母选项。要请求详细模式和 curl 跟随 HTTP 重定向：

```sh
curl -vL http://example.com
```

curl 的命令行解析器始终解析整行，你可以将选项放在你喜欢的任何位置；它们也可以出现在 URL 之后：

```sh
curl http://example.com -Lv
```

当然，两个单独的短选项也可以分别指定，例如：

```sh
curl -v -L http://example.com
```

## 长选项

单字母选项很方便，因为它们书写和使用的速度都很快，但由于字母表中的字母数量有限，而且有许多东西需要控制，并非所有选项都像这样可用。因此，为这些提供了长选项名。此外，为了方便和允许脚本更具可读性，大多数短选项都有更长的别名。

长选项总是用两个减号（或称为“短划线”，根据你更喜欢叫什么）然后是名称，并且每个双减号只能写一个选项名。使用长选项格式请求详细模式看起来如下：

```sh
curl --verbose http://example.com
```

并且使用长格式请求 HTTP 重定向看起来如下：

```sh
curl --verbose --location http://example.com
```

## 选项的参数

并非所有选项都是简单的布尔标志，用于启用或禁用功能。对于其中一些，你需要传递数据，比如可能是一个用户名或文件路径。你可以通过首先写选项，然后写参数，并用空格分隔来实现。例如，如果你想通过 HTTP POST 发送一个任意字符串数据到服务器：

```sh
curl -d arbitrary http://example.com
```

即使你使用选项的长格式，它也以相同的方式工作：

```sh
curl --data arbitrary http://example.com
```

当使用带参数的短选项时，实际上你也可以在不使用空格分隔符的情况下写入数据：

```sh
curl -darbitrary http://example.com
```

## 带空格的参数

有时候你想要向一个选项传递一个参数，而这个参数包含一个或多个空格。例如，你想要设置 curl 使用的用户代理字段为“我是你的父亲”，包括这三个空格。那么，当你通过命令行将字符串传递给 curl 时，你需要将字符串放在引号内。使用的引号取决于你的 shell/命令提示符，但通常在大多数地方使用双引号即可：

```sh
curl -A "I am your father" http://example.com
```

如果没有使用引号，比如你这样写命令行：

```sh
curl -A I am your father http://example.com
```

… 使得 curl 只使用 ‘I’ 作为用户代理字符串，而下面的字符串，`am`、`your` 和 `father` 由于它们不以 `-` 开头，因此被视为独立的 URL，而 curl 只处理选项和 URL。

要使字符串本身包含双引号，这在例如你想向服务器发送 JSON 字符串时很常见，你可能需要使用单引号（除了在 Windows 上，那里的单引号工作方式不同）。发送 JSON 字符串 `{ "name": "Darth" }`：

```sh
curl -d '{ "name": "Darth" }' http://example.com
```

或者，如果你想避免单引号的问题，你可能更喜欢通过文件将数据发送给 curl，这样就不需要额外的引号。假设我们称这个文件为‘json’，它包含上述提到的数据：

```sh
curl -d @json http://example.com
```

## 负面选项

对于那些可以开启的选项，也有一种方法可以将其关闭。这时，你需要在选项名称前加上一个初始的 `no-` 前缀来使用选项的长格式。例如，要关闭详细模式：

```sh
curl --no-verbose http://example.com
```
