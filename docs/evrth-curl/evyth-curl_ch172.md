# 请求目标

当给定一个如 `http://example.com/file` 的输入 URL 时，URL 的路径部分会被提取出来，并在 HTTP 请求行中转换为 `/file`。在 HTTP 协议中，这个协议项被称为 *请求目标*。这就是请求与之交互的资源。通常，这个请求目标是从 URL 中提取出来的，然后用于请求中，作为用户，你不需要考虑它。

在一些罕见的情况下，用户可能想要创新并改变这个请求目标，以这种方式改变它，而 URL 并不允许这样做。例如，HTTP OPTIONS 方法有一个专门定义的请求目标，用于与 *服务器* 相关的魔法，而不是特定的路径，它使用 `*` 来表示。是的，一个单独的星号。无法指定 URL，因此如果你想在请求目标中传递一个星号到服务器，比如用于 OPTIONS，你必须这样做：

```sh
curl -X OPTIONS --request-target "*" http://example.com/
```

那个示例命令行使得发出的 HTTP 请求的第一行看起来像这样：

```sh
OPTIONS * HTTP/1.1
```

## –path-as-is

URL 的路径部分是从主机名后的第一个斜杠开始的部分，它要么在 URL 的末尾结束，要么在 ‘?’ 或 ‘#’（大致上）处结束。

如果你将包括 `/../` 或 `/./` 的子字符串包含在路径中，curl 会自动在将路径发送到服务器之前将其压缩，这是根据标准以及这些字符串在本地文件系统中通常的工作方式所决定的。`/../` 序列会移除前面的部分，因此 `/hello/sir/../` 最终变为 `/hello/`，而 `/./` 则被简单地移除，因此 `/hello/./sir/` 变为 `/hello/sir/`。

为了 *防止* curl 在将那些魔法序列发送到服务器之前压缩它们，从而允许它们通过，存在 `--path-as-is` 选项。

欺骗服务器交付其 `/etc/passwd` 文件的拙劣尝试：

```sh
curl --path-as-is https://example.com/../../etc/passwd
```
