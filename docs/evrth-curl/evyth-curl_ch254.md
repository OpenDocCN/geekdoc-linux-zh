# 多路复用

HTTP 版本 2 和 3 提供了“多路复用”功能。使用此协议特性，HTTP 客户端可以在同一个单一连接上对服务器进行多个并发传输。这一特性在 HTTP 协议的早期版本中并不存在。在早期的 HTTP 版本中，客户端要么必须创建多个连接，要么必须按顺序逐个进行传输。

libcurl 支持 HTTP/2 和 HTTP/3 的 HTTP 多路复用。

确保您使用多接口对支持 HTTP 多路复用的服务器进行多个传输。libcurl 只能在后续传输使用相同主机名时进行多路复用。

对于所有实际用途和 API 行为，应用程序无需关心是否进行了多路复用。

libcurl 默认启用多路复用，但如果您同时开始多个传输，它们会优先考虑短期速度，因此可能会打开新的连接，而不是等待另一个传输创建连接以便进行多路复用。要告诉 libcurl 优先考虑多路复用，请使用`curl_easy_setopt()`为传输设置`CURLOPT_PIPEWAIT`选项。

使用`curl_multi_setopt()`的选项`CURLMOPT_PIPELINING`，您可以禁用特定多处理句柄的多路复用。
