# 请求速率限制

当在单个命令行中指示执行多个传输时，有时用户可能更希望这些多个传输以比尽可能快更慢的速度完成。我们称之为*请求速率限制*。

使用`--rate`选项，您指定 curl 允许使用的最大传输频率 - 每时间单位内的传输启动次数（有时称为请求速率）。没有此选项时，curl 会尽可能快地启动下一个传输。

如果提供了多个 URL 并且传输完成速度超过允许的速率，curl 将延迟启动下一个传输以保持请求的速率。此选项适用于串行传输，当使用–parallel 时没有效果。

请求速率以**N/U**提供，其中 N 是一个整数，U 是一个时间单位。支持的单位是`s`（秒）、`m`（分钟）、`h`（小时）和`d`（天，如 24 小时单位）。如果没有提供**/U**，默认时间单位是每小时传输次数。

如果 curl 被指示允许每分钟 10 个请求，它不会在上一传输开始后的 6 秒内启动下一个请求。

此功能使用毫秒分辨率。如果允许的频率设置为每秒超过 1000，则它将不受限制地运行。

当使用–retry 启用重试时，将使用单独的重试延迟逻辑，而不是此设置。

如果此选项使用多次，则使用最后一个。

例如，让 curl 下载 100 张图片，但不要快于每秒 2 次传输：

```sh
curl --rate 2/s -O https://example.com/[1-100].jpg
```

让 curl 下载 10 张图片，但不要快于每小时 3 次传输：

```sh
curl --rate 3/h -O https://example.com/[1-10].jpg
```

让 curl 下载 200 张图片，但不要快于每分钟 14 次传输：

```sh
curl --rate 14/m -O https://example.com/[1-200].jpg
```
