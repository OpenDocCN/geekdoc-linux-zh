- en: Chapter 31\. Of Zeros and Nulls
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://tldp.org/LDP/abs/html/zeros.html](https://tldp.org/LDP/abs/html/zeros.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '|   |  **Faultily faultless, icily regular, splendidly null*'
  prefs: []
  type: TYPE_NORMAL
- en: '*Dead perfection; no more.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*--Alfred Lord Tennyson**  |'
  prefs: []
  type: TYPE_NORMAL
- en: '**`/dev/zero` ... `/dev/null`**'
  prefs: []
  type: TYPE_NORMAL
- en: Uses of `/dev/null`
  prefs: []
  type: TYPE_NORMAL
- en: Think of `/dev/null` as a *black hole*. It is essentially the equivalent of
    a write-only file. Everything written to it disappears. Attempts to read or output
    from it result in nothing. All the same, `/dev/null` can be quite useful from
    both the command-line and in scripts.
  prefs: []
  type: TYPE_NORMAL
- en: Suppressing `stdout`.
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE0]  |'
  prefs: []
  type: TYPE_TB
- en: Suppressing `stderr` (from [Example 16-3](moreadv.html#EX57)).
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE1]  |'
  prefs: []
  type: TYPE_TB
- en: Suppressing output from *both* `stdout` and `stderr`.
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE2]  |'
  prefs: []
  type: TYPE_TB
- en: 'Deleting contents of a file, but preserving the file itself, with all attendant
    permissions (from [Example 2-1](sha-bang.html#EX1) and [Example 2-3](sha-bang.html#EX2)):'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE3]  |'
  prefs: []
  type: TYPE_TB
- en: 'Automatically emptying the contents of a logfile (especially good for dealing
    with those nasty "cookies" sent by commercial Web sites):'
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 31-1\. Hiding the cookie jar**'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE4]  |'
  prefs: []
  type: TYPE_TB
- en: Uses of `/dev/zero`
  prefs: []
  type: TYPE_NORMAL
- en: Like `/dev/null`, `/dev/zero` is a pseudo-device file, but it actually produces
    a stream of nulls (*binary* zeros, not the [ASCII](special-chars.html#ASCIIDEF)
    kind). Output written to `/dev/zero` disappears, and it is fairly difficult to
    actually read the nulls emitted there, though it can be done with [od](extmisc.html#ODREF)
    or a hex editor. The chief use of `/dev/zero` is creating an initialized dummy
    file of predetermined length intended as a temporary swap file.
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 31-2\. Setting up a swapfile using `/dev/zero`**'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE5]  |'
  prefs: []
  type: TYPE_TB
- en: Another application of `/dev/zero` is to "zero out" a file of a designated size
    for a special purpose, such as mounting a filesystem on a [loopback device](devref1.html#LOOPBACKREF)
    (see [Example 17-8](system.html#CREATEFS)) or "securely" deleting a file (see
    [Example 16-61](extmisc.html#BLOTOUT)).
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 31-3\. Creating a ramdisk**'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE6]  |'
  prefs: []
  type: TYPE_TB
- en: In addition to all the above, `/dev/zero` is needed by ELF (*Executable and
    Linking Format*) UNIX/Linux binaries.
  prefs: []
  type: TYPE_NORMAL
