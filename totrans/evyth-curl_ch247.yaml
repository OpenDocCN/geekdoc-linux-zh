- en: Requests
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: An HTTP request is what curl sends to the server when it tells the server what
    to do. When it wants to get data or send data. All transfers involving HTTP start
    with an HTTP request.
  prefs: []
  type: TYPE_NORMAL
- en: An HTTP request contains a method, a path, HTTP version and a set of request
    headers. A libcurl-using application can tweak all those fields.
  prefs: []
  type: TYPE_NORMAL
- en: Request method
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Every HTTP request contains a “method”, sometimes referred to as a “verb”. It
    is usually something like GET, HEAD, POST or PUT but there are also more esoteric
    ones like DELETE, PATCH and OPTIONS.
  prefs: []
  type: TYPE_NORMAL
- en: Usually when you use libcurl to set up and perform a transfer the specific request
    method is implied by the options you use. If you just ask for a URL, it means
    the method is `GET` while if you set for example `CURLOPT_POSTFIELDS` that makes
    libcurl use the `POST` method. If you set `CURLOPT_UPLOAD` to true, libcurl sends
    a `PUT` method in its HTTP request and so on. Asking for `CURLOPT_NOBODY` makes
    libcurl use `HEAD`.
  prefs: []
  type: TYPE_NORMAL
- en: 'However, sometimes those default HTTP methods are not good enough or simply
    not the ones you want your transfer to use. Then you can instruct libcurl to use
    the specific method you like with `CURLOPT_CUSTOMREQUEST`. For example, you want
    to send a `DELETE` method to the URL of your choice:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The CURLOPT_CUSTOMREQUEST setting should only be the single keyword to use as
    method in the HTTP request line. If you want to change or add additional HTTP
    request headers, see the following section.
  prefs: []
  type: TYPE_NORMAL
- en: Customize HTTP request headers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When libcurl issues HTTP requests as part of performing the data transfers you
    have asked it to, it sends them off with a set of HTTP headers that are suitable
    for fulfilling the task given to it.
  prefs: []
  type: TYPE_NORMAL
- en: 'If just given the URL `http://localhost/file1.txt`, libcurl sends the following
    request to the server:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'If you instruct your application to also set `CURLOPT_POSTFIELDS` to the string
    “foobar” (6 letters, the quotes only used for visual delimiters here), it would
    send the following headers:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: If you are not pleased with the default set of headers libcurl sends, the application
    has the power to add, change or remove headers in the HTTP request.
  prefs: []
  type: TYPE_NORMAL
- en: Add a header
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To add a header that would not otherwise be in the request, add it with `CURLOPT_HTTPHEADER`.
    Suppose you want a header called `Name:` that contains `Mr. Smith`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Change a header
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If one of those default headers are not to your satisfaction you can alter
    them. Like if you think the default `Host:` header is wrong (even though it is
    derived from the URL you give libcurl), you can tell libcurl your own:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Remove a header
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'When you think libcurl uses a header in a request that you really think it
    should not, you can easily tell it to just remove it from the request. Like if
    you want to take away the `Accept:` header. Just provide the header name with
    nothing to the right sight of the colon:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Provide a header without contents
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'As you may then have noticed in the above sections, if you try to add a header
    with no contents on the right side of the colon, it is treated as a removal instruction
    and it instead completely inhibits that header from being sent. If you instead
    *truly* want to send a header with zero contents on the right side, you need to
    use a special marker. You must provide the header with a semicolon instead of
    a proper colon. Like `Header;`. If you want to add a header to the outgoing HTTP
    request that is just `Moo:` with nothing following the colon, you could write
    it like:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Referrer
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The `Referer:` header (yes, it is misspelled) is a standard HTTP header that
    tells the server from which URL the user-agent was directed from when it arrived
    at the URL it now requests. It is a normal header so you can set it yourself with
    the `CURLOPT_HEADER` approach as shown above, or you can use the shortcut known
    as `CURLOPT_REFERER`. Like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Automatic referrer
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'When libcurl is asked to follow redirects itself with the `CURLOPT_FOLLOWLOCATION`
    option, and you still want to have the `Referer:` header set to the correct previous
    URL from where it did the redirect, you can ask libcurl to set that by itself:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
