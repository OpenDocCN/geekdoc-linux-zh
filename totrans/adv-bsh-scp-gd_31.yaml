- en: Chapter 26\. List Constructs
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://tldp.org/LDP/abs/html/list-cons.html](https://tldp.org/LDP/abs/html/list-cons.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The *and list* and *or list* constructs provide a means of processing a number
    of commands consecutively. These can effectively replace complex nested [if/then](testconstructs.html#TESTCONSTRUCTS1)
    or even [case](testbranch.html#CASEESAC1) statements.
  prefs: []
  type: TYPE_NORMAL
- en: '**Chaining together commands**'
  prefs: []
  type: TYPE_NORMAL
- en: and list
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE0]  |'
  prefs: []
  type: TYPE_TB
- en: Each command executes in turn, provided that the previous command has given
    a return value of `*true*` (zero). At the first `*false*` (non-zero) return, the
    command chain terminates (the first command returning `*false*` is the last one
    to execute).
  prefs: []
  type: TYPE_NORMAL
- en: 'An interesting use of a two-condition *and list* from an early version of YongYe''s
    [Tetris game script](http://bash.deta.in/Tetris_Game.sh):'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE1]  |'
  prefs: []
  type: TYPE_TB
- en: '**Example 26-1\. Using an *and list* to test for command-line arguments**'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE2]  |'
  prefs: []
  type: TYPE_TB
- en: '**Example 26-2\. Another command-line arg test using an *and list***'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE3]  |'
  prefs: []
  type: TYPE_TB
- en: Of course, an *and list* can also *set* variables to a default value.
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE4]  |'
  prefs: []
  type: TYPE_TB
- en: or list
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE5]  |'
  prefs: []
  type: TYPE_TB
- en: Each command executes in turn for as long as the previous command returns false.
    At the first true return, the command chain terminates (the first command returning
    true is the last one to execute). This is obviously the inverse of the "and list".
  prefs: []
  type: TYPE_NORMAL
- en: '**Example 26-3\. Using *or lists* in combination with an *and list***'
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE6]  |'
  prefs: []
  type: TYPE_TB
- en: '| ![Caution](../Images/05aa79b283e0d53b5a94a522ee0b6cfe.png) | If the first
    command in an *or list* returns true, it `*will*` execute. |'
  prefs: []
  type: TYPE_TB
- en: '|  [PRE7]  |'
  prefs: []
  type: TYPE_TB
- en: '| ![Important](../Images/d8e2c61a4ebc25a8846b6825b6029167.png) | The [exit
    status](exit-status.html#EXITSTATUSREF) of an `**and list**` or an `**or list**`
    is the exit status of the last command executed. |'
  prefs: []
  type: TYPE_TB
- en: Clever combinations of *and* and *or* lists are possible, but the logic may
    easily become convoluted and require close attention to [operator precedence rules](opprecedence.html#OPPRECEDENCE1),
    and possibly extensive debugging.
  prefs: []
  type: TYPE_NORMAL
- en: '|  [PRE8]  |'
  prefs: []
  type: TYPE_TB
- en: See [Example A-7](contributed-scripts.html#DAYSBETWEEN) and [Example 7-4](fto.html#BROKENLINK)
    for illustrations of using `**and / or list**` constructs to test variables.
  prefs: []
  type: TYPE_NORMAL
