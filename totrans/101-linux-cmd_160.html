<html><head></head><body>
    <div style="page-break-after: always;"/>
    <h1>The <code>cfdisk</code> command</h1>
    <p>The <code>cfdisk</code> command is a curses-based disk partitioning tool for Linux. It provides a user-friendly, text-based interface for creating, deleting, and managing disk partitions. Unlike <code>fdisk</code>, <code>cfdisk</code> offers a more intuitive menu-driven approach.</p>
    <h2>Syntax</h2>
    <pre>
      <code class="language- hljs " data-lang="">cfdisk [options] [device]
</code>
    </pre>
    <h2>Key Features</h2>
    <ul>
      <li><strong>Interactive Interface</strong>: Menu-driven partition management</li>
      <li><strong>Real-time Display</strong>: Shows current partition table</li>
      <li><strong>Safe Operations</strong>: Requires explicit write command to save changes</li>
      <li><strong>Multiple File Systems</strong>: Supports various partition types</li>
      <li><strong>Resize Support</strong>: Can resize existing partitions</li>
    </ul>
    <h2>Basic Usage</h2>
    <h3>Starting cfdisk</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Open cfdisk on primary disk</span>
sudo cfdisk /dev/sda

<span class="hljs-comment"># Open cfdisk on secondary disk</span>
sudo cfdisk /dev/sdb

<span class="hljs-comment"># Auto-detect and use first available disk</span>
sudo cfdisk
</code>
    </pre>
    <h3>Navigation</h3>
    <ul>
      <li><strong>Up/Down Arrows</strong>: Navigate between partitions</li>
      <li><strong>Left/Right Arrows</strong>: Navigate between menu options</li>
      <li><strong>Enter</strong>: Select menu option</li>
      <li><strong>Tab</strong>: Move between interface elements</li>
    </ul>
    <h2>Menu Options</h2>
    <h3>Main Operations</h3>
    <ul>
      <li><strong>New</strong>: Create a new partition</li>
      <li><strong>Delete</strong>: Delete selected partition</li>
      <li><strong>Resize</strong>: Resize selected partition</li>
      <li><strong>Type</strong>: Change partition type</li>
      <li><strong>Write</strong>: Write changes to disk</li>
      <li><strong>Quit</strong>: Exit without saving (if no changes written)</li>
    </ul>
    <h3>Additional Options</h3>
    <ul>
      <li><strong>Bootable</strong>: Toggle bootable flag</li>
      <li><strong>Verify</strong>: Check partition table consistency</li>
      <li><strong>Print</strong>: Display partition information</li>
    </ul>
    <h2>Common Tasks</h2>
    <h3>1. Creating a New Partition</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Start cfdisk</span>
sudo cfdisk /dev/sdb

<span class="hljs-comment"># Steps in cfdisk:</span>
<span class="hljs-comment"># 1. Select "New" from menu</span>
<span class="hljs-comment"># 2. Choose partition size</span>
<span class="hljs-comment"># 3. Select partition type (primary/extended)</span>
<span class="hljs-comment"># 4. Choose partition type (Linux, swap, etc.)</span>
<span class="hljs-comment"># 5. Select "Write" to save changes</span>
<span class="hljs-comment"># 6. Type "yes" to confirm</span>
<span class="hljs-comment"># 7. Select "Quit" to exit</span>
</code>
    </pre>
    <h3>2. Deleting a Partition</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash">
        <span class="hljs-comment"># In cfdisk interface:</span>
        <span class="hljs-comment"># 1. Navigate to partition to delete</span>
        <span class="hljs-comment"># 2. Select "Delete" from menu</span>
        <span class="hljs-comment"># 3. Confirm deletion</span>
        <span class="hljs-comment"># 4. Select "Write" to save changes</span>
        <span class="hljs-comment"># 5. Type "yes" to confirm</span>
      </code>
    </pre>
    <h3>3. Changing Partition Type</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash">
        <span class="hljs-comment"># In cfdisk interface:</span>
        <span class="hljs-comment"># 1. Navigate to target partition</span>
        <span class="hljs-comment"># 2. Select "Type" from menu</span>
        <span class="hljs-comment"># 3. Choose new partition type from list</span>
        <span class="hljs-comment"># 4. Select "Write" to save changes</span>
      </code>
    </pre>
    <h2>Common Partition Types</h2>
    <h3>Linux Partition Types</h3>
    <ul>
      <li><strong>83</strong>: Linux filesystem</li>
      <li><strong>82</strong>: Linux swap</li>
      <li><strong>8e</strong>: Linux LVM</li>
      <li><strong>fd</strong>: Linux RAID autodetect</li>
    </ul>
    <h3>Other Common Types</h3>
    <ul>
      <li><strong>07</strong>: NTFS/HPFS</li>
      <li><strong>0c</strong>: FAT32 LBA</li>
      <li><strong>ef</strong>: EFI System Partition</li>
      <li><strong>01</strong>: FAT12</li>
    </ul>
    <h2>Command Line Options</h2>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Show help</span>
cfdisk --<span class="hljs-built_in">help</span>

<span class="hljs-comment"># Show version</span>
cfdisk --version

<span class="hljs-comment"># Use alternative device</span>
cfdisk /dev/sdc

<span class="hljs-comment"># Start with specific partition table type</span>
cfdisk -t gpt /dev/sdb
cfdisk -t dos /dev/sdb
</code>
    </pre>
    <h2>Practical Examples</h2>
    <h3>1. Partitioning a New USB Drive</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Insert USB drive (assume it's /dev/sdc)</span><span class="hljs-comment"># Check device name</span>
lsblk

<span class="hljs-comment"># Start cfdisk</span>
sudo cfdisk /dev/sdc

<span class="hljs-comment"># Create new partition table if needed</span>
<span class="hljs-comment"># Create partitions as needed</span>
<span class="hljs-comment"># Write changes and quit</span>
</code>
    </pre>
    <h3>2. Adding Swap Partition</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Start cfdisk on target disk</span>
sudo cfdisk /dev/sda

<span class="hljs-comment"># Create new partition</span>
<span class="hljs-comment"># Set type to "82" (Linux swap)</span>
<span class="hljs-comment"># Write changes</span>

<span class="hljs-comment"># Format as swap</span>
sudo mkswap /dev/sda3

<span class="hljs-comment"># Enable swap</span>
sudo swapon /dev/sda3
</code>
    </pre>
    <h3>3. Preparing Disk for LVM</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Start cfdisk</span>
sudo cfdisk /dev/sdb

<span class="hljs-comment"># Create partition</span>
<span class="hljs-comment"># Set type to "8e" (Linux LVM)</span>
<span class="hljs-comment"># Write changes</span>

<span class="hljs-comment"># Create physical volume</span>
sudo pvcreate /dev/sdb1
</code>
    </pre>
    <h2>Safety Features</h2>
    <h3>1. Change Tracking</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash">
        <span class="hljs-comment"># cfdisk tracks all changes</span>
        <span class="hljs-comment"># Shows asterisk (*) next to modified partitions</span>
        <span class="hljs-comment"># Changes only applied when "Write" is selected</span>
      </code>
    </pre>
    <h3>2. Confirmation Required</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash">
        <span class="hljs-comment"># Writing changes requires typing "yes"</span>
        <span class="hljs-comment"># Provides final warning before applying changes</span>
        <span class="hljs-comment"># Can quit without saving if no "Write" performed</span>
      </code>
    </pre>
    <h3>3. Verification</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash">
        <span class="hljs-comment"># Built-in partition table verification</span>
        <span class="hljs-comment"># Warns about potential issues</span>
        <span class="hljs-comment"># Suggests corrections for problems</span>
      </code>
    </pre>
    <h2>Working with Different Partition Tables</h2>
    <h3>1. GPT (GUID Partition Table)</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Create GPT partition table</span>
sudo cfdisk -t gpt /dev/sdb

<span class="hljs-comment"># Features:</span>
<span class="hljs-comment"># - Supports &gt;2TB disks</span>
<span class="hljs-comment"># - Up to 128 partitions</span>
<span class="hljs-comment"># - Backup partition table</span>
<span class="hljs-comment"># - 64-bit LBA addressing</span>
</code>
    </pre>
    <h3>2. MBR/DOS Partition Table</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Create MBR partition table</span>
sudo cfdisk -t dos /dev/sdb

<span class="hljs-comment"># Limitations:</span>
<span class="hljs-comment"># - 4 primary partitions maximum</span>
<span class="hljs-comment"># - 2TB disk size limit</span>
<span class="hljs-comment"># - Extended partitions for &gt;4 partitions</span>
</code>
    </pre>
    <h2>Integration with Other Tools</h2>
    <h3>1. After Partitioning</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Verify partition creation</span>
lsblk /dev/sdb
fdisk -l /dev/sdb

<span class="hljs-comment"># Format partitions</span>
sudo mkfs.ext4 /dev/sdb1
sudo mkfs.xfs /dev/sdb2

<span class="hljs-comment"># Mount partitions</span>
sudo mkdir /mnt/partition1
sudo mount /dev/sdb1 /mnt/partition1
</code>
    </pre>
    <h3>2. Backup Before Changes</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Backup partition table before changes</span>
sudo sfdisk -d /dev/sdb &gt; sdb_partition_backup.txt

<span class="hljs-comment"># Restore if needed</span>
sudo sfdisk /dev/sdb &lt; sdb_partition_backup.txt
</code>
    </pre>
    <h2>Troubleshooting</h2>
    <h3>1. Permission Issues</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Must run as root or with sudo</span>
sudo cfdisk /dev/sdb

<span class="hljs-comment"># Check device permissions</span>
ls -l /dev/sdb
</code>
    </pre>
    <h3>2. Device Busy</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Unmount all partitions on device first</span>
sudo umount /dev/sdb1
sudo umount /dev/sdb2

<span class="hljs-comment"># Check for active processes</span>
lsof /dev/sdb*
</code>
    </pre>
    <h3>3. Partition Table Corruption</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Verify partition table</span>
sudo cfdisk /dev/sdb

<span class="hljs-comment"># If corrupted, recreate partition table</span>
<span class="hljs-comment"># (This will destroy all data!)</span>
sudo cfdisk -t gpt /dev/sdb  <span class="hljs-comment"># For GPT</span>
sudo cfdisk -t dos /dev/sdb  <span class="hljs-comment"># For MBR</span>
</code>
    </pre>
    <h2>Best Practices</h2>
    <h3>1. Always Backup</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Backup important data before partitioning</span><span class="hljs-comment"># Create partition table backup</span>
sudo sfdisk -d /dev/sdb &gt; partition_backup.txt
</code>
    </pre>
    <h3>2. Verify Device</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash"><span class="hljs-comment"># Double-check device name before starting</span>
lsblk
fdisk -l

<span class="hljs-comment"># Ensure you're working on correct disk</span>
</code>
    </pre>
    <h3>3. Plan Partition Layout</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash">
        <span class="hljs-comment"># Plan your partition scheme:</span>
        <span class="hljs-comment"># - Root partition (/)</span>
        <span class="hljs-comment"># - Swap partition</span>
        <span class="hljs-comment"># - Home partition (/home)</span>
        <span class="hljs-comment"># - Boot partition (/boot) if needed</span>
      </code>
    </pre>
    <h3>4. Consider Alignment</h3>
    <pre>
      <code class="language-bash hljs bash" data-lang="bash">
        <span class="hljs-comment"># Modern cfdisk handles alignment automatically</span>
        <span class="hljs-comment"># Uses 1MB alignment by default</span>
        <span class="hljs-comment"># Optimal for SSDs and advanced format drives</span>
      </code>
    </pre>
    <h2>Comparison with Other Tools</h2>
    <h3>vs fdisk</h3>
    <ul>
      <li><strong>cfdisk</strong>: Menu-driven, user-friendly</li>
      <li><strong>fdisk</strong>: Command-driven, more scriptable</li>
    </ul>
    <h3>vs parted</h3>
    <ul>
      <li><strong>cfdisk</strong>: Simpler interface, basic operations</li>
      <li><strong>parted</strong>: More advanced features, command-line scriptable</li>
    </ul>
    <h3>vs gparted</h3>
    <ul>
      <li><strong>cfdisk</strong>: Text-based, lightweight</li>
      <li><strong>gparted</strong>: Graphical interface, requires X11</li>
    </ul>
    <h2>Important Notes</h2>
    <ul>
      <li>Always unmount partitions before modifying them</li>
      <li>Changes are not written until you explicitly choose "Write"</li>
      <li>Backup important data before making partition changes</li>
      <li>Some operations may require a system reboot to take effect</li>
      <li>Be extremely careful when working with system disks</li>
      <li>Consider using LVM for more flexible partition management</li>
    </ul>
    <p>The <code>cfdisk</code> command provides an excellent balance between ease of use and functionality for disk partitioning tasks.</p>
    <p>For more details, check the manual: <code>man cfdisk</code></p>
  </body></html>