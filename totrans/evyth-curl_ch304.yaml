- en: Tags
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Each test is always specified entirely within the `<testcase>` tag. Each test
    case is further split up into four main sections: `info`, `reply`, `client` and
    `verify`.'
  prefs: []
  type: TYPE_NORMAL
- en: '**info** provides information about the test case'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**reply** is used for the server to know what to send as a reply for the requests
    curl sends'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**client** defines how the client should behave'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**verify** defines how to verify that the data stored after a command has been
    run ended up correctly'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Each main section supports a number of available *sub-tags* that can be specified,
    that are checked/used if specified.
  prefs: []
  type: TYPE_NORMAL
- en: '`<info>`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '`<keywords>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: A newline-separated list of keywords describing what this test case uses and
    tests. Try to use already used keywords. These keywords are used for statistical/informational
    purposes and for choosing or skipping classes of tests. “Keywords” must begin
    with an alphabetic character, “-”, “[” or “{” and may consist of multiple words
    separated by spaces which are treated together as a single identifier.
  prefs: []
  type: TYPE_NORMAL
- en: When using curl built with Hyper, the keywords must include HTTP or HTTPS for
    ‘hyper mode’ to kick in and make line ending checks work for tests.
  prefs: []
  type: TYPE_NORMAL
- en: '`<reply>`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '`<data [nocheck="yes"] [sendzero="yes"] [base64="yes"] [hex="yes"] [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: data to be sent to the client on its request and later verified that it arrived
    safely. Set `nocheck="yes"` to prevent the test script from verifying the arrival
    of this data.
  prefs: []
  type: TYPE_NORMAL
- en: If the data contains `swsclose` anywhere within the start and end tag, and this
    is an HTTP test, then the connection is closed by the server after this response
    is sent. If not, the connection is kept persistent.
  prefs: []
  type: TYPE_NORMAL
- en: If the data contains `swsbounce` anywhere within the start and end tag, the
    HTTP server detects if this is a second request using the same test and part number
    and then increases the part number with one. This is useful for auth tests and
    similar.
  prefs: []
  type: TYPE_NORMAL
- en: '`sendzero=yes` means that the (FTP) server “sends” the data even if the size
    is zero bytes. Used to verify curl’s behavior on zero bytes transfers.'
  prefs: []
  type: TYPE_NORMAL
- en: '`base64=yes` means that the data provided in the test-file is a chunk of data
    encoded with base64\. It is the only way a test case can contain binary data.
    (This attribute can in fact be used on any section, but it does not make much
    sense for other sections than “data”).'
  prefs: []
  type: TYPE_NORMAL
- en: '`hex=yes` means that the data is a sequence of hex pairs. It gets decoded and
    used as “raw” data.'
  prefs: []
  type: TYPE_NORMAL
- en: '`nonewline=yes` means that the last byte (the trailing newline character) should
    be cut off from the data before sending or comparing it.'
  prefs: []
  type: TYPE_NORMAL
- en: For FTP file listings, the `<data>` section is used *only* if you make sure
    that there has been a CWD done first to a directory named `test-[number]` where
    `[number]` is the test case number. Otherwise the ftp server cannot know from
    which test file to load the list content.
  prefs: []
  type: TYPE_NORMAL
- en: '`<dataNUMBER>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Send back this contents instead of the <data>one. The number `NUMBER` is set
    by:</data>
  prefs: []
  type: TYPE_NORMAL
- en: The test number in the request line is >10000 and this is the remainder of [test
    case number]%10000.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The request was HTTP and included digest details, which adds 1000 to the number
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If an HTTP request is NTLM type-1, it adds 1001 to the number
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If an HTTP request is NTLM type-3, it adds 1002 to the number
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If an HTTP request is Basic and the number is already >=1000, it adds 1
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If an HTTP request is Negotiate, the number gets incremented by one for each
    request with Negotiate authorization header on the same test case.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dynamically changing the test number in this way allows the test harness to
    be used to test authentication negotiation where several different requests must
    be sent to complete a transfer. The response to each request is found in its own
    data section. Validating the entire negotiation sequence can be done by specifying
    a `datacheck` section.
  prefs: []
  type: TYPE_NORMAL
- en: '`<connect>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The connect section is used instead of the ‘data’ for all CONNECT requests.
    The remainder of the rules for the data section then apply but with a connect
    prefix.
  prefs: []
  type: TYPE_NORMAL
- en: '`<socks>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Address type and address details as logged by the SOCKS proxy.
  prefs: []
  type: TYPE_NORMAL
- en: '`<datacheck [mode="text"] [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: if the data is sent but this is what should be checked afterwards. If `nonewline=yes`
    is set, runtests cuts off the trailing newline from the data before comparing
    with the one actually received by the client.
  prefs: []
  type: TYPE_NORMAL
- en: Use the `mode="text"` attribute if the output is in text mode on platforms that
    have a text/binary difference.
  prefs: []
  type: TYPE_NORMAL
- en: '`<datacheckNUM [nonewline="yes"] [mode="text"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The contents of numbered `datacheck` sections are appended to the non-numbered
    one.
  prefs: []
  type: TYPE_NORMAL
- en: '`<size>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: number to return on an ftp SIZE command (set to -1 to make this command fail)
  prefs: []
  type: TYPE_NORMAL
- en: '`<mdtm>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: what to send back if the client sends an FTP `MDTM` command, set to -1 to have
    it return that the file does not exist
  prefs: []
  type: TYPE_NORMAL
- en: '`<postcmd>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'special purpose server-command to control its behavior *after* the reply is
    sent For HTTP/HTTPS, these are supported:'
  prefs: []
  type: TYPE_NORMAL
- en: '`wait [secs]` - Pause for the given time'
  prefs: []
  type: TYPE_NORMAL
- en: '`<servercmd>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Special-commands for the server.
  prefs: []
  type: TYPE_NORMAL
- en: The first line of this file is always set to `Testnum [number]` by the test
    script, to allow servers to read that to know what test the client is about to
    issue.
  prefs: []
  type: TYPE_NORMAL
- en: For FTP/SMTP/POP/IMAP
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`REPLY [command] [return value] [response string]` - Changes how the server
    responds to the [command]. [response string] is evaluated as a perl string, so
    it can contain embedded `\r\n`, for example. There is a special [command] named
    “welcome” (without quotes) which is the string sent immediately on connect as
    a welcome.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`REPLYLF` (like above but sends the response terminated with LF-only and not
    CRLF)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`COUNT [command] [number]` - Do the `REPLY` change for `[command]` only `[number]`
    times and then go back to the built-in approach'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`DELAY [command] [secs]` - Delay responding to this command for the given time'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`RETRWEIRDO` - Enable the “weirdo” RETR case when multiple response lines appear
    at once when a file is transferred'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`RETRNOSIZE` - Make sure the RETR response does not contain the size of the
    file'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`NOSAVE` - Do not save what is received'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SLOWDOWN` - Send FTP responses with 0.01 sec delay between each byte'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`PASVBADIP` - makes PASV send back an illegal IP in its 227 response'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`CAPA [capabilities]` - Enables support for and specifies a list of space separated
    capabilities to return to the client for the IMAP `CAPABILITY`, POP3 `CAPA` and
    SMTP `EHLO` commands'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`AUTH [mechanisms]` - Enables support for SASL authentication and specifies
    a list of space separated mechanisms for IMAP, POP3 and SMTP'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`STOR [msg]` respond with this instead of default after `STOR`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For HTTP/HTTPS
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`auth_required` if this is set and a POST/PUT is made without auth, the server
    does NOT wait for the full request body to get sent'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`idle` - do nothing after receiving the request, just “sit idle”'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`stream` - continuously send data to the client, never-ending'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`writedelay: [msecs]` delay this amount between reply packets'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`skip: [number]` - instructs the server to ignore reading this many bytes from
    a PUT or POST request'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`rtp: part [num] channel [num] size [num]` - stream a fake RTP packet for the
    given part on a chosen channel with the given payload size'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`connection-monitor` - When used, this logs `[DISCONNECT]` to the `server.input`
    log when the connection is disconnected.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`upgrade` - when an HTTP upgrade header is found, the server upgrades to http2'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`swsclose` - instruct server to close connection after response'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`no-expect` - do not read the request body if Expect: is present'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For TFTP
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`writedelay: [secs]` delay this amount between reply packets (each packet being
    512 bytes payload)'
  prefs: []
  type: TYPE_NORMAL
- en: '`<client>`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '`<server>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'What server(s) this test case requires/uses. Available servers:'
  prefs: []
  type: TYPE_NORMAL
- en: '`file`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ftp-ipv6`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ftp`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ftps`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`gopher`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`gophers`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`http-ipv6`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`http-proxy`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`http-unix`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`http/2`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`http`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`https`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`httptls+srp-ipv6`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`httptls+srp`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`imap`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`mqtt`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`none`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`pop3`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`rtsp-ipv6`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`rtsp`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`scp`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`sftp`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`smtp`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`socks4`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`socks5`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Enter only one server per line. This subsection is mandatory.
  prefs: []
  type: TYPE_NORMAL
- en: '`<features>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: A list of features that MUST be present in the client/library for this test
    to be able to run. If a required feature is not present then the test is SKIPPED.
  prefs: []
  type: TYPE_NORMAL
- en: Alternatively a feature can be prefixed with an exclamation mark to indicate
    a feature is NOT required. If the feature is present then the test is SKIPPED.
  prefs: []
  type: TYPE_NORMAL
- en: 'Features testable here are:'
  prefs: []
  type: TYPE_NORMAL
- en: '`alt-svc`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`bearssl`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`c-ares`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`cookies`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`crypto`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`debug`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`DoH`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`getrlimit`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`GnuTLS`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`GSS-API`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`h2c`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`HSTS`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`HTTP-auth`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`http/2`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`hyper`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`idn`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ipv6`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Kerberos`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`large_file`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ld_preload`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`libssh2`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`libssh`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`oldlibssh` (versions before 0.9.4)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`libz`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`manual`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Mime`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`netrc`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`NTLM`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`OpenSSL`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`parsedate`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`proxy`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`PSL`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`rustls`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Schannel`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`sectransp`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`shuffle-dns`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`socks`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SPNEGO`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SSL`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SSLpinning`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SSPI`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`threaded-resolver`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`TLS-SRP`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`TrackMemory`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`typecheck`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Unicode`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`unittest`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`unix-sockets`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`verbose-strings`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`wakeup`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`win32`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`wolfssh`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`wolfssl`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: in addition to all protocols that curl supports. A protocol only needs to be
    specified if it is different from the server (useful when the server is `none`).
  prefs: []
  type: TYPE_NORMAL
- en: '`<killserver>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Using the same syntax as in `<server>` but when mentioned here these servers
    are explicitly KILLED when this test case is completed. Only use this if there
    is no other alternatives. Using this of course requires subsequent tests to restart
    servers.
  prefs: []
  type: TYPE_NORMAL
- en: '`<precheck>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: A command line that if set gets run by the test script before the test. If an
    output is displayed by the command or if the return code is non-zero, the test
    gets skipped and the (single-line) output is displayed as reason for not running
    the test.
  prefs: []
  type: TYPE_NORMAL
- en: '`<postcheck>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: A command line that if set gets run by the test script after the test. If the
    command exists with a non-zero status code, the test is considered failed.
  prefs: []
  type: TYPE_NORMAL
- en: '`<tool>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Name of tool to invoke instead of “curl”. This tool must be built and exist
    either in the `libtest/` directory (if the tool name starts with `lib`) or in
    the `unit/` directory (if the tool name starts with `unit`).
  prefs: []
  type: TYPE_NORMAL
- en: '`<name>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Brief test case description, shown when the test runs.
  prefs: []
  type: TYPE_NORMAL
- en: '`<setenv>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Set the given environment variables to the specified value before the actual
    command is run. They are cleared again after the command has been run.
  prefs: []
  type: TYPE_NORMAL
- en: '`<command [option="no-output/no-include/force-output/binary-trace"] [timeout="secs"][delay="secs"][type="perl/shell"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Command line to run.
  prefs: []
  type: TYPE_NORMAL
- en: Note that the URL that gets passed to the server actually controls what data
    that is returned. The last slash in the URL must be followed by a number. That
    number (N) is used by the test-server to load test case N and return the data
    that is defined within the `<reply><data></data></reply>` section.
  prefs: []
  type: TYPE_NORMAL
- en: If there is no test number found above, the HTTP test server uses the number
    following the last dot in the given hostname (made so that a CONNECT can still
    pass on test number) so that “foo.bar.123” gets treated as test case 123\. Alternatively,
    if an IPv6 address is provided to CONNECT, the last hexadecimal group in the address
    is used as the test number. For example the address “[1234::ff]” would be treated
    as test case 255.
  prefs: []
  type: TYPE_NORMAL
- en: Set `type="perl"` to write the test case as a perl script. It implies that there
    is no memory debugging and valgrind gets shut off for this test.
  prefs: []
  type: TYPE_NORMAL
- en: Set `type="shell"` to write the test case as a shell script. It implies that
    there is no memory debugging and valgrind gets shut off for this test.
  prefs: []
  type: TYPE_NORMAL
- en: Set `option="no-output"` to prevent the test script to slap on the `--output`
    argument that directs the output to a file. The `--output` is also not added if
    the verify/stdout section is used.
  prefs: []
  type: TYPE_NORMAL
- en: Set `option="force-output"` to make use of `--output` even when the test is
    otherwise written to verify stdout.
  prefs: []
  type: TYPE_NORMAL
- en: Set `option="no-include"` to prevent the test script to slap on the `--include`
    argument.
  prefs: []
  type: TYPE_NORMAL
- en: Set `option="binary-trace"` to use `--trace` instead of `--trace-ascii` for
    tracing. Suitable for binary-oriented protocols such as MQTT.
  prefs: []
  type: TYPE_NORMAL
- en: Set `timeout="secs"` to override default server logs advisor read lock timeout.
    This timeout is used by the test harness, once that the command has completed
    execution, to wait for the test server to write out server side log files and
    remove the lock that advised not to read them. The “secs” parameter is the not
    negative integer number of seconds for the timeout. This `timeout` attribute is
    documented for completeness sake, but is deep test harness stuff and only needed
    for specific test cases. Avoid using it.
  prefs: []
  type: TYPE_NORMAL
- en: Set `delay="secs"` to introduce a time delay once that the command has completed
    execution and before the `<postcheck>` section runs. The “secs” parameter is the
    not negative integer number of seconds for the delay. This ‘delay’ attribute is
    intended for specific test cases, and normally not needed.
  prefs: []
  type: TYPE_NORMAL
- en: '`<file name="log/filename" [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This creates the named file with this content before the test case is run, which
    is useful if the test case needs a file to act on.
  prefs: []
  type: TYPE_NORMAL
- en: If `nonewline="yes"` is used, the created file gets the final newline stripped
    off.
  prefs: []
  type: TYPE_NORMAL
- en: '`<stdin [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Pass this given data on stdin to the tool.
  prefs: []
  type: TYPE_NORMAL
- en: If `nonewline` is set, we cut off the trailing newline of this given data before
    comparing with the one actually received by the client
  prefs: []
  type: TYPE_NORMAL
- en: '`<verify>`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '`<errorcode>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: numerical error code curl is supposed to return. Specify a list of accepted
    error codes by separating multiple numbers with comma. See test 237 for an example.
  prefs: []
  type: TYPE_NORMAL
- en: '`<strip>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: One regex per line that is removed from the protocol dumps before the comparison
    is made. This is useful to remove dependencies on dynamically changing protocol
    data such as port numbers or user-agent strings.
  prefs: []
  type: TYPE_NORMAL
- en: '`<strippart>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'One perl op per line that operates on the protocol dump. This is pretty advanced.
    Example: `s/^EPRT .*/EPRT stripped/`.'
  prefs: []
  type: TYPE_NORMAL
- en: '`<protocol [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: the protocol dump curl should transmit, if `nonewline` is set, we cut off the
    trailing newline of this given data before comparing with the one actually sent
    by the client The `<strip>` and `<strippart>` rules are applied before comparisons
    are made.
  prefs: []
  type: TYPE_NORMAL
- en: '`<proxy [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The protocol dump curl should transmit to an HTTP proxy (when the http-proxy
    server is used), if `nonewline` is set, we cut off the trailing newline of this
    given data before comparing with the one actually sent by the client The `<strip>`
    and `<strippart>` rules are applied before comparisons are made.
  prefs: []
  type: TYPE_NORMAL
- en: '`<stderr [mode="text"] [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This verifies that this data was passed to stderr.
  prefs: []
  type: TYPE_NORMAL
- en: Use the `mode="text"` attribute if the output is in text mode on platforms that
    have a text/binary difference.
  prefs: []
  type: TYPE_NORMAL
- en: If `nonewline` is set, we cut off the trailing newline of this given data before
    comparing with the one actually received by the client
  prefs: []
  type: TYPE_NORMAL
- en: '`<stdout [mode="text"] [nonewline="yes"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This verifies that this data was passed to stdout.
  prefs: []
  type: TYPE_NORMAL
- en: Use the `mode="text"` attribute if the output is in text mode on platforms that
    have a text/binary difference.
  prefs: []
  type: TYPE_NORMAL
- en: If `nonewline` is set, we cut off the trailing newline of this given data before
    comparing with the one actually received by the client
  prefs: []
  type: TYPE_NORMAL
- en: '`<file name="log/filename" [mode="text"]>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The file’s contents must be identical to this after the test is complete. Use
    the `mode="text"` attribute if the output is in text mode on platforms that have
    a text/binary difference.
  prefs: []
  type: TYPE_NORMAL
- en: '`<file1>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 1 to 4 can be appended to ‘file’ to compare more files.
  prefs: []
  type: TYPE_NORMAL
- en: '`<file2>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '`<file3>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '`<file4>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '`<stripfile>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'One perl op per line that operates on the output file or stdout before being
    compared with what is stored in the test file. This is pretty advanced. Example:
    "s/^EPRT .*/EPRT stripped/"'
  prefs: []
  type: TYPE_NORMAL
- en: '`<stripfile1>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 1 to 4 can be appended to `stripfile` to strip the corresponding <filen>content</filen>
  prefs: []
  type: TYPE_NORMAL
- en: '`<stripfile2>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '`<stripfile3>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '`<stripfile4>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '`<upload>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: the contents of the upload data curl should have sent
  prefs: []
  type: TYPE_NORMAL
- en: '`<valgrind>`'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: disable - disables the valgrind log check for this test
  prefs: []
  type: TYPE_NORMAL
