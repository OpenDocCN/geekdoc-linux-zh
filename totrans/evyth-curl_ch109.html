<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch109.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="usingcurl__timeouts__md-_-_-timeouts" class="level1" data-number="108">
<h1 data-number="108">Timeouts</h1>
<p>Network operations are by their nature rather unreliable or perhaps fragile operations as they depend on a set of services and networks to be up and working for things to work. The availability of these services can come and go and the performance of them may also vary greatly from time to time.</p>
<p>The design of TCP even allows the network to get completely disconnected for an extended period of time without it necessarily getting noticed by the participants in the transfer.</p>
<p>The result of this is that sometimes Internet transfers take a long time. Further, most operations in curl have no time-out by default.</p>
<section id="usingcurl__timeouts__md-_-_-maximum-time-allowed-to-spend" class="level2" data-number="108.1">
<h2 data-number="108.1">Maximum time allowed to spend</h2>
<p>Tell curl with <code>-m / --max-time</code> the maximum time, in seconds, that you allow the command line to spend before curl exits with a timeout error code (28). When the set time has elapsed, curl exits no matter what is going on at that momentâ€”including if it is transferring data. It really is the maximum time allowed.</p>
<p>The given maximum time can be specified with a decimal precision; <code>0.5</code> means 500 milliseconds and <code>2.37</code> equals 2370 milliseconds.</p>
<p>Example:</p>
<pre><code>curl --max-time 5.5 https://example.com/</code></pre>
<p>(Your locale may use another symbol than a dot for expressing numerical fractions.)</p>
</section>
<section id="usingcurl__timeouts__md-_-_-never-spend-more-than-this-to-connect" class="level2" data-number="108.2">
<h2 data-number="108.2">Never spend more than this to connect</h2>
<p><code>--connect-timeout</code> limits the time curl spends trying to connect to the host. All the necessary steps done before the connection is considered complete have to be completed within the given time frame. Failing to connect within the given time causes curl to exit with a timeout exit code (28).</p>
<p>The steps done before a connect is considered successful include DNS lookup and subsequent TCP, TLS or QUIC handshakes.</p>
<p>The given maximum connect time can be specified with a decimal precision; <code>0.5</code> means 500 milliseconds and <code>2.37</code> equals 2370 milliseconds:</p>
<pre><code>curl --connect-timeout 2.37 https://example.com/</code></pre>
<p><span id="usingcurl__netrc__md"></span></p>
</section>
</section>
</body>
</html>
