- en: Shell Customization
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Shell 自定义
- en: 原文：[https://learnbyexample.github.io/cli-computing/shell-customization.html](https://learnbyexample.github.io/cli-computing/shell-customization.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://learnbyexample.github.io/cli-computing/shell-customization.html](https://learnbyexample.github.io/cli-computing/shell-customization.html)
- en: This chapter will discuss some of the `bash` features that you can use to customize
    the command line environment.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将讨论一些你可以用来自定义命令行环境的 `bash` 功能。
- en: '[Environment Variables](#environment-variables)'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[环境变量](#environment-variables)'
- en: 'From [wikipedia: Environment variable](https://en.wikipedia.org/wiki/Environment_variable):'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '来自 [wikipedia: 环境变量](https://en.wikipedia.org/wiki/Environment_variable):'
- en: An environment variable is a dynamic-named value that can affect the way running
    processes will behave on a computer. They are part of the environment in which
    a process runs. For example, a running process can query the value of the TEMP
    environment variable to discover a suitable location to store temporary files,
    or the HOME or USERPROFILE variable to find the directory structure owned by the
    user running the process.
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 环境变量是动态命名的值，可以影响计算机上运行进程的行为方式。它们是进程运行的环境的一部分。例如，一个正在运行的进程可以查询 TEMP 环境变量的值以发现存储临时文件的一个合适位置，或者使用
    HOME 或 USERPROFILE 变量来找到运行进程的用户拥有的目录结构。
- en: 'See [bash manual: Shell Variables](https://www.gnu.org/software/bash/manual/bash.html#Shell-Variables)
    for the complete list of `bash` variables. Some of them are presented below and
    some (`HISTCONTROL` for example) will be discussed later in this chapter.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '查看 [bash 手册: Shell 变量](https://www.gnu.org/software/bash/manual/bash.html#Shell-Variables)
    以获取 `bash` 变量的完整列表。其中一些将在本章后面讨论，例如 `HISTCONTROL`。'
- en: '`HOME` The current user''s home directory; the default for the `cd` builtin
    command. The value of this variable is also used by tilde expansion'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`HOME` 当前用户的家目录；`cd` 内置命令的默认值。此变量的值也用于波浪线展开'
- en: '`PS1` The primary prompt string. The default value is `\s-\v\$`'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PS1` 主要提示字符串。默认值是 `\s-\v\$`'
- en: '`PS2` The secondary prompt string. The default value is `>`'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PS2` 二级提示字符串。默认值是 `>`'
- en: '`PATH` A colon-separated list of directories in which the shell looks for commands.
    A zero-length (null) directory name in the value of `PATH` indicates the current
    directory. A null directory name may appear as two adjacent colons, or as an initial
    or trailing colon'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PATH` 壳层查找命令的目录列表，由冒号分隔。`PATH` 值中的零长度（空）目录名表示当前目录。空目录名可能以两个相邻的冒号出现，或以初始或结尾的冒号出现'
- en: '`PWD` The current working directory as set by the `cd` builtin'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PWD` 由 `cd` 内置命令设置当前工作目录'
- en: '`OLDPWD` The previous working directory as set by the `cd` builtin'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`OLDPWD` 由 `cd` 内置命令设置的先前工作目录'
- en: '`SHELL` This environment variable expands to the full pathname of the shell'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SHELL` 此环境变量展开为壳层的完整路径名'
- en: You can use the `printenv` command to display the name and value of all the
    environment variables. Providing arguments will display the values only for those
    variables.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `printenv` 命令显示所有环境变量的名称和值。提供参数将只显示那些变量的值。
- en: '[PRE0]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) ![warning](../Images/b5314b4a0acf0f436c4bf59486793342.png)
    It is recommended to use lowercase for user defined variable names to avoid potential
    conflict with environment variables. You might have noticed that I used only lowercase
    names in the [Shell Scripting](./shell-scripting.html) chapter.'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) ![warning](../Images/b5314b4a0acf0f436c4bf59486793342.png)
    建议使用小写字母为用户定义的变量命名，以避免与环境变量发生潜在冲突。你可能已经注意到，我在 [Shell 脚本](./shell-scripting.html)
    章节中只使用了小写名称。'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) See also [unix.stackexchange:
    How to correctly add a path to PATH?](https://unix.stackexchange.com/q/26047/109046).'
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) 参见 [unix.stackexchange:
    如何正确地将路径添加到 PATH？](https://unix.stackexchange.com/q/26047/109046)。'
- en: '[Aliases and Functions](#aliases-and-functions)'
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[别名和函数](#aliases-and-functions)'
- en: 'To create an alias, use the appropriately named `alias` command. Without any
    arguments, it will list all the currently defined aliases. If you want to know
    what an existing alias does, provide one or more names as arguments. To actually
    create an alias, give a name, followed by `=` and then the command to be aliased.
    There should be no spaces around the `=` operator. Use `type name` to check if
    that name is already taken by some command. Here are some examples:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建别名，请使用名称合适的 `alias` 命令。如果不提供任何参数，它将列出所有当前定义的别名。如果您想了解现有别名的作用，请提供一个或多个名称作为参数。要实际创建别名，给出一个名称，然后跟
    `=` 和要别名的命令。`=` 操作符周围不应有空格。使用 `type name` 检查该名称是否已被某些命令占用。以下是一些示例：
- en: '[PRE1]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Here''s how you can check what the above aliases do:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这是检查上述别名如何工作的方法：
- en: '[PRE2]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) As seen above, aliases
    have higher precedence compared to commands in the PATH. You can use a `\` prefix
    (for example `\ls`) if you want to avoid an alias and use the original command.
    You can also use `command ls` instead of the escape character.'
  id: totrans-23
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) 如上图所示，别名相对于 PATH 中的命令具有更高的优先级。如果您想避免别名并使用原始命令，可以使用
    `\` 前缀（例如 `\ls`）。您也可以使用 `command ls` 而不是转义字符。'
- en: 'If you need to pass arguments to your custom commands, use a function (or write
    a shell script). Here''s an example function:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您需要向自定义命令传递参数，请使用函数（或编写 shell 脚本）。以下是一个示例函数：
- en: '[PRE3]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) The aliases and functions
    created above will be valid only for that particular shell session. To load these
    shortcuts automatically, you need to add them to special files. See the next section
    for details.'
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) 上文中创建的别名和函数仅对特定的 shell
    会话有效。要自动加载这些快捷方式，您需要将它们添加到特殊文件中。有关详细信息，请参阅下一节。'
- en: You can use the `unalias` command to remove an alias. For functions, use the
    `unset -f` command.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 `unalias` 命令来删除别名。对于函数，请使用 `unset -f` 命令。
- en: '[PRE4]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[Config files](#config-files)'
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[配置文件](#config-files)'
- en: You can add customizations to special configuration files so that those settings
    are automatically loaded when you start an interactive shell session.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以将自定义设置添加到特殊的配置文件中，以便在启动交互式 shell 会话时自动加载这些设置。
- en: '[.bashrc](#bashrc)'
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[.bashrc](#bashrc)'
- en: 'From [bash manual: Startup Files](https://www.gnu.org/software/bash/manual/bash.html#Bash-Startup-Files):'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 来自 [bash 手册：启动文件](https://www.gnu.org/software/bash/manual/bash.html#Bash-Startup-Files)：
- en: When an interactive shell that is not a login shell is started, Bash reads and
    executes commands from `~/.bashrc`, if that file exists.
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 当启动的不是登录 shell 的交互式 shell 时，Bash 会读取并执行 `~/.bashrc` 文件中的命令，如果该文件存在的话。
- en: You'll likely have a `~/.bashrc` file provided by the Linux distro you've installed,
    with useful settings like enabling `bash` programmable completion features, aliases
    and so on. I leave the distro provided settings alone, unless they are related
    to aliases and shell options that I want to customize.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能有一个由您安装的 Linux 发行版提供的 `~/.bashrc` 文件，其中包含启用 `bash` 可编程完成功能、别名等有用的设置。我保留发行版提供的设置不变，除非它们与我想定制的别名和
    shell 选项相关。
- en: 'Some of the `shopt` customizations I use are shown below. `shopt` was discussed
    briefly in the [Shell Features](./shell-features.html) chapter. See [bash manual:
    Shopt Builtin](https://www.gnu.org/software/bash/manual/bash.html#The-Shopt-Builtin)
    for more details.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用的 `shopt` 自定义设置如下所示。`shopt` 在 [Shell 功能](./shell-features.html) 章节中简要讨论过。有关更多详细信息，请参阅
    [bash 手册：Shopt 内置函数](https://www.gnu.org/software/bash/manual/bash.html#The-Shopt-Builtin)。
- en: '[PRE5]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'I prefer a simple prompt `PS1=''$ ''` instead of fancy colors. See [bash manual:
    Controlling the Prompt](https://www.gnu.org/software/bash/manual/bash.html#Controlling-the-Prompt)
    for customization options. See also [starship](https://starship.rs/) which is
    a minimal, blazing-fast, and infinitely customizable prompt for any shell.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 我更喜欢一个简单的提示符 `PS1='$ '` 而不是花哨的颜色。有关自定义选项，请参阅 [bash 手册：控制提示符](https://www.gnu.org/software/bash/manual/bash.html#Controlling-the-Prompt)。还可以查看
    [starship](https://starship.rs/)，这是一个最小化、速度极快且无限可定制的任何 shell 的提示符。
- en: 'Some history customizations are shown below. See [bash manual: History Facilities](https://www.gnu.org/software/bash/manual/bash.html#Bash-History-Facilities)
    for more details. See also [unix.stackexchange: common history across sessions](https://unix.stackexchange.com/q/18212/109046).'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 下面显示了某些历史自定义设置。有关更多详细信息，请参阅 [bash 手册：历史功能](https://www.gnu.org/software/bash/manual/bash.html#Bash-History-Facilities)。还可以参阅
    [unix.stackexchange：会话间的常见历史](https://unix.stackexchange.com/q/18212/109046)。
- en: '[PRE6]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: For aliases and functions, I use a separate file named `~/.bash_aliases` to
    reduce clutter in the `.bashrc` file. This is not a file that is loaded automatically,
    so you need to add `source ~/.bash_aliases` command in the `.bashrc` file.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 对于别名和函数，我使用一个名为 `~/.bash_aliases` 的单独文件来减少 `.bashrc` 文件中的混乱。这不是一个自动加载的文件，因此你需要在
    `.bashrc` 文件中添加 `source ~/.bash_aliases` 命令。
- en: Some of my favorite aliases and functions are shown below. See my [.bash_aliases
    file](https://github.com/learnbyexample/scripting_course/blob/master/.bash_aliases)
    for more.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 下面展示了我的一些最喜欢的别名和函数。有关更多信息，请参阅我的 [.bash_aliases 文件](https://github.com/learnbyexample/scripting_course/blob/master/.bash_aliases)。
- en: '[PRE7]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) You can use `source`
    with `.bashrc` or `.bash_aliases` files as arguments to apply changes from such
    files to the current shell session.'
  id: totrans-43
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) 你可以使用 `source` 命令与
    `.bashrc` 或 `.bash_aliases` 文件作为参数，将此类文件中的更改应用到当前 shell 会话中。'
- en: '[.inputrc](#inputrc)'
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[.inputrc](#inputrc)'
- en: 'You can add custom key bindings to the `~/.inputrc` file. See [bash manual:
    Readline Init File](https://www.gnu.org/software/bash/manual/bash.html#Readline-Init-File)
    for more details.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 `~/.inputrc` 文件中添加自定义按键绑定。有关更多详细信息，请参阅 [bash 手册：Readline 初始化文件](https://www.gnu.org/software/bash/manual/bash.html#Readline-Init-File)。
- en: 'A few examples from my `~/.inputrc` file are shown below:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 下面展示了我 `~/.inputrc` 文件中的几个示例：
- en: '[PRE8]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) You can use `bind -f
    ~/.inputrc` or press `Ctrl+x Ctrl+r` to apply changes from the `.inputrc` file
    to the current shell session.'
  id: totrans-48
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) 你可以使用 `bind -f ~/.inputrc`
    或按 `Ctrl+x Ctrl+r` 来将 `.inputrc` 文件中的更改应用到当前 shell 会话中。'
- en: '[Further Reading](#further-reading)'
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[进一步阅读](#further-reading)'
- en: '[Sensible bash customizations](https://mrzool.cc/writing/sensible-bash/)'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[合理的 bash 自定义设置](https://mrzool.cc/writing/sensible-bash/)'
- en: '[Shell config subfiles](https://blog.sanctum.geek.nz/shell-config-subfiles/)'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Shell 配置子文件](https://blog.sanctum.geek.nz/shell-config-subfiles/)'
- en: '[unix.stackexchange: when to use alias, functions and scripts](https://unix.stackexchange.com/q/30925/109046)'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[unix.stackexchange: 何时使用别名、函数和脚本](https://unix.stackexchange.com/q/30925/109046)'
- en: '[unix.stackexchange: what does rc in bashrc stand for](https://unix.stackexchange.com/q/3467/109046)'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[unix.stackexchange: bashrc 中的 rc 代表什么](https://unix.stackexchange.com/q/3467/109046)'
- en: '[sxhkd hotkey daemon](https://github.com/baskerville/sxhkd)'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[sxhkd 热键守护进程](https://github.com/baskerville/sxhkd)'
- en: '[Readline shortcuts](#readline-shortcuts)'
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[Readline 快捷键](#readline-shortcuts)'
- en: 'Quoting from [bash manual: Readline Interaction](https://www.gnu.org/software/bash/manual/bash.html#Readline-Interaction):'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 引自 [bash 手册：Readline 交互](https://www.gnu.org/software/bash/manual/bash.html#Readline-Interaction)：
- en: Often during an interactive session you type in a long line of text, only to
    notice that the first word on the line is misspelled. The Readline library gives
    you a set of commands for manipulating the text as you type it in, allowing you
    to just fix your typo, and not forcing you to retype the majority of the line.
    Using these editing commands, you move the cursor to the place that needs correction,
    and delete or insert the text of the corrections.
  id: totrans-57
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在交互式会话中，你经常会输入一长串文本，然后才发现第一行上的单词拼写错误。Readline 库为你提供了一套命令，用于在输入文本时对其进行操作，允许你只需修复你的拼写错误，而无需重新输入大多数行。使用这些编辑命令，你可以将光标移动到需要更正的位置，并删除或插入更正的文本。
- en: By default, the command line editing bindings are styled after [Emacs](https://www.gnu.org/software/emacs/)
    (a text editor). You can switch to Vi mode (another text editor) if you wish.
    This section will discuss some of the often used Emacs-style key bindings.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，命令行编辑绑定模仿 [Emacs](https://www.gnu.org/software/emacs/)（一个文本编辑器）。如果你愿意，可以切换到
    Vi 模式（另一个文本编辑器）。本节将讨论一些常用的 Emacs 风格的按键绑定。
- en: '[Tab completion](#tab-completion)'
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[Tab 完成功能](#tab-completion)'
- en: The tab key helps you complete commands, aliases, filenames and so on, depending
    on the context. If there is only one possible completion, it will be done on single
    tab press. Otherwise, you can press the tab key twice to get a list of possible
    matches (if there are any).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Tab 键可以帮助你根据上下文完成命令、别名、文件名等。如果只有一个可能的完成项，它将在单次 Tab 按键时完成。否则，你可以按两次 Tab 键来获取可能的匹配列表（如果有的话）。
- en: Use `set show-all-if-ambiguous on` as seen earlier in the [.inputrc](#inputrc)
    section to combine the single and double tab presses into a single action.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 使用前面在 [.inputrc](#inputrc) 部分中看到的 `set show-all-if-ambiguous on` 命令，将单次和双次 Tab
    按键合并为单一操作。
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) See [bash manual: Programmable
    Completion](https://www.gnu.org/software/bash/manual/bash.html#Programmable-Completion)
    for more details.'
  id: totrans-62
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) 有关更多详细信息，请参阅 [bash
    手册：可编程完成](https://www.gnu.org/software/bash/manual/bash.html#Programmable-Completion)。'
- en: '[Searching history](#searching-history)'
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[搜索历史](#searching-history)'
- en: You can use `Ctrl+r` to search through the command history. After pressing this
    key sequence, type characters you wish to match from history, then press the `Esc`
    key to return to the command prompt or press `Enter` to execute the command.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 `Ctrl+r` 来搜索命令历史。按下这个键序列后，输入您希望从历史中匹配的字符，然后按 `Esc` 键返回到命令提示符，或者按 `Enter`
    键执行命令。
- en: 'You can press `Ctrl+r` repeatedly to move backwards through matching entries
    and `Ctrl+s` to move forwards. If `Ctrl+s` is not working as expected, see [unix.stackexchange:
    disable ctrl-s](https://unix.stackexchange.com/q/332791/109046).'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '您可以重复按 `Ctrl+r` 来向后移动到匹配条目，按 `Ctrl+s` 来向前移动。如果 `Ctrl+s` 不按预期工作，请参阅 [unix.stackexchange:
    disable ctrl-s](https://unix.stackexchange.com/q/332791/109046)。'
- en: As discussed in the [.inputrc](#inputrc) section, you can use custom key mappings
    instead of the default offerings.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如在 [inputrc](#inputrc) 部分所述，您可以使用自定义键映射而不是默认选项。
- en: '[Moving the cursor](#moving-the-cursor)'
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[移动光标](#moving-the-cursor)'
- en: The documentation uses **Meta** (`M-` prefix) and notes that this key is labeled
    as `Alt` on many keyboards. The documentation also mentions that you can also
    use the `Esc` key for such combinations.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 文档使用 **Meta**（`M-` 前缀）并指出，在许多键盘上此键被标记为 `Alt`。文档还提到，您也可以使用 `Esc` 键进行此类组合。
- en: '`Alt+b` move the cursor to the start of the current or previous word'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Alt+b` 将光标移动到当前或上一个单词的开头。'
- en: '`Alt+f` move the cursor to the end of the next word'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Alt+f` 将光标移动到下一个单词的末尾。'
- en: '`Ctrl+a` or `Home` move the cursor to the beginning of the command line'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ctrl+a` 或 `Home` 将光标移动到命令行开头。'
- en: '`Ctrl+e` or `End` move the cursor to the end of the command line'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ctrl+e` 或 `End` 将光标移动到命令行末尾。'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) One difference between
    `Alt` and `Esc` combinations is that you can keep pressing `b` or `f` while holding
    the `Alt` key down. The `Esc` combinations are two different key presses, whereas
    `Alt` has to be kept pressed down for the shortcut to take effect.'
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) `Alt` 和 `Esc` 组合之间的一个区别是，在按住
    `Alt` 键的同时可以继续按 `b` 或 `f`。`Esc` 组合是两个不同的按键，而 `Alt` 必须按住以使快捷键生效。'
- en: '[Deleting characters](#deleting-characters)'
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[删除字符](#deleting-characters)'
- en: '`Alt+Backspace` (or `Esc+Backspace`) delete backwards up to word boundary'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Alt+Backspace`（或 `Esc+Backspace`）从单词边界向前删除。'
- en: '`Ctrl+w` delete backwards up to whitespace boundary'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ctrl+w` 从光标位置向前删除到空白边界。'
- en: '`Ctrl+u` delete from the character before the cursor till the start of the
    line'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ctrl+u` 从光标前的字符删除到行首。'
- en: '`Ctrl+k` delete from the cursor location to the end of the command line'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ctrl+k` 从光标位置删除到命令行末尾。'
- en: '[Clear screen](#clear-screen)'
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[清除屏幕](#clear-screen)'
- en: '`Ctrl+l` preserve whatever is typed and clear the terminal screen'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ctrl+l` 保留输入的内容并清除终端屏幕。'
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) Note that `Ctrl+l`
    doesn''t try to remove the scrollback buffer altogether. Use the `clear` command
    for that purpose.'
  id: totrans-81
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) 注意，`Ctrl+l` 不会尝试完全删除滚动回缓冲区。使用
    `clear` 命令来完成此操作。'
- en: '[Swap words and characters](#swap-words-and-characters)'
  id: totrans-82
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[交换单词和字符](#swap-words-and-characters)'
- en: '`Alt+t` (or `Esc+t`) swap the previous two words'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Alt+t`（或 `Esc+t`）交换前两个单词。'
- en: '`Ctrl+t` swap the previous two characters'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ctrl+t` 交换前两个字符。'
- en: for example, if you typed `sp` instead of `ps`, press `Ctrl+t` when the cursor
    is to the right of `sp`
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，如果您输入了 `sp` 而不是 `ps`，则当光标位于 `sp` 右侧时按 `Ctrl+t`。
- en: '[Insert arguments](#insert-arguments)'
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[插入参数](#insert-arguments)'
- en: '`Alt+.` (or `Esc+.`) insert the last argument from the previous command, multiple
    presses will traverse through second last command and so on'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Alt+.`（或 `Esc+.`）插入上一个命令的最后一个参数，多次按击将遍历到倒数第二个命令等。'
- en: for example, if `cat temp.txt` was the last command used, pressing `Alt+.` will
    insert `temp.txt`
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，如果 `cat temp.txt` 是最后一个使用的命令，则按 `Alt+.` 将插入 `temp.txt`。
- en: you can also use `!$` to represent the last argument from the previous command
  id: totrans-89
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您还可以使用 `!$` 来表示上一个命令的最后一个参数。
- en: '[Further Reading](#further-reading-1)'
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[进一步阅读](#further-reading-1)'
- en: '[bash manual: Bindable Readline Commands](https://www.gnu.org/software/bash/manual/bash.html#Bindable-Readline-Commands)'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[bash 手册：可绑定 Readline 命令](https://www.gnu.org/software/bash/manual/bash.html#Bindable-Readline-Commands)'
- en: '[wiki.archlinux: Simpler introduction to Readline](https://wiki.archlinux.org/title/readline)'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[wiki.archlinux: Readline的简单介绍](https://wiki.archlinux.org/title/readline)'
- en: '[Efficient command line navigation](https://cupfullofcode.com/blog/2013/07/03/efficient-command-line-navigation/index.html)'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[高效的命令行导航](https://cupfullofcode.com/blog/2013/07/03/efficient-command-line-navigation/index.html)'
- en: '[Bash the interface and Bash the language](https://ratfactor.com/slackware/pkgblog/bash)'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Bash界面和Bash语言](https://ratfactor.com/slackware/pkgblog/bash)'
- en: '[Copy and paste](#copy-and-paste)'
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[复制粘贴](#copy-and-paste)'
- en: Shortcuts for copy-paste operations in the terminal are shown below. You might
    be able to customize these shortcuts in the terminal preferences.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是在终端中显示的复制粘贴操作的快捷键。你可能可以在终端首选项中自定义这些快捷键。
- en: '`Shift+Ctrl+c` copy the highlighted portion to the clipboard'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Shift+Ctrl+c` 将高亮部分复制到剪贴板'
- en: '`Shift+Ctrl+v` paste clipboard contents'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Shift+Ctrl+v` 粘贴剪贴板内容'
- en: '`Shift+Insert` paste the last highlighted portion (not necessarily the clipboard
    contents)'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Shift+Insert` 粘贴最后高亮的部分（不一定是剪贴板内容）'
- en: 'You can also press the middle mouse button instead of the `Shift+Insert` shortcut.
    This is not limited to the terminal, works in many other applications too. You
    can use the `xinput` command to enable/disable mouse button clicks. First, use
    `xinput` without any arguments and spot the number corresponding to your mouse.
    As an example, assuming the device number is `11`, you can use the following commands:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以按鼠标中键而不是使用`Shift+Insert`快捷键。这不仅仅限于终端，在许多其他应用程序中也适用。你可以使用`xinput`命令来启用/禁用鼠标按钮点击。首先，使用不带任何参数的`xinput`并找到对应你的鼠标的数字。例如，假设设备号是`11`，你可以使用以下命令：
- en: '`xinput set-button-map 11 1 0 3` to disable middle button click'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`xinput set-button-map 11 1 0 3` 用于禁用中间按钮点击'
- en: '`xinput set-button-map 11 1 2 3` to enable middle button click'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`xinput set-button-map 11 1 2 3` 用于启用中间按钮点击'
- en: '[Exercises](#exercises)'
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[练习](#exercises)'
- en: '**1)** Which command would you use to display the name and value of all or
    specific environment variables?'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**1)** 你会用哪个命令来显示所有或特定环境变量的名称和值？'
- en: '**2)** If you add an alias for an already existing command (`ls` for example),
    how would you invoke the original command instead of the alias?'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**2)** 如果你为已存在的命令（例如`ls`）添加了一个别名，你将如何调用原始命令而不是别名？'
- en: '**3)** Why doesn''t the alias shown below work? What would you use instead?'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**3)** 为什么下面的别名不起作用？你会用哪个代替？'
- en: '[PRE9]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '**4)** How would you remove a particular alias/function definition for the
    current shell session?'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**4)** 你会如何移除当前shell会话中的特定别名/函数定义？'
- en: '[PRE10]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '**5)** Write an alias and a function to display the contents of the `PATH`
    environment variable on separate lines by changing `:` to the newline character.
    Sample output is shown below.'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '**5)** 编写一个别名和一个函数，通过将`:`转换为换行符，在单独的行上显示`PATH`环境变量的内容。以下是一个示例输出。'
- en: '[PRE11]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '**6)** Will a login shell read and execute `~/.bashrc` automatically?'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '**6)** 登录shell会自动读取并执行`~/.bashrc`吗？'
- en: '**7)** What should be the value assigned to `HISTSIZE` if you wish to have
    unlimited history entries?'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '**7)** 如果你希望有无限的历史条目，应该将`HISTSIZE`的值设为多少？'
- en: '**8)** What does the binding `set completion-ignore-case on` do?'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**8)** 绑定`set completion-ignore-case on`的作用是什么？'
- en: '**9)** Which shortcut helps you interactively search the command history?'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '**9)** 哪个快捷键可以帮助你交互式地搜索命令历史？'
- en: '**10)** What do the shortcuts `Alt+b` and `Alt+f` do?'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**10)** 快捷键`Alt+b`和`Alt+f`的作用是什么？'
- en: '**11)** Are there differences between the `Ctrl+l` shortcut and the `clear`
    command?'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**11)** `Ctrl+l`快捷键和`clear`命令之间有区别吗？'
- en: '**12)** Which shortcut will you use to delete characters before the cursor
    till the start of the line?'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**12)** 你会用哪个快捷键来删除光标前的字符直到行首？'
- en: '**13)** What do the shortcuts `Alt+t` and `Ctrl+t` do?'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '**13)** 快捷键`Alt+t`和`Ctrl+t`的作用是什么？'
- en: '**14)** Is there a difference between the `Shift+Insert` and `Shift+Ctrl+v`
    shortcuts?'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**14)** `Shift+Insert`和`Shift+Ctrl+v`快捷键之间有区别吗？'
