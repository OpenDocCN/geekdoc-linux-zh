- en: The `time` command
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '`time` 命令'
- en: The `time` command is used to measure the execution time of programs and commands.
    It provides detailed information about how long a command takes to run, including
    user time, system time, and real (wall-clock) time.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '`time` 命令用于测量程序和命令的执行时间。它提供了关于命令运行所需时间的详细信息，包括用户时间、系统时间和真实（墙钟）时间。'
- en: Syntax
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 语法
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Types of Time Measurement
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 时间测量类型
- en: Real Time (Wall-clock time)
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 实时（墙钟时间）
- en: Total elapsed time from start to finish
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从开始到结束的总耗时
- en: Includes time spent waiting for I/O, other processes, etc.
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包括等待 I/O、其他进程等所花费的时间
- en: User Time
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 用户时间
- en: Time spent executing user-level code
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行用户级代码花费的时间
- en: CPU time used by the process itself
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进程本身使用的 CPU 时间
- en: System Time
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 系统时间
- en: Time spent in kernel mode
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在内核模式中花费的时间
- en: CPU time used for system calls
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统调用使用的 CPU 时间
- en: Output Format
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 输出格式
- en: 'The standard output shows three measurements:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 标准输出显示三个测量值：
- en: '[PRE1]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Options
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 选项
- en: 'Some popular option flags include:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 一些流行的选项标志包括：
- en: '[PRE2]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Examples
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 示例
- en: Time a simple command
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计时一个简单命令
- en: '[PRE3]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Time a script execution
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计时脚本执行
- en: '[PRE4]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Time a compilation process
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计时编译过程
- en: '[PRE5]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Time with POSIX format
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 POSIX 格式计时
- en: '[PRE6]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Save timing information to file
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将计时信息保存到文件
- en: '[PRE7]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Verbose timing information
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 详细计时信息
- en: '[PRE8]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Advanced Usage
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 高级用法
- en: Time multiple commands
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计时多个命令
- en: '[PRE9]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Time with custom format
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用自定义格式计时
- en: '[PRE10]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Time and redirect output
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计时并重定向输出
- en: '[PRE11]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Compare execution times
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 比较执行时间
- en: '[PRE12]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Using GNU time (Advanced)
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 GNU time（高级）
- en: 'The GNU version of `time` (usually at `/usr/bin/time`) provides more detailed
    information:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: GNU 版本的 `time`（通常位于 `/usr/bin/time`）提供更详细的信息：
- en: '[PRE13]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'This shows additional statistics like:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示了额外的统计数据，如：
- en: Maximum resident set size (memory usage)
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最大常驻集大小（内存使用）
- en: Page faults
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 页面错误
- en: Context switches
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上下文切换
- en: File system inputs/outputs
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件系统输入/输出
- en: Format Specifiers for GNU time
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: GNU time 的格式说明符
- en: '[PRE14]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Practical Examples
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实际示例
- en: Profile a Python script
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分析 Python 脚本
- en: '[PRE15]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Compare different algorithms
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 比较不同的算法
- en: '[PRE16]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Time database operations
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计时数据库操作
- en: '[PRE17]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Time network operations
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计时网络操作
- en: '[PRE18]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Time compression operations
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 时间压缩操作
- en: '[PRE19]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Profile build processes
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分析构建过程
- en: '[PRE20]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Understanding the Output
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解输出
- en: 'Example output interpretation:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 示例输出解释：
- en: '[PRE21]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '**Analysis:**'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '**分析**：'
- en: 'If `real` > `user` + `sys`: Process was I/O bound or waiting'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `real` > `user` + `sys`：进程是 I/O 密集型或等待
- en: 'If `real` ≈ `user` + `sys`: Process was CPU bound'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `real` ≈ `user` + `sys`：进程是 CPU 密集型
- en: 'If `user` >> `sys`: Process spent most time in user code'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `user` >> `sys`：进程大部分时间在用户代码中
- en: 'If `sys` >> `user`: Process made many system calls'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果 `sys` >> `user`：进程进行了许多系统调用
- en: Benchmarking Best Practices
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 基准测试最佳实践
- en: '**Multiple runs**: Run several times and average results'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**多次运行**：多次运行并平均结果'
- en: '[PRE22]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '**Warm-up runs**: Do a few runs to warm up caches'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**预热运行**：进行几次运行以预热缓存'
- en: '[PRE23]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '**Consistent environment**: Control variables'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**一致的环境**：控制变量'
- en: '[PRE24]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Use Cases
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 用例
- en: '**Performance optimization**: Identify slow operations'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**性能优化**：识别慢操作'
- en: '**Benchmarking**: Compare different implementations'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基准测试**：比较不同的实现'
- en: '**System analysis**: Understand resource usage patterns'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统分析**：了解资源使用模式'
- en: '**Build optimization**: Time compilation processes'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**构建优化**：计时编译过程'
- en: '**Script profiling**: Find bottlenecks in shell scripts'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**脚本分析**：查找 shell 脚本中的瓶颈'
- en: '**Development**: Measure algorithm efficiency'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开发**：测量算法效率'
- en: Important Notes
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 重要提示
- en: Built-in `time` vs. `/usr/bin/time` may have different features
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内置 `time` 与 `/usr/bin/time` 可能具有不同的功能
- en: Results can vary between runs due to system load
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于系统负载，运行结果可能有所不同
- en: I/O operations can significantly affect timing
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: I/O 操作可以显著影响时间
- en: Use multiple measurements for accurate benchmarking
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用多次测量进行准确的基准测试
- en: Consider system caches when timing file operations
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在计时文件操作时考虑系统缓存
- en: Combining with Other Tools
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结合其他工具
- en: With `nice` for priority control
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `nice` 进行优先级控制
- en: '[PRE25]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: With `timeout` for maximum runtime
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `timeout` 进行最大运行时间
- en: '[PRE26]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: With `strace` for system call analysis
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `strace` 进行系统调用分析
- en: '[PRE27]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: The `time` command is essential for performance analysis, optimization, and
    understanding program behavior in Linux systems.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '`time` 命令对于性能分析、优化和理解 Linux 系统中的程序行为至关重要。'
- en: 'For more details, check the manual: `man time`'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 更多详细信息，请查看手册：`man time`
