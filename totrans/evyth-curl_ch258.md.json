["```sh\nCURLSH *share = curl_share_init();\n```", "```sh\ncurl_share_setopt(share, CURLSHOPT_SHARE, CURL_LOCK_DATA_COOKIE);\ncurl_share_setopt(share, CURLSHOPT_SHARE, CURL_LOCK_DATA_DNS);\n```", "```sh\ncurl_easy_setopt(curl, CURLOPT_SHARE, share);\n```", "```sh\nstatic void lock_cb(CURL *handle, curl_lock_data data,\n                    curl_lock_access access, void *userptr)\n{\n  pthread_mutex_lock(&lock[data]); /* uses a global lock array */\n}\ncurl_share_setopt(share, CURLSHOPT_LOCKFUNC, lock_cb);\n```", "```sh\nstatic void unlock_cb(CURL *handle, curl_lock_data data,\n                      void *userptr)\n{\n  pthread_mutex_unlock(&lock[data]); /* uses a global lock array */\n}\ncurl_share_setopt(share, CURLSHOPT_UNLOCKFUNC, unlock_cb);\n```", "```sh\ncurl_share_setopt(share, CURLSHOPT_UNSHARE, CURL_LOCK_DATA_DNS);\n```"]