["```sh\nint socket_callback(CURL *easy,      /* easy handle */\n                    curl_socket_t s, /* socket */\n                    int what,        /* what to wait for */\n                    void *userp,     /* private callback pointer */\n                    void *socketp)   /* private socket pointer */\n{\n   /* told about the socket 's' */\n}\n\n/* set the callback in the multi handle */\ncurl_multi_setopt(multi_handle, CURLMOPT_SOCKETFUNCTION, socket_callback);\n```", "```sh\nint running_handles;\nret = curl_multi_socket_action(multi_handle,\n                               sockfd, /* the socket with activity */\n                               ev_bitmask, /* the specific activity */\n                               &running_handles);\n```", "```sh\nint timer_callback(multi_handle,   /* multi handle */\n                   timeout_ms,     /* milliseconds to wait */\n                   userp)          /* private callback pointer */\n{\n  /* the new time-out value to wait for is in 'timeout_ms' */\n}\n\n/* set the callback in the multi handle */\ncurl_multi_setopt(multi_handle, CURLMOPT_TIMERFUNCTION, timer_callback);\n```", "```sh\ncurl_multi_socket_action(multi, CURL_SOCKET_TIMEOUT, 0, &running);\n```", "```sh\n/* all easy handles and callbacks are setup */\n\ncurl_multi_socket_action(multi, CURL_SOCKET_TIMEOUT, 0, &running);\n\n/* now the callbacks should have been called and we have sockets to wait\n   for and possibly a timeout, too. Make the event system do its magic */\n\nevent_base_dispatch(event_base); /* libevent2 has this API */\n\n/* at this point we have exited the event loop */\n```"]