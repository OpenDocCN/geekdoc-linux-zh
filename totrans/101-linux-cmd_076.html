<html><head></head><body>
    <div style="page-break-after: always;"/>
    <h1>The <code>scp</code> command</h1>
    <p>SCP (secure copy) is a command-line utility that allows you to securely copy files and directories between two locations.</p>
    <p>Both the files and passwords are encrypted so that anyone snooping on the traffic doesn't get anything sensitive.</p>
    <h3>Different ways to copy a file or directory:</h3>
    <ul>
      <li>From local system to a remote system.</li>
      <li>From a remote system to a local system.</li>
      <li>Between two remote systems from the local system.</li>
    </ul>
    <h3>Examples:</h3>
    <ol>
      <li>To copy the files from a local system to a remote system:</li>
    </ol>
    <pre>
      <code class="language-javascript hljs javascript" data-lang="javascript">scp /home/documents/local-file root@{remote-ip-address}:<span class="hljs-regexp">/home/</span>
</code>
    </pre>
    <ol start="2">
      <li>To copy the files from a remote system to the local system:</li>
    </ol>
    <pre>
      <code class="language-javascript hljs javascript" data-lang="javascript">scp root@{remote-ip-address}:<span class="hljs-regexp">/home/</span>remote-file /home/documents/
</code>
    </pre>
    <ol start="3">
      <li>To copy the files between two remote systems from the local system.</li>
    </ol>
    <pre>
      <code class="language-javascript hljs javascript" data-lang="javascript">scp root@{remote1-ip-address}:<span class="hljs-regexp">/home/</span>remote-file root@{remote2-ip-address}/home/
</code>
    </pre>
    <ol start="4">
      <li>To copy file through a jump host server.</li>
    </ol>
    <pre>
      <code class="language-xml hljs xml" data-lang="xml">scp /home/documents/local-file -oProxyJump=<span class="hljs-tag">&lt;<span class="hljs-name">jump-host-ip</span>&gt;</span> root@{remote-ip-address}/home/
</code>
    </pre>
    <p>On newer version of scp on some machines you can use the above command with a <code>-J</code> flag.</p>
    <pre>
      <code class="language-xml hljs xml" data-lang="xml">scp /home/documents/local-file -J <span class="hljs-tag">&lt;<span class="hljs-name">jump-host-ip</span>&gt;</span> root@{remote-ip-address}/home/
</code>
    </pre>
    <h3>Syntax:</h3>
    <pre>
      <code class="language- hljs " data-lang="">scp [OPTION] [user@]SRC_HOST:]file1 [user@]DEST_HOST:]file2
</code>
    </pre>
    <ul>
      <li><code>OPTION</code> - scp options such as cipher, ssh configuration, ssh port, limit, recursive copy â€¦etc.</li>
      <li><code>[user@]SRC_HOST:]file1</code> - Source file</li>
      <li><code>[user@]DEST_HOST:]file2</code> - Destination file</li>
    </ul>
    <p>Local files should be specified using an absolute or relative path, while remote file names should include a user and host specification.</p>
    <p>scp provides several that control every aspect of its behaviour. The most widely used options are:</p>
    <table>
      <thead>
        <tr>
          <th align="left">
            <strong>Short Flag</strong>
          </th>
          <th align="left">
            <strong>Long Flag</strong>
          </th>
          <th align="left">
            <strong>Description</strong>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">
            <code>-P</code>
          </td>
          <td align="left">
            <center>-</center>
          </td>
          <td align="left">Specifies the remote host ssh port.</td>
        </tr>
        <tr>
          <td align="left">
            <code>-p</code>
          </td>
          <td align="left">
            <center>-</center>
          </td>
          <td align="left">Preserves files modification and access times.</td>
        </tr>
        <tr>
          <td align="left">
            <code>-q</code>
          </td>
          <td align="left">
            <center>-</center>
          </td>
          <td align="left">Use this option if you want to suppress the progress meter and non-error messages.</td>
        </tr>
        <tr>
          <td align="left">
            <code>-C</code>
          </td>
          <td align="left">
            <center>-</center>
          </td>
          <td align="left">This option forces scp to compresses the data as it is sent to the destination machine.</td>
        </tr>
        <tr>
          <td align="left">
            <code>-r</code>
          </td>
          <td align="left">
            <center>-</center>
          </td>
          <td align="left">This option tells scp to copy directories recursively.</td>
        </tr>
      </tbody>
    </table>
    <h3>Before you begin</h3>
    <p>The <code>scp</code> command relies on <code>ssh</code> for data transfer, so it requires an <code>ssh key</code> or <code>password</code> to authenticate on the remote systems.</p>
    <p>The <code>colon (:)</code> is how scp distinguish between local and remote locations.</p>
    <p>To be able to copy files, you must have at least read permissions on the source file and write permission on the target system.</p>
    <p>Be careful when copying files that share the same name and location on both systems, <code>scp</code> will overwrite files without warning.</p>
    <p>When transferring large files, it is recommended to run the scp command inside a <code>screen</code> or <code>tmux</code> session.</p>
  </body></html>