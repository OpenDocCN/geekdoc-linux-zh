- en: .netrc
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: .netrc
- en: Unix systems have for a long time offered a way for users to store their user
    name and password for remote FTP servers. ftp clients have supported this for
    decades and this way allowed users to quickly login to known servers without manually
    having to reenter the credentials each time. The `.netrc` file is typically stored
    in a user’s home directory. (On Windows, curl looks for it with the name `_netrc`).
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Unix 系统长期以来为用户提供了一种存储远程 FTP 服务器用户名和密码的方法。FTP 客户端已经支持了数十年，这种方式允许用户快速登录到已知的服务器，而无需每次都手动重新输入凭据。`.netrc`
    文件通常存储在用户的家目录中。（在 Windows 上，curl 使用 `_netrc` 的名称查找它）。
- en: This being a widespread and well used concept, curl also supports it—if you
    ask it to. curl does not, however, limit this feature to FTP, but can get credentials
    for machines for any protocol with this. See further below for how.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这是一个广泛使用且被广泛接受的概念，curl 也支持它——如果你要求它这么做。然而，curl 并不将此功能仅限于 FTP，它可以为任何协议的机器获取凭据。有关如何操作的更多信息，请参阅下文。
- en: The .netrc file format
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: .netrc 文件格式
- en: 'The .netrc file format is simple: you specify lines with a machine name and
    follow that with the login and password that are associated with that machine.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: .netrc 文件格式很简单：你指定带有机器名称的行，然后跟随与该机器关联的登录名和密码。
- en: Each field is provided as a sequence of letters that ends with a space or newline.
    Since 7.84.0, curl also supports quoted strings. They start and end with double
    quotes (`"`) and support the escaped special letters `\"`, (newline), (carriage
    return), and (TAB). Quoted strings are the only way a space character can be used
    in a username or password.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 每个字段都提供为以空格或换行符结尾的字母序列。从 7.84.0 版本开始，curl 也支持引号字符串。它们以双引号（`"`）开始和结束，并支持转义的特殊字符
    `\"`、（换行符）、（回车符）和（制表符）。引号字符串是唯一可以在用户名或密码中使用空格的方式。
- en: '**machine name**'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**机器名称**'
- en: Identifies a remote machine name. curl searches the .netrc file for a machine
    token that matches the remote machine specified in the URL. Once a match is made,
    the subsequent .netrc tokens are processed, stopping when the end of file is reached
    or another machine is encountered.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 识别远程机器名称。curl 在 .netrc 文件中搜索与 URL 中指定的远程机器匹配的机器令牌。一旦匹配成功，后续的 .netrc 令牌将被处理，直到文件末尾或遇到另一个机器。
- en: '**default**'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**默认**'
- en: 'This is the same as machine name except that `default` matches any name. There
    can be only one default token, and it must be after all machine tokens. To provide
    a default anonymous login for hosts that are not otherwise matched, add a line
    similar to this in the end:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 这与机器名称相同，只是 `default` 匹配任何名称。只能有一个默认令牌，并且它必须位于所有机器令牌之后。为了为否则不匹配的主机提供默认匿名登录，请在文件末尾添加类似以下内容的行：
- en: '[PRE0]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '**login name**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**登录名**'
- en: The username string for the remote machine. You cannot use a space in the name.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 远程机器的用户名字符串。用户名中不能包含空格。
- en: '**password string**'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**密码字符串**'
- en: Supply a password. If this token is present, curl supplies the specified string
    if the remote server requires a password as part of the login process. Note that
    if this token is present in the .netrc file you really **should** make sure the
    file is not readable by anyone besides the user. You cannot use a space when you
    enter the password.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 提供一个密码。如果此令牌存在，curl 将在远程服务器需要密码作为登录过程的一部分时提供指定的字符串。请注意，如果此令牌存在于 .netrc 文件中，你**真的**应该确保文件除了用户之外对任何人都不可见。输入密码时不能使用空格。
- en: '**macdef name**'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**宏名称**'
- en: Define a macro. This is **not supported by curl**. In order for the rest of
    the `.netrc` to still work fine, curl properly skips every definition done with
    `macdef` that it finds.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 定义一个宏。这**不被 curl 支持**。为了使 `.netrc` 的其余部分仍然正常工作，curl 会正确跳过它找到的每个使用 `macdef` 定义的配置。
- en: 'An example .netrc for the host example.com with a user named ‘daniel’, using
    the password ‘qwerty’ would look like:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一个示例 .netrc，用于名为 'daniel' 的用户和密码 'qwerty' 的 example.com 主机，看起来如下所示：
- en: '[PRE1]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'It can also be written on a single line with the same functionality:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 它也可以写成一行，同时保持相同的功能：
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Username matching
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 用户名匹配
- en: When a URL is provided with a username and .netrc is used, then curl tries to
    find the matching password for that machine and login combination.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 当提供一个包含用户名和 .netrc 的 URL 时，curl 会尝试找到该机器和登录组合的匹配密码。
- en: Enable netrc
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启用 netrc
- en: '`-n, --netrc` tells curl to look for and use the .netrc file.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '`-n, --netrc` 告诉 curl 查找并使用 .netrc 文件。'
- en: '`--netrc-file [file]` is similar to `--netrc`, except that you also provide
    the path to the actual file to use. This is useful when you want to provide the
    information in another directory or with another filename.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '`--netrc-file [文件]` 与 `--netrc` 类似，除了你还需要提供要使用的实际文件的路径。这在你想在另一个目录或使用另一个文件名提供信息时非常有用。'
- en: '`--netrc-optional` is similar to `--netrc`, but this option makes the .netrc
    usage optional and not mandatory as the `--netrc` option.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '`--netrc-optional` 与 `--netrc` 类似，但这个选项使得 .netrc 的使用是可选的，而不是像 `--netrc` 选项那样是强制的。'
