<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch092.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="usingcurl__downloads__browsers__md-_-_-my-browser-shows-something-else" class="level1" data-number="91">
<h1 data-number="91">My browser shows something else</h1>
<p>A common use case is using curl to get a URL that you can get in your browser when you paste the URL in the browser’s address bar.</p>
<p>A browser getting a URL as input does so much more and in so many different ways than curl that what curl shows in your terminal output is probably not at all what you see in your browser window.</p>
<section id="usingcurl__downloads__browsers__md-_-_-client-differences" class="level2" data-number="91.1">
<h2 data-number="91.1">Client differences</h2>
<p>Curl only gets exactly what you ask it to get and it never parses the actual content—the data—that the server delivers. A browser gets data and it activates different parsers depending on what kind of content it thinks it gets. For example, if the data is HTML it parses it to display a webpage and possibly download other sub resources such as images, JavaScript and CSS files. When curl downloads HTML it just gets that single HTML resource, even if it, when parsed by a browser, would trigger a whole busload of more downloads. If you want curl to download any sub-resources as well, you need to pass those URLs to curl and ask it to get those, just like any other URLs.</p>
<p>Clients also differ in how they send their requests, and some aspects of a request for a resource include, for example, format preferences, asking for compressed data, or just telling the server from which previous page we are “coming from”. curl’s requests differ a little or a lot from how your browser sends its requests.</p>
</section>
<section id="usingcurl__downloads__browsers__md-_-_-server-differences" class="level2" data-number="91.2">
<h2 data-number="91.2">Server differences</h2>
<p>The server that receives the request and delivers data is often set up to act in certain ways depending on what kind of client it thinks communicates with it. Sometimes it is as innocent as trying to deliver the best content for the client, sometimes it is to hide some content for some clients or even to try to work around known problems in specific browsers. Then there are also, of course, various kinds of login systems that might rely on HTTP authentication or cookies or the client being from the pre-validated IP address range.</p>
<p>Sometimes getting the same response from a server using curl as the response you get with a browser ends up really hard work. Users then typically record their browser sessions with the browser’s networking tools and then compare that recording with recorded data from curl’s <code>--trace-ascii</code> option and proceed to modify curl’s requests (often with <code>-H / --header</code>) until the server starts to respond the same to both.</p>
<p>This type of work can be both time consuming and tedious. You should always do this with permission from the server owners or admins.</p>
</section>
<section id="usingcurl__downloads__browsers__md-_-_-intermediaries-fiddlings" class="level2" data-number="91.3">
<h2 data-number="91.3">Intermediaries’ fiddlings</h2>
<p>Intermediaries are proxies, explicit or implicit ones. Some environments force you to use one or you may choose to use one for various reasons, but there are also the transparent ones that intercept your network traffic silently and proxy it for you no matter what you want.</p>
<p>Proxies are “middle men” that terminate the traffic and then act on your behalf to the remote server. This can introduce all sorts of explicit filtering and “saving” you from certain content or even “protecting” the remote server from what data you try to send to it, but even more so it introduces another software’s view on how the protocol works and what the right things to do are.</p>
<p>Interfering intermediaries are often the cause of lots of headaches and mysteries down to downright malicious modifications of content.</p>
<p>We strongly encourage you to use HTTPS or other means to verify that the contents you are downloading or uploading are really the data that the remote server has sent to you and that your precious bytes end up verbatim at the intended destination.</p>
<p><span id="usingcurl__downloads__max-filesize__md"></span></p>
</section>
</section>
</body>
</html>
