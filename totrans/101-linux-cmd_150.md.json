["```sh\n      fsck [options] [filesystem...] \n\n```", "```sh\n      # Check specific partition\nsudo fsck /dev/sdb1\n\n# Check by mount point\nsudo fsck /home\n\n# Check with verbose output\nsudo fsck -v /dev/sdb1 \n\n```", "```sh\n      # Check all file systems in /etc/fstab\nsudo fsck -A\n\n# Check all except root\nsudo fsck -AR\n\n# Check all with progress\nsudo fsck -AV \n\n```", "```sh\n      # -y: Answer \"yes\" to all questions\nsudo fsck -y /dev/sdb1\n\n# -n: Answer \"no\" to all questions (read-only)\nsudo fsck -n /dev/sdb1\n\n# -f: Force check even if file system seems clean\nsudo fsck -f /dev/sdb1\n\n# -v: Verbose output\nsudo fsck -v /dev/sdb1 \n\n```", "```sh\n      # -p: Automatically repair (preen mode)\nsudo fsck -p /dev/sdb1\n\n# -r: Interactive repair mode\nsudo fsck -r /dev/sdb1\n\n# -t: Specify file system type\nsudo fsck -t ext4 /dev/sdb1\n\n# -C: Show progress bar\nsudo fsck -C /dev/sdb1 \n\n```", "```sh\n      # Check ext4 file system\nsudo fsck.ext4 /dev/sdb1\n\n# Force check\nsudo e2fsck -f /dev/sdb1\n\n# Fix bad blocks\nsudo e2fsck -c /dev/sdb1\n\n# Thorough check with bad block scan\nsudo e2fsck -cc /dev/sdb1 \n\n```", "```sh\n      # Check XFS file system (read-only)\nsudo xfs_repair -n /dev/sdb1\n\n# Repair XFS file system\nsudo xfs_repair /dev/sdb1\n\n# Verbose repair\nsudo xfs_repair -v /dev/sdb1 \n\n```", "```sh\n      # Check FAT32 file system\nsudo fsck.fat /dev/sdb1\n\n# Repair FAT32\nsudo fsck.fat -r /dev/sdb1\n\n# Verbose check\nsudo fsck.fat -v /dev/sdb1 \n\n```", "```sh\n      # Always check before mounting suspicious drives\nsudo fsck -n /dev/sdb1\n\n# If clean, mount normally\nsudo mount /dev/sdb1 /mnt/usb\n\n# If errors found, repair first\nsudo fsck -y /dev/sdb1\nsudo mount /dev/sdb1 /mnt/usb \n\n```", "```sh\n      # Boot from live CD/USB# Check root file system\nsudo fsck -f /dev/sda1\n\n# Check other partitions\nsudo fsck -f /dev/sda2\nsudo fsck -f /dev/sda3\n\n# Reboot if repairs were made\nsudo reboot \n\n```", "```sh\n      # Force check on all file systems\nsudo fsck -Af\n\n# Check with automatic repair\nsudo fsck -Ap\n\n# Check with progress indicators\nsudo fsck -AVC \n\n```", "```sh\n      # Check without making changes\nsudo fsck -n /dev/sdb1\n\n# Verbose read-only check\nsudo fsck -nv /dev/sdb1\n\n# Generate report only\nsudo fsck -n /dev/sdb1 > fsck_report.txt 2>&1 \n\n```", "```sh\n      # Repair automatically (dangerous!)\nsudo fsck -y /dev/sdb1\n\n# Safer automatic repair\nsudo fsck -p /dev/sdb1\n\n# Batch mode for multiple file systems\nsudo fsck -Ap \n\n```", "```sh\n      # Interactive mode (default)\nsudo fsck /dev/sdb1\n\n# Ask before each fix\nsudo fsck -r /dev/sdb1\n\n# Show detailed information\nsudo fsck -rv /dev/sdb1 \n\n```", "```sh\n      # Configure automatic checks in /etc/fstab\n        # Sixth field controls fsck behavior:\n        # 0 = no check\n        # 1 = check first (root filesystem)\n        # 2 = check after root filesystem\n        # Example /etc/fstab entry:\n        # /dev/sda1 / ext4 defaults 1 1\n        # /dev/sda2 /home ext4 defaults 1 2 \n\n```", "```sh\n      # Create forcefsck file (traditional method)\nsudo touch /forcefsck\n\n# Or use tune2fs for ext filesystems\nsudo tune2fs -C 1 -c 1 /dev/sda1\n\n# Set maximum mount count\nsudo tune2fs -c 30 /dev/sda1 \n\n```", "```sh\n      # Set check interval (ext filesystems)\nsudo tune2fs -i 30d /dev/sda1  # Check every 30 days\nsudo tune2fs -i 0 /dev/sda1    # Disable time-based checks\n\n# Set mount count interval\nsudo tune2fs -c 25 /dev/sda1   # Check every 25 mounts\nsudo tune2fs -c 0 /dev/sda1    # Disable mount-based checks \n\n```", "```sh\n      # Try read-only check first\nsudo fsck -n /dev/sdb1\n\n# If errors found, try repair\nsudo fsck -y /dev/sdb1\n\n# For severe corruption\nsudo fsck -f /dev/sdb1 \n\n```", "```sh\n      # List backup superblocks\nsudo mke2fs -n /dev/sdb1\n\n# Use backup superblock\nsudo e2fsck -b 32768 /dev/sdb1\n\n# Try different backup\nsudo e2fsck -b 98304 /dev/sdb1 \n\n```", "```sh\n      # Recovered files appear in lost+found\nls -la /mnt/partition/lost+found/\n\n# Files are numbered by inode\n# Use file command to identify type\nfile /mnt/partition/lost+found/*\n\n# Restore files based on content \n\n```", "```sh\n      # Scan for bad blocks during check\nsudo e2fsck -c /dev/sdb1\n\n# Thorough bad block scan\nsudo e2fsck -cc /dev/sdb1\n\n# Use existing bad block list\nsudo badblocks -sv /dev/sdb1 > badblocks.list\nsudo e2fsck -l badblocks.list /dev/sdb1 \n\n```", "```sh\n      # ext3/ext4 journal recovery\nsudo e2fsck -y /dev/sdb1\n\n# Force journal recovery\nsudo tune2fs -O ^has_journal /dev/sdb1\nsudo e2fsck -f /dev/sdb1\nsudo tune2fs -j /dev/sdb1 \n\n```", "```sh\n      # Check inode usage\nsudo e2fsck -D /dev/sdb1\n\n# Rebuild directory index\nsudo e2fsck -D -f /dev/sdb1\n\n# Fix inode count problems\nsudo e2fsck -f /dev/sdb1 \n\n```", "```sh\n      # View fsck results\ndmesg | grep -i fsck\n\n# Check system logs\njournalctl | grep fsck\ntail -f /var/log/messages | grep fsck \n\n```", "```sh\n      # Check filesystem status\nsudo tune2fs -l /dev/sda1 | grep -i \"filesystem state\"\n\n# Check last fsck time\nsudo tune2fs -l /dev/sda1 | grep -i \"last checked\"\n\n# Check mount count\nsudo tune2fs -l /dev/sda1 | grep -i \"mount count\" \n\n```", "```sh\n      # Script to check filesystem health#!/bin/bashfor fs in $(awk '$3 ~ /^ext[234]$/ && $2 != \"/\" {print $1}' /etc/fstab); do\n    echo \"Checking $fs...\"\n    sudo fsck -n \"$fs\" || echo \"Errors found on $fs\"\ndone \n\n```", "```sh\n      # Schedule regular checks\n        # Add to crontab for non-critical systems\n        # 0 3 * * 0 /sbin/fsck -Ap > /var/log/fsck.log 2>&1 \n\n```", "```sh\n      # Always shutdown properly\nsudo shutdown -h now\n\n# Use sync before emergency shutdown\nsync\nsudo shutdown -h now \n\n```", "```sh\n      # Install UPS monitoring\nsudo apt install apcupsd  # For APC UPS\nsudo apt install nut      # Network UPS Tools\n\n# Configure automatic shutdown on power loss \n\n```", "```sh\n      # Boot from live USB/CD# Mount root filesystem read-only\nsudo mount -o ro /dev/sda1 /mnt\n\n# Copy important data\nsudo cp -r /mnt/home/user/important /backup/\n\n# Unmount and check\nsudo umount /mnt\nsudo fsck -f /dev/sda1 \n\n```", "```sh\n      # Use ddrescue for severely damaged drives\nsudo ddrescue /dev/sdb /backup/disk.img /backup/disk.log\n\n# Then fsck the image\nsudo fsck -f /backup/disk.img\n\n# Mount and recover data\nsudo mount -o loop /backup/disk.img /mnt/recovery \n\n```", "```sh\n      # Progressive repair approach\nsudo fsck -n /dev/sdb1           # Check first\nsudo fsck -p /dev/sdb1           # Auto-repair safe issues\nsudo fsck -y /dev/sdb1           # Force repair remaining issues\nsudo fsck -f /dev/sdb1           # Final thorough check \n\n```", "```sh\n      # Use progress indicator\nsudo fsck -C /dev/sdb1\n\n# Parallel checking (careful with dependencies)\nsudo fsck -A -P\n\n# Skip time-consuming checks when appropriate\nsudo fsck -p /dev/sdb1 \n\n```", "```sh\n      # Run during low-activity periods# Schedule during maintenance windows# Use ionice for lower priority\nsudo ionice -c 3 fsck /dev/sdb1 \n\n```", "```sh\n      # fsck exit codes:\n        # 0: No errors\n        # 1: Filesystem errors corrected\n        # 2: System should be rebooted\n        # 4: Filesystem errors left uncorrected\n        # 8: Operational error\n        # 16: Usage or syntax error\n        # 32: Checking canceled by user request\n        # 128: Shared-library error \n\n```"]