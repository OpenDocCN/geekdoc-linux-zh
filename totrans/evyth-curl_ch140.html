<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch140.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="usingcurl__mqtt__md-_-_-mqtt" class="level1" data-number="139">
<h1 data-number="139">MQTT</h1>
<p>A plain GET subscribes to the topic and prints all published messages. Doing a POST publishes the post data to the topic and exits.</p>
<p>Subscribe to the temperature in the <code>home/bedroom</code> subject published by example.com:</p>
<pre><code>curl mqtt://example.com/home/bedroom/temp</code></pre>
<p>Send the value <code>75</code> to the <code>home/bedroom/dimmer</code> subject hosted by the example.com server:</p>
<pre><code>curl -d 75 mqtt://example.com/home/bedroom/dimmer</code></pre>
<section id="usingcurl__mqtt__md-_-_-what-does-curl-deliver-as-a-response-to-a-subscribe" class="level2" data-number="139.1">
<h2 data-number="139.1">What does curl deliver as a response to a subscribe</h2>
<p>It outputs two bytes topic length (MSB | LSB), the topic followed by the payload.</p>
</section>
<section id="usingcurl__mqtt__md-_-_-caveats" class="level2" data-number="139.2">
<h2 data-number="139.2">Caveats</h2>
<p>Remaining limitations in curlâ€™s MQTT support as of September 2022:</p>
<ul>
<li>Only QoS level 0 is implemented for publish</li>
<li>No way to set retain flag for publish</li>
<li>No TLS (mqtts) support</li>
</ul>
<p><span id="usingcurl__telnet__md"></span></p>
</section>
</section>
</body>
</html>
