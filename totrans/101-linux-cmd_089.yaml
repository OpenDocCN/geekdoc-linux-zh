- en: The `ssh` command
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '`ssh` 命令'
- en: The `ssh` command in Linux stands for "Secure Shell". It is a protocol used
    to securely connect to a remote server/system. ssh is more secure in the sense
    that it transfers the data in encrypted form between the host and the client.
    ssh runs at TCP/IP port 22.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Linux 中的 `ssh` 命令代表“安全壳”。这是一个用于安全连接到远程服务器/系统的协议。与客户端之间以加密形式传输数据，因此 ssh 更安全。ssh
    在 TCP/IP 端口 22 上运行。
- en: 'Examples:'
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例：
- en: 'Use a Different Port Number for SSH Connection:'
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用不同的端口号进行 SSH 连接：
- en: '[PRE0]'
  id: totrans-4
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: -i ssh to remote server using a private key?
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '- 使用私钥连接到远程服务器 `ssh`？'
- en: '[PRE1]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: -l ssh specifying a different username
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '- 使用 `ssh` 指定不同的用户名'
- en: '[PRE2]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Syntax:'
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 语法：
- en: '[PRE3]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Additional Flags and their Functionalities:'
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 其他标志及其功能：
- en: '| **Flag** | **Description** |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '| **标志** | **描述** |'
- en: '| :-- | :-- |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| :-- | :-- |'
- en: '| `-1` | Forces ssh to use protocol SSH-1 only. |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| `-1` | 强制 ssh 只使用 SSH-1 协议。|'
- en: '| `-2` | Forces ssh to use protocol SSH-2 only. |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| `-2` | 强制 ssh 只使用 SSH-2 协议。|'
- en: '| `-4` | Allows IPv4 addresses only. |'
  id: totrans-18
  prefs: []
  type: TYPE_TB
  zh: '| `-4` | 仅允许 IPv4 地址。|'
- en: '| `-A` | Authentication agent connection forwarding is enabled.. |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| `-A` | 启用身份验证代理连接转发。|'
- en: '| `-a` | Authentication agent connection forwarding is disabled. |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| `-a` | 禁用身份验证代理连接转发。|'
- en: '| `-B bind_interface` | Bind to the address of bind_interface before attempting
    to connect to the destination host. This is only useful on systems with more than
    one address. |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| `-B bind_interface` | 在尝试连接到目标主机之前绑定到 bind_interface 的地址。这在具有多个地址的系统上才有用。|'
- en: '| `-b bind_address` | Use bind_address on the local machine as the source address
    of the connection. Only useful on systems with more than one address. |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| `-b bind_address` | 在本地机器上使用 bind_address 作为连接的源地址。这在具有多个地址的系统上才有用。|'
- en: '| `-C` | Compresses all data (including stdin, stdout, stderr, and data for
    forwarded X11 and TCP connections) for a faster transfer of data. |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| `-C` | 对所有数据（包括 stdin、stdout、stderr 以及转发 X11 和 TCP 连接的数据）进行压缩，以加快数据传输。|'
- en: '| `-c cipher_spec` | Selects the cipher specification for encrypting the session.
    |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| `-c cipher_spec` | 选择用于加密会话的加密规范。|'
- en: '| `-D [bind_address:]port` | Dynamic application-level port forwarding. This
    allocates a socket to listen to port on the local side. When a connection is made
    to this port, the connection is forwarded over the secure channel, and the application
    protocol is then used to determine where to connect to from the remote machine.
    |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| `-D [bind_address:]port` | 动态应用层端口转发。这为本地侧的端口分配一个套接字进行监听。当连接到此端口时，连接将通过安全通道进行转发，然后使用应用程序协议确定从远程机器连接到何处。|'
- en: '| `-E log_file` | Append debug logs instead of standard error. |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| `-E log_file` | 将调试日志附加到标准错误。|'
- en: '| `-e escape_char` | Sets the escape character for sessions with a pty (default:
    ‘~’). The escape character is only recognized at the beginning of a line. The
    escape character followed by a dot (‘.’) closes the connection; followed by control-Z
    suspends the connection; and followed by itself sends the escape character once.
    Setting the character to “none” disables any escapes and makes the session fully
    transparent. |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| `-e escape_char` | 设置与 pty 会话的转义字符（默认：‘~’）。转义字符仅在行首被识别。跟在点（‘.’）后面的转义字符关闭连接；跟在控制-Z
    后挂起连接；跟在自己后面发送一次转义字符。将字符设置为“none”将禁用任何转义，并使会话完全透明。|'
- en: '| `-F configfile` | Specifies a per-user configuration file. The default for
    the per-user configuration file is ~/.ssh/config. |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| `-F configfile` | 指定每个用户的配置文件。每个用户的默认配置文件是 ~/.ssh/config。|'
- en: '| `-f` | Requests ssh to go to background just before command execution. |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| `-f` | 请求 ssh 在命令执行前进入后台。|'
- en: '| `-G` | Causes ssh to print its configuration after evaluating Host and Match
    blocks and exit. |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| `-G` | 导致 ssh 在评估 Host 和 Match 块后打印其配置并退出。|'
- en: '| `-g` | Allows remote hosts to connect to local forwarded ports. |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| `-g` | 允许远程主机连接到本地转发端口。|'
- en: '| `-I pkcs11` | Specify the PKCS#11 shared library ssh should use to communicate
    with a PKCS#11 token providing keys. |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| `-I pkcs11` | 指定 ssh 应用于与提供密钥的 PKCS#11 令牌通信的共享库。|'
- en: '| `-i identity_file` | A file from which the identity key (private key) for
    public key authentication is read. |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| `-i identity_file` | 从该文件读取用于公钥认证的标识密钥（私钥）。|'
- en: '| `-J [user@]host[:port]` | Connect to the target host by first making a ssh
    connection to the pjump host[(/iam/jump-host) and then establishing a TCP forwarding
    to the ultimate destination from there. |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| `-J [user@]host[:port]` | 首先通过 ssh 连接到 pjump 主机[(/iam/jump-host)]，然后从那里建立到最终目标的
    TCP 转发连接以连接到目标主机。|'
- en: '| `-K` | Enables GSSAPI-based authentication and forwarding (delegation) of
    GSSAPI credentials to the server. |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '`-K` | 启用基于GSSAPI的身份验证和转发（委派）GSSAPI凭证到服务器。'
- en: '| `-k` | Disables forwarding (delegation) of GSSAPI credentials to the server.
    |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '`-k` | 禁用将GSSAPI凭证转发（委派）到服务器。'
- en: '| `-L [bind_address:]port:host:hostport`, `-L [bind_address:]port:remote_socket`,
    `-L local_socket:host:hostport`, `-L local_socket:remote_socket` | Specifies that
    connections to the given TCP port or Unix socket on the local (client) host are
    to be forwarded to the given host and port, or Unix socket, on the remote side.
    This works by allocating a socket to listen to either a TCP port on the local
    side, optionally bound to the specified bind_address, or to a Unix socket. Whenever
    a connection is made to the local port or socket, the connection is forwarded
    over the secure channel, and a connection is made to either host port hostport,
    or the Unix socket remote_socket, from the remote machine. |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '`-L [bind_address:]port:host:hostport`, `-L [bind_address:]port:remote_socket`,
    `-L local_socket:host:hostport`, `-L local_socket:remote_socket` | 指定到本地（客户端）主机上给定TCP端口或Unix套接字的连接应转发到远程端的主机和端口，或Unix套接字。这是通过在本地端分配一个套接字来监听TCP端口，可选地绑定到指定的bind_address，或Unix套接字来实现的。每当连接到本地端口或套接字时，连接将通过安全通道转发，并从远程机器建立到主机端口hostport或Unix套接字remote_socket的连接。'
- en: '| `-l login_name` | Specifies the user to log in as on the remote machine.
    |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '`-l login_name` | 指定在远程机器上登录的用户。'
- en: '| `-M` | Places the ssh client into “master” mode for connection sharing. Multiple
    -M options places ssh into “master” mode but with confirmation required using
    ssh-askpass before each operation that changes the multiplexing state (e.g. opening
    a new session). |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '`-M` | 将ssh客户端置于“主”模式以进行连接共享。多个-M选项将ssh置于“主”模式，但在每个更改多路复用状态的操作（例如打开新会话）之前需要使用ssh-askpass进行确认。'
- en: '| `-m mac_spec` | A comma-separated list of MAC (message authentication code)
    algorithms, specified in order of preference. |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '`-m mac_spec` | 以逗号分隔的MAC（消息认证代码）算法列表，按优先级指定。'
- en: '| `-N` | Do not execute a remote command. This is useful for just forwarding
    ports. |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '`-N` | 不执行远程命令。这对于仅转发端口很有用。'
- en: '| `-n` | Prevents reading from stdin. |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '`-n` | 防止从stdin读取。'
- en: '| `-O ctl_cmd` | Control an active connection multiplexing master process.
    When the -O option is specified, the ctl_cmd argument is interpreted and passed
    to the master process. Valid commands are: “check” (check that the master process
    is running), “forward” (request forwardings without command execution), “cancel”
    (cancel forwardings), “exit” (request the master to exit), and “stop” (request
    the master to stop accepting further multiplexing requests). |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '`-O ctl_cmd` | 控制活动连接多路复用主进程。当指定-O选项时，ctl_cmd参数将被解释并传递给主进程。有效的命令有：“check”（检查主进程是否正在运行）、“forward”（请求转发而不执行命令）、“cancel”（取消转发）、“exit”（请求主进程退出）和“stop”（请求主进程停止接受进一步的多路复用请求）。'
- en: '| `-o` | Can be used to give options in the format used in the configuration
    file. This is useful for specifying options for which there is no separate command-line
    flag. |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '`-o` | 可以用于以配置文件中使用的格式给出选项。这对于指定没有单独命令行标志的选项很有用。'
- en: '| `-p`, `--port PORT` | Port to connect to on the remote host. |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '`-p`, `--port PORT` | 连接到远程主机的端口号。'
- en: '| `-Q query_option` | Queries ssh for the algorithms supported for the specified
    version 2\. The available features are: cipher (supported symmetric ciphers),
    cipher-auth (supported symmetric ciphers that support authenticated encryption),
    help (supported query terms for use with the -Q flag), mac (supported message
    integrity codes), kex (key exchange algorithms), kex-gss (GSSAPI key exchange
    algorithms), key (keytypes), key-cert (certificate key types), key-plain (non-certificate
    key types), key-sig (all keytypes and signature algorithms), protocol-version
    (supported SSH protocol versions), and sig (supported signature algorithms). Alternatively,
    any keyword from ssh_config(5) or sshd_config(5) thattakes an algorithm list may
    be used as an alias for the corresponding query_option. |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '`-Q query_option` | 对ssh进行查询，以获取指定版本2支持的计算法。可用的功能包括：cipher（支持的对称加密算法）、cipher-auth（支持认证加密的对称加密算法）、help（与-Q标志一起使用的支持查询术语）、mac（支持的消息完整性代码）、kex（密钥交换算法）、kex-gss（GSSAPI密钥交换算法）、key（密钥类型）、key-cert（证书密钥类型）、key-plain（非证书密钥类型）、key-sig（所有密钥类型和签名算法）、protocol-version（支持的SSH协议版本）和sig（支持的签名算法）。或者，可以使用ssh_config(5)或sshd_config(5)中任何接受算法列表的关键字作为相应query_option的别名。'
- en: '| `-q` | Qiet mode. Causes most warning and diagnostic messages to be suppressed.
    |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '`-q` | 静音模式。导致大多数警告和诊断信息被抑制。|'
- en: '| `-R [bind_address:]port:host:hostport, -R [bind_address:]port:local_socket,
    -R remote_socket:host:hostport, -R remote_socket:local_socket, -R [bind_address:]port`
    | Specifies that connections to the given TCP port or Unix socket on the remote
    (server) host are to be forwarded to the local side. |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '`-R [bind_address:]port:host:hostport, -R [bind_address:]port:local_socket,
    -R remote_socket:host:hostport, -R remote_socket:local_socket, -R [bind_address:]port`
    | 指定连接到远程（服务器）主机上的给定 TCP 端口或 Unix 套接字应转发到本地端。|'
- en: '| `-S ctl_path` | Specifies the location of a control socket for connection
    sharing, or the string “none” to disable connection sharing. |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '`-S ctl_path` | 指定连接共享的控制套接字的位置，或字符串“none”以禁用连接共享。|'
- en: '| `-s` | May be used to request invocation of a subsystem on the remote system.
    Subsystems facilitate the use of SSH as a secure transport for other applications
    (e.g. sftp(1)). The subsystem is specified as the remote command. |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '`-s` | 可用于请求在远程系统上调用子系统。子系统便于将 SSH 作为其他应用程序（例如 sftp(1)）的安全传输使用。子系统作为远程命令指定。|'
- en: '| `-T` | Disable pseudo-terminal allocation. |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '`-T` | 禁用伪终端分配。|'
- en: '| `-t` | Force pseudo-terminal allocation. This can be used to execute arbitrary
    screen-based programs on a remote machine, which can be very useful, e.g. when
    implementing menu services. Multiple -t options force tty allocation, even if
    ssh has no local tty. |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '`-t` | 强制分配伪终端。这可以用于在远程机器上执行任意基于屏幕的程序，这非常有用，例如在实现菜单服务时。多个 -t 选项强制分配 tty，即使
    ssh 没有本地 tty。|'
- en: '| `-V` | Display the version number. |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '`-V` | 显示版本号。|'
- en: '| `-v` | Verbose mode. It echoes everything it is doing while establishing
    a connection. It is very useful in the debugging of connection failures. |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '`-v` | 详细模式。在建立连接时回显其正在执行的所有操作。在调试连接失败时非常有用。|'
- en: '| `-W host:port` | Requests that standard input and output on the client be
    forwarded to host on port over the secure channel. Implies -N, -T, ExitOnForwardFailure
    and ClearAllForwardings, though these can be overridden in the configuration file
    or using -o command line options. |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '`-W host:port` | 请求将客户端的标准输入和输出通过安全通道转发到主机上的端口。隐含 -N、-T、ExitOnForwardFailure
    和 ClearAllForwardings，尽管这些可以在配置文件或使用 -o 命令行选项中覆盖。|'
- en: '| `-w local_tun[remote_tun]` | Requests tunnel device forwarding with the specified
    tun devices between the client (local_tun) and the server (remote_tun). The devices
    may be specified by numerical ID or the keyword “any”, which uses the next available
    tunnel device. If remote_tun is not specified, it defaults to “any”. If the Tunnel
    directive is unset, it will be set to the default tunnel mode, which is “point-to-point”.
    If a different Tunnel forwarding mode it desired, then it should be specified
    before -w. |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '`-w local_tun[remote_tun]` | 请求使用指定的 tun 设备在客户端（local_tun）和服务器（remote_tun）之间进行隧道设备转发。设备可以通过数字
    ID 或关键字“any”指定，后者使用下一个可用的隧道设备。如果未指定 remote_tun，则默认为“any”。如果未设置隧道指令，则将其设置为默认隧道模式，即“点对点”。如果需要不同的隧道转发模式，则应在
    -w 之前指定。|'
- en: '| `-X` | Enables X11 forwarding (GUI Forwarding). |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '`-X` | 启用 X11 转发（GUI 转发）。|'
- en: '| `-x` | Disables X11 forwarding (GUI Forwarding). |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '`-x` | 禁用 X11 转发（GUI 转发）。|'
- en: '| `-Y` | Enables trusted X11 Forwarding. |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '`-Y` | 启用受信任的 X11 转发。|'
- en: '| `-y` | Send log information using the syslog system module. By default this
    information is sent to stderr. |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '`-y` | 使用 syslog 系统模块发送日志信息。默认情况下，此信息发送到 stderr。|'
