- en: Contributing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 贡献
- en: Contributing means helping out.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 贡献意味着帮助。
- en: When you contribute anything to the project—code, documentation, bug fixes,
    suggestions or just good advice—we assume you do this with permission and you
    are not breaking any contracts or laws by providing that to us. If you do not
    have permission, do not contribute it to us.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当你向项目贡献任何内容——代码、文档、错误修复、建议或仅仅是好的建议——我们假设你是经过授权的，并且你提供这些内容没有违反任何合同或法律。如果你没有授权，请不要向我们贡献。
- en: Contributing to a project like curl could be many different things. While source
    code is the stuff that is needed to build the products, we are also depending
    on good documentation, testing (both test code and test infrastructure), web content,
    user support and more.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 向像 curl 这样的项目贡献可能有很多不同的方式。虽然源代码是构建产品的必需品，但我们还依赖于良好的文档、测试（包括测试代码和测试基础设施）、网络内容、用户支持和更多。
- en: Send your changes or suggestions to the team and by working together we can
    fix problems, improve functionality, clarify documentation, add features or make
    anything else you help out with land in the proper place. We make sure improved
    code and docs get merged into the source tree properly and other sorts of contributions
    are suitable received.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 将你的更改或建议发送给团队，通过共同努力，我们可以修复问题、改进功能、澄清文档、添加功能或帮助你使任何其他你帮助的事情得到适当的处理。我们确保改进的代码和文档正确地合并到源树中，其他类型的贡献也适合接收。
- en: Send your contributions on a [mailing list](ch007.xhtml#project__comm__md),
    file an issue or submit a pull request.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过 [邮件列表](ch007.xhtml#project__comm__md)、提交问题或提交拉取请求来发送你的贡献。
- en: Suggestions
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 建议
- en: Ideas are easy, implementations are hard. Yes, we do appreciate good ideas and
    suggestions of what to do and how to do it, but the chances that the ideas actually
    turn into real features grow substantially if you also volunteer to participate
    in converting the idea into reality.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 想法容易，实现困难。是的，我们确实欣赏好的想法和建议，关于做什么以及如何做，但如果你也愿意参与将想法变为现实，那么这些想法真正成为实际功能的可能性会大大增加。
- en: We already gather ideas in the `TODO` document and we are generally aware of
    the current trends in the popular networking protocols so there is usually no
    need to remind us about those.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在 `TODO` 文档中收集了想法，并且通常对流行的网络协议的当前趋势有所了解，所以通常不需要提醒我们那些。
- en: What to add
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应添加的内容
- en: The best approach to add anything to curl or libcurl is, of course, to first
    bring the idea and suggestion to the curl project team members and then discuss
    with them if the idea is feasible for inclusion and then how an implementation
    is best done—and done in the best possible way to get merged into the source code
    repository, assuming that is what you want.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 向 curl 或 libcurl 添加任何内容的最佳方法当然是首先将你的想法和建议提交给 curl 项目团队成员，然后与他们讨论这个想法是否适合添加，以及如何以最佳方式实现——假设你想将其合并到源代码仓库中。
- en: The project generally approves functions that improve the support for the current
    protocols, especially features that popular clients or browsers have but that
    curl still lacks.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 项目通常批准那些改善当前协议支持的函数，特别是那些流行的客户端或浏览器有但 curl 还缺少的功能。
- en: Of course, you can also add contents to the project that are not code, like
    documentation, graphics or website contents, but the general rules apply equally
    to that.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，你也可以向项目添加非代码内容，如文档、图形或网站内容，但一般规则同样适用于此。
- en: If you are fixing a problem you have or a problem that others are reporting,
    we are thrilled to receive your fixes and merge them as soon as possible,
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在修复你遇到的问题或其他人报告的问题，我们非常高兴收到你的修复并将其尽快合并，
- en: What not to add
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 不应添加的内容
- en: 'There are no good rules that say what features you can or cannot add or that
    we never accept, but let me instead try to mention a few things you should avoid
    to get less friction and to be successful, faster:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 没有好的规则说明你可以添加或不能添加哪些功能，或者我们永远不会接受，但让我试着提几点你应该避免的事情，以减少摩擦并更快地成功：
- en: Do not write up a huge patch first and then send it to the list for discussion.
    Always start out by discussing on the list, and send your initial review requests
    early to get feedback on your design and approach. It saves you from wasting time
    going down a route that might need rewriting in the end anyway.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要先写一个大补丁然后发送到列表中进行讨论。始终先在列表上讨论，并尽早发送你的初步审查请求，以便获得对你设计和方法的反馈。这样可以避免浪费时间走上一条最终可能需要重写的路线。
- en: When introducing things in the code, you need to follow the style and architecture
    that already exists. When you add code to the ordinary transfer code path, it
    must, for example, work asynchronously in a non-blocking manner. We do not accept
    new code that introduces blocking behaviors—we already have too many of those
    that we have not managed to remove yet.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当在代码中引入新内容时，您需要遵循已经存在的风格和架构。当您向普通传输代码路径添加代码时，例如，它必须以非阻塞方式异步工作。我们不接受引入阻塞行为的代码——我们已经有太多尚未移除的这类代码。
- en: Quick hacks or dirty solutions that have a high risk of not working on platforms
    you do not run or on architectures you do not know. We do not care if you are
    in a hurry or that it works for you. We do not accept high risk code or code that
    is hard to read or understand.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 快速修补或脏解决方案，这些方案在您不运行的平台或您不熟悉的架构上可能无法正常工作。我们不关心您是否急于求成或它对您是否有效。我们不接受高风险代码或难以阅读或理解的代码。
- en: Code that breaks the build. Sure, we accept that we sometimes have to add code
    to certain areas that makes the new functionality perhaps depend on a specific
    3rd party library or a specific operating system and similar, but we can **never**
    do that at the expense of all other systems. We do not break the build, and we
    make sure all tests keep running successfully.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 破坏构建的代码。当然，我们承认有时我们必须添加代码到某些区域，使得新功能可能依赖于特定的第三方库或特定的操作系统等，但我们**永远**不能以牺牲所有其他系统为代价这样做。我们不破坏构建，并确保所有测试都能成功运行。
- en: git
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: git
- en: Our preferred source control tool is [git](https://git-scm.com/).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首选的源代码管理工具是[git](https://git-scm.com/)。
- en: While git is sometimes not the easiest tool to learn and master, all the basic
    steps a casual developer and contributor needs to know are straight-forward and
    do not take much time or effort to learn.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然有时git不是最容易学习和掌握的工具，但一个普通开发者和贡献者需要了解的所有基本步骤都是直接的，并且学习它们不需要花费太多时间或精力。
- en: This book does not help you learn git. All software developers in this day and
    age should learn git anyway.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书不能帮助您学习git。然而，在这个时代，所有软件开发者都应该学习git。
- en: The curl git tree can be browsed with a web browser on our GitHub page at [https://github.com/curl/curl](https://github.com/curl/curl).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过我们的GitHub页面上的网页浏览器浏览curl git树，网址为[https://github.com/curl/curl](https://github.com/curl/curl)。
- en: 'To check out the curl source code from git, you can clone it like this:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 要从git检出curl源代码，您可以像这样克隆它：
- en: '[PRE0]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Pull request
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 拉取请求
- en: A popular and convenient way to make your own changes and contribute them back
    to the project is by doing a so-called pull request on GitHub.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在GitHub上通过所谓的拉取请求（pull request）来做出自己的更改并将它们贡献回项目是一种流行且方便的方式。
- en: First, you create your own version of the source tree, called a fork, on the
    Github website. That way you get your own version of the curl git tree that you
    can clone to a local copy.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，在GitHub网站上创建自己的源代码版本，称为分支（fork）。这样，您就可以克隆自己的curl git树到本地副本。
- en: You edit your own local copy, commit the changes, push them to the git repository
    on Github and then on the Github website you can select to create a pull request
    based on your changes done to your local repository clone of the original curl
    repository.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您编辑自己的本地副本，提交更改，然后将它们推送到GitHub上的git仓库，然后在GitHub网站上，您可以根据对原始curl仓库本地副本所做的更改选择创建一个拉取请求。
- en: We recommend doing your work meant for a pull request in a dedicated separate
    branch and not in master, just to make it easier for you to update a pull request,
    like after review, for example, or if you realize it was a dead end and you decide
    to just throw it away.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们建议您在专门的独立分支上完成打算用于拉取请求的工作，而不是在master分支上，这样在审查后或如果您意识到这是一个死胡同并决定将其丢弃时，您就可以更容易地更新拉取请求。
- en: Make a patch for the mailing list
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为邮件列表制作补丁
- en: Even if you opt to not make a pull request but prefer the old fashioned and
    trusted method of sending a patch to the curl-library mailing list, it is still
    a good practice to work in a local git branch and commit your changes there.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 即使您选择不创建拉取请求而更喜欢传统的、可靠的将补丁发送到curl-library邮件列表的方法，仍然是一个好习惯，在本地git分支上工作并在此处提交您的更改。
- en: A branch makes it easy to edit and rebase when you need to change things and
    it makes it easy to keep syncing to the master branch when things are updated
    upstream.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 分支使得在需要更改内容时编辑和变基变得容易，并且当上游更新时，它也使得保持与master分支的同步变得容易。
- en: Once your commits are fine enough to get sent to the mailing list, you just
    create patches with `git format-patch` and send them away. Even more fancy users
    go directly to `git send-email` and have git send the email itself.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你的提交足够好，可以发送到邮件列表，你只需使用`git format-patch`创建补丁并发送即可。甚至更高级的用户会直接使用`git send-email`，让git自己发送邮件。
- en: git commit style
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: git提交风格
- en: 'When you commit a patch to git, you give it a commit message that describes
    the change you are committing. We have a certain style in the project that we
    ask you to use:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在git中提交补丁时，你给出一个提交信息来描述你正在提交的更改。我们在项目中有一个特定的风格，我们要求你使用：
- en: '[PRE1]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Do not forget to use `git commit --author="Jane Doe <jane@example.com>"` if
    you commit someone else’s work, and make sure that you have your own Github username
    and email setup correctly in git before you commit via commands below:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 不要忘记，如果你提交的是他人的作品，请使用`git commit --author="Jane Doe <jane@example.com>"`，并确保在通过以下命令提交之前，你的GitHub用户名和电子邮件在git中设置正确：
- en: '[PRE2]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The author and the *-by: lines are, of course, there to make sure we give the
    proper credit in the project. We do not want to take someone else’s work without
    clearly attributing where it comes from. Giving correct credit is of utmost importance.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 作者和*-by:行当然是为了确保我们在项目中给予适当的认可。我们不希望未经明确说明来源就使用他人的作品。给予正确的认可至关重要。
- en: Who decides what goes in?
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 谁决定什么可以进入？
- en: First, it might not be obvious to everyone but there is, of course, only a limited
    set of people that can actually merge commits into the actual official git repository.
    Let’s call them the core team.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，可能对每个人来说并不明显，但当然只有有限的一组人能够将提交合并到实际的官方git仓库中。让我们称他们为核心团队。
- en: Everyone else can fork off their own curl repository to which they can commit
    and push changes and host them online and build their own curl versions from and
    so on, but in order to get changes into the *official* repository they need to
    be pushed by a trusted person.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 其他所有人都可以从自己的curl仓库分叉，他们可以在其中提交和推送更改，在线托管，并从中构建自己的curl版本等等，但为了将更改推送到*官方*仓库，他们需要由信任的人进行推送。
- en: The core team is a small set of curl developers who have been around for several
    years and have shown they are skilled developers and that they fully comprehend
    the values and the style of development we do in this project. They are some of
    the people listed in the [The development team](ch017.xhtml#project__devteam__md)
    section.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 核心团队是一小部分curl开发者，他们在项目中有几年的经验，并证明他们是技术娴熟的开发者，并且完全理解我们在项目中进行的价值观和开发风格。他们中的一些人列在[开发团队](ch017.xhtml#project__devteam__md)部分。
- en: You can always bring a discussion to the mailing list and argue why you think
    your changes should get accepted, or perhaps even object to other changes that
    are getting in and so forth. You can even suggest yourself or someone else to
    be given “push rights” and become one of the selected few in that team.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 你总是可以将讨论带到邮件列表，并争论为什么你认为你的更改应该被接受，或者甚至反对即将进入的其他更改等等。你甚至可以建议自己或其他人被赋予“推送权限”，成为该团队中精选的少数人之一。
- en: Daniel remains the project leader and while it is rarely needed, he has the
    final say in debates that do not seem to sway in either direction or fail to reach
    consensus.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 丹尼尔仍然是项目负责人，虽然很少需要，但在似乎没有偏向任何一方或未能达成共识的辩论中，他有最终决定权。
