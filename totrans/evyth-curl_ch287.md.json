["```sh\n#include <stdio.h>\n#include <string.h>\n#include <sys/time.h>\n\n#include <curl/curl.h>\n\nint main(void)\n{\n  CURL *curl;\n\n  CURLM *multi_handle;\n  int still_running = 0;\n\n  curl_mime *form = NULL;\n  curl_mimepart *field = NULL;\n  struct curl_slist *headerlist = NULL;\n  static const char buf[] = \"Expect:\";\n\n  curl = curl_easy_init();\n  multi_handle = curl_multi_init();\n\n  if(curl && multi_handle) {\n    /* Create the form */\n    form = curl_mime_init(curl);\n\n    /* Fill in the file upload field */\n    field = curl_mime_addpart(form);\n    curl_mime_name(field, \"sendfile\");\n    curl_mime_filedata(field, \"multi-post.c\");\n\n    /* Fill in the filename field */\n    field = curl_mime_addpart(form);\n    curl_mime_name(field, \"filename\");\n    curl_mime_data(field, \"multi-post.c\", CURL_ZERO_TERMINATED);\n\n    /* Fill in the submit field too, even if this is rarely needed */\n    field = curl_mime_addpart(form);\n    curl_mime_name(field, \"submit\");\n    curl_mime_data(field, \"send\", CURL_ZERO_TERMINATED);\n\n    /* initialize custom header list (stating that Expect: 100-continue is\n       not wanted */\n    headerlist = curl_slist_append(headerlist, buf);\n\n    /* what URL that receives this POST */\n    curl_easy_setopt(curl, CURLOPT_URL, \"https://example.com/upload.cgi\");\n    curl_easy_setopt(curl, CURLOPT_VERBOSE, 1L);\n\n    curl_easy_setopt(curl, CURLOPT_HTTPHEADER, headerlist);\n    curl_easy_setopt(curl, CURLOPT_MIMEPOST, form);\n\n    curl_multi_add_handle(multi_handle, curl);\n\n    do {\n      CURLMcode mc = curl_multi_perform(multi_handle, &still_running);\n\n      if(still_running)\n        /* wait for activity, timeout or \"nothing\" */\n        mc = curl_multi_poll(multi_handle, NULL, 0, 1000, NULL);\n\n      if(mc)\n        break;\n    } while(still_running);\n\n    curl_multi_cleanup(multi_handle);\n\n    /* always cleanup */\n    curl_easy_cleanup(curl);\n\n    /* then cleanup the form */\n    curl_mime_free(form);\n\n    /* free slist */\n    curl_slist_free_all(headerlist);\n  }\n  return 0;\n}\n```"]