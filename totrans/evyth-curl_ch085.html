<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch085.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="usingcurl__downloads__storing__md-_-_-storing-downloads" class="level1" data-number="84">
<h1 data-number="84">Storing downloads</h1>
<p>If you try the example download as in the previous section, you might notice that curl outputs the downloaded data to stdout unless told to do something else. Outputting data to stdout is really useful when you want to pipe it into another program or similar, but it is not always the optimal way to deal with your downloads.</p>
<p>Give curl a specific filename to save the download in with <code>-o [filename]</code> (with <code>--output</code> as the long version of the option), where filename is either just a filename, a relative path to a filename or a full path to the file.</p>
<p>Also note that you can put the <code>-o</code> before or after the URL; it makes no difference:</p>
<pre><code>curl -o output.html http://example.com/
curl -o /tmp/index.html http://example.com/
curl http://example.com -o ../../folder/savethis.html</code></pre>
<p>This is, of course, not limited to <code>http://</code> URLs but works the same way no matter which type of URL you download:</p>
<pre><code>curl -o file.txt ftp://example.com/path/to/file-name.ext</code></pre>
<p>If you ask curl to send the output to the terminal, it attempts to detect and prevent binary data from being sent there since that can seriously mess up your terminal (sometimes to the point where it stops working). You can override curl’s binary-output-prevention and force the output to get sent to stdout by using <code>-o -</code>.</p>
<p>curl has several other ways to store and name the downloaded data. Details follow.</p>
<section id="usingcurl__downloads__storing__md-_-_-overwriting" class="level2" data-number="84.1">
<h2 data-number="84.1">Overwriting</h2>
<p>When curl downloads a remote resource into a local filename as described above, it overwrites that file in case it already existed. It <em>clobbers</em> it.</p>
<p>curl offers a way to avoid this clobbering: <code>--no-clobber</code>.</p>
<p>When using this option, and curl finds that there already exists a file with the given name, curl instead appends a period plus a number to the filename in an attempt to find a name that is not already used. It starts with <code>1</code> and then continues trying numbers until it reaches <code>100</code> and picks the first available one.</p>
<p>For example, if you ask curl to download a URL to <code>picture.png</code>, and in that directory there already are two files called <code>picture.png</code> and <code>picture.png.1</code>, the following saves the file as <code>picture.png.2</code>:</p>
<pre><code>curl --no-clobber https://example.com/image -o picture.png</code></pre>
<p>A user can use the <a href="ch081.xhtml#usingcurl__verbose__writeout__md">–write-out</a> option’s <code>%filename_effective</code> variable to figure out which name that was eventually used.</p>
</section>
<section id="usingcurl__downloads__storing__md-_-_-leftovers-on-errors" class="level2" data-number="84.2">
<h2 data-number="84.2">Leftovers on errors</h2>
<p>By default, if curl runs into a problem during a download and exits with an error, the partially transferred file is left as-is. It could be a small fraction of the intended file, or it could be almost the entire thing. It is up to the user to decide what to do with the leftovers.</p>
<p>The <code>--remove-on-error</code> command line option changes this behavior. It tells curl to delete any partially saved file if curl exits with an error. No more leftovers.</p>
<p><span id="usingcurl__downloads__url-named__md"></span></p>
</section>
</section>
</body>
</html>
