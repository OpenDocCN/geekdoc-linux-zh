- en: Read
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'An application receives and reads incoming WebSocket traffic using one of these
    two methods:'
  prefs: []
  type: TYPE_NORMAL
- en: Write callback
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When the `CURLOPT_CONNECT_ONLY` option is **not** set, WebSocket data is delivered
    to the write callback.
  prefs: []
  type: TYPE_NORMAL
- en: In the default frame mode (as opposed to raw mode), libcurl delivers parts of
    WebSocket fragments to the callback as data arrives. The application can then
    call `curl_ws_meta()` to get information about the specific frame that was passed
    to the callback.
  prefs: []
  type: TYPE_NORMAL
- en: libcurl can deliver full fragments or partial ones, depending on what comes
    over the wire when. Each WebSocket fragment can be up to 63 bit in size.
  prefs: []
  type: TYPE_NORMAL
- en: '`curl_ws_recv`'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If the connect-only option was set, the transfer ends after the WebSocket has
    been setup to the remote host and from that point the application needs to call
    `curl_ws_recv()` to read WebSocket data and `curl_ws_send()` to send it.
  prefs: []
  type: TYPE_NORMAL
- en: 'The `curl_ws_recv` function has this prototype:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '`curl` - the handle to the transfer'
  prefs: []
  type: TYPE_NORMAL
- en: '`buffer` - pointer to a buffer to receive the WebSocket data in'
  prefs: []
  type: TYPE_NORMAL
- en: '`buflen` - the size in bytes of the **buffer**'
  prefs: []
  type: TYPE_NORMAL
- en: '`recv` - the size in bytes of the data stored in the **buffer* on return'
  prefs: []
  type: TYPE_NORMAL
- en: '`meta` - gets a pointer to a struct with [information about the received frame](ch275.xhtml#helpers__ws__meta__md).'
  prefs: []
  type: TYPE_NORMAL
