- en: Appendix B. Reference Cards
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://tldp.org/LDP/abs/html/refcards.html](https://tldp.org/LDP/abs/html/refcards.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The following reference cards provide a useful *summary* of certain scripting
    concepts. The foregoing text treats these matters in more depth, as well as giving
    usage examples.
  prefs: []
  type: TYPE_NORMAL
- en: '**Table B-1\. Special Shell Variables**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Variable | Meaning |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `$0` | Filename of script |'
  prefs: []
  type: TYPE_TB
- en: '| `$1` | Positional parameter #1 |'
  prefs: []
  type: TYPE_TB
- en: '| `$2 - $9` | Positional parameters #2 - #9 |'
  prefs: []
  type: TYPE_TB
- en: '| `${10}` | Positional parameter #10 |'
  prefs: []
  type: TYPE_TB
- en: '| `$#` | Number of positional parameters |'
  prefs: []
  type: TYPE_TB
- en: '| `"$*"` | All the positional parameters (as a single word) * |'
  prefs: []
  type: TYPE_TB
- en: '| `"$@"` | All the positional parameters (as separate strings) |'
  prefs: []
  type: TYPE_TB
- en: '| `${#*}` | Number of positional parameters |'
  prefs: []
  type: TYPE_TB
- en: '| `${#@}` | Number of positional parameters |'
  prefs: []
  type: TYPE_TB
- en: '| `$?` | Return value |'
  prefs: []
  type: TYPE_TB
- en: '| `$$` | Process ID (PID) of script |'
  prefs: []
  type: TYPE_TB
- en: '| `$-` | Flags passed to script (using *set*) |'
  prefs: []
  type: TYPE_TB
- en: '| `$_` | Last argument of previous command |'
  prefs: []
  type: TYPE_TB
- en: '| `$!` | Process ID (PID) of last job run in background |'
  prefs: []
  type: TYPE_TB
- en: '***** *Must be quoted*, otherwise it defaults to `$@`.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Table B-2\. TEST Operators: Binary Comparison**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Operator | Meaning | ----- | Operator | Meaning |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| [Arithmetic Comparison](comparison-ops.html#ICOMPARISON1) |   |   | [String
    Comparison](comparison-ops.html#SCOMPARISON1) |   |'
  prefs: []
  type: TYPE_TB
- en: '| `-eq` | Equal to |   | `=` | Equal to |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |   | `==` | Equal to |'
  prefs: []
  type: TYPE_TB
- en: '| `-ne` | Not equal to |   | `!=` | Not equal to |'
  prefs: []
  type: TYPE_TB
- en: '| `-lt` | Less than |   | `\<` | Less than ([ASCII](special-chars.html#ASCIIDEF))
    * |'
  prefs: []
  type: TYPE_TB
- en: '| `-le` | Less than or equal to |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `-gt` | Greater than |   | `\>` | Greater than (ASCII) * |'
  prefs: []
  type: TYPE_TB
- en: '| `-ge` | Greater than or equal to |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |   | `-z` | String is empty |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |   | `-n` | String is not empty |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| Arithmetic Comparison | [within double parentheses](testconstructs.html#DBLPRX)
    (( ... )) |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `>` | Greater than |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `>=` | Greater than or equal to |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `<` | Less than |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `<=` | Less than or equal to |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '***** *If within a double-bracket* [[ ... ]] *test construct, then no escape*
    \ *is needed.*'
  prefs: []
  type: TYPE_NORMAL
- en: '**Table B-3\. TEST Operators: Files**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Operator | Tests Whether | ----- | Operator | Tests Whether |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `-e` | File exists |   | `-s` | File is not zero size |'
  prefs: []
  type: TYPE_TB
- en: '| `-f` | File is a *regular* file |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `-d` | File is a *directory* |   | `-r` | File has *read* permission |'
  prefs: []
  type: TYPE_TB
- en: '| `-h` | File is a [symbolic link](basic.html#SYMLINKREF) |   | `-w` | File
    has *write* permission |'
  prefs: []
  type: TYPE_TB
- en: '| `-L` | File is a *symbolic link* |   | `-x` | File has *execute* permission
    |'
  prefs: []
  type: TYPE_TB
- en: '| `-b` | File is a [block device](devref1.html#BLOCKDEVREF) |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `-c` | File is a [character device](devref1.html#CHARDEVREF) |   | `-g` |
    *sgid* flag set |'
  prefs: []
  type: TYPE_TB
- en: '| `-p` | File is a [pipe](special-chars.html#PIPEREF) |   | `-u` | *suid* flag
    set |'
  prefs: []
  type: TYPE_TB
- en: '| `-S` | File is a [socket](devref1.html#SOCKETREF) |   | `-k` | "sticky bit"
    set |'
  prefs: []
  type: TYPE_TB
- en: '| `-t` | File is associated with a *terminal* |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `-N` | File modified since it was last read |   | `F1 -nt F2` | File F1 is
    *newer* than F2 * |'
  prefs: []
  type: TYPE_TB
- en: '| `-O` | You own the file |   | `F1 -ot F2` | File F1 is *older* than F2 *
    |'
  prefs: []
  type: TYPE_TB
- en: '| `-G` | *Group id* of file same as yours |   | `F1 -ef F2` | Files F1 and
    F2 are *hard links* to the same file * |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `!` | NOT (inverts sense of above tests) |   |   |   |'
  prefs: []
  type: TYPE_TB
- en: '***** *Binary* operator (requires two operands).'
  prefs: []
  type: TYPE_NORMAL
- en: '**Table B-4\. Parameter Substitution and Expansion**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Expression | Meaning |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `${var}` | Value of `*var*` (same as `*$var*`) |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${var-$DEFAULT}` | If `*var*` not set, [evaluate](internal.html#EVALREF)
    expression as `*$DEFAULT*` * |'
  prefs: []
  type: TYPE_TB
- en: '| `${var:-$DEFAULT}` | If `*var*` not set or is empty, *evaluate* expression
    as `*$DEFAULT*` * |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${var=$DEFAULT}` | If `*var*` not set, evaluate expression as `*$DEFAULT*`
    * |'
  prefs: []
  type: TYPE_TB
- en: '| `${var:=$DEFAULT}` | If `*var*` not set or is empty, evaluate expression
    as `*$DEFAULT*` * |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${var+$OTHER}` | If `*var*` set, evaluate expression as `*$OTHER*`, otherwise
    as null string |'
  prefs: []
  type: TYPE_TB
- en: '| `${var:+$OTHER}` | If `*var*` set, evaluate expression as `*$OTHER*`, otherwise
    as null string |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${var?$ERR_MSG}` | If `*var*` not set, print `*$ERR_MSG*` and abort script
    with an exit status of 1.* |'
  prefs: []
  type: TYPE_TB
- en: '| `${var:?$ERR_MSG}` | If `*var*` not set, print `*$ERR_MSG*` and abort script
    with an exit status of 1.* |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${!varprefix*}` | Matches all previously declared variables beginning with
    `*varprefix*` |'
  prefs: []
  type: TYPE_TB
- en: '| `${!varprefix@}` | Matches all previously declared variables beginning with
    `*varprefix*` |'
  prefs: []
  type: TYPE_TB
- en: '***** If `*var*` *is* set, evaluate the expression as `*$var*` with no side-effects.'
  prefs: []
  type: TYPE_NORMAL
- en: '**# Note** that some of the above behavior of operators has changed from earlier
    versions of Bash.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Table B-5\. String Operations**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Expression | Meaning |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `${#string}` | Length of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${string:position}` | Extract substring from `*$string*` at `*$position*`
    |'
  prefs: []
  type: TYPE_TB
- en: '| `${string:position:length}` | Extract `*$length*` characters substring from
    `*$string*` at `*$position*` [zero-indexed, first character is at position 0]
    |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${string#substring}` | Strip shortest match of `*$substring*` from front
    of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `${string##substring}` | Strip longest match of `*$substring*` from front
    of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `${string%substring}` | Strip shortest match of `*$substring*` from back
    of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `${string%%substring}` | Strip longest match of `*$substring*` from back
    of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${string/substring/replacement}` | Replace first match of `*$substring*`
    with `*$replacement*` |'
  prefs: []
  type: TYPE_TB
- en: '| `${string//substring/replacement}` | Replace *all* matches of `*$substring*`
    with `*$replacement*` |'
  prefs: []
  type: TYPE_TB
- en: '| `${string/#substring/replacement}` | If `*$substring*` matches *front* end
    of `*$string*`, substitute `*$replacement*` for `*$substring*` |'
  prefs: []
  type: TYPE_TB
- en: '| `${string/%substring/replacement}` | If `*$substring*` matches *back* end
    of `*$string*`, substitute `*$replacement*` for `*$substring*` |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| `expr match "$string" ''$substring''` | Length of matching `*$substring*`*
    at beginning of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `expr "$string" : ''$substring''` | Length of matching `*$substring*`* at
    beginning of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `expr index "$string" $substring` | Numerical position in `*$string*` of
    first character in `*$substring*`* that matches [0 if no match, first character
    counts as position 1] |'
  prefs: []
  type: TYPE_TB
- en: '| `expr substr $string $position $length` | Extract `*$length*` characters
    from `*$string*` starting at `*$position*` [0 if no match, first character counts
    as position 1] |'
  prefs: []
  type: TYPE_TB
- en: '| `expr match "$string" ''\($substring\)''` | Extract `*$substring*`*, searching
    from beginning of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `expr "$string" : ''\($substring\)''` | Extract `*$substring*`* , searching
    from beginning of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `expr match "$string" ''.*\($substring\)''` | Extract `*$substring*`*, searching
    from end of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '| `expr "$string" : ''.*\($substring\)''` | Extract `*$substring*`*, searching
    from end of `*$string*` |'
  prefs: []
  type: TYPE_TB
- en: '***** Where `*$substring*` is a [Regular Expression](regexp.html#REGEXREF).'
  prefs: []
  type: TYPE_NORMAL
- en: '**Table B-6\. Miscellaneous Constructs**'
  prefs: []
  type: TYPE_NORMAL
- en: '| Expression | Interpretation |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| [Brackets](x17129.html#BRACKETSREF) |   |'
  prefs: []
  type: TYPE_TB
- en: '| `if [ CONDITION ]` | [Test construct](special-chars.html#LEFTBRACKET) |'
  prefs: []
  type: TYPE_TB
- en: '| `if [[ CONDITION ]]` | [Extended test construct](testconstructs.html#DBLBRACKETS)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `Array[1]=element1` | [Array initialization](arrays.html#ARRAYREF) |'
  prefs: []
  type: TYPE_TB
- en: '| `[a-z]` | [Range of characters](x17129.html#BRACKETSREF) within a [Regular
    Expression](regexp.html#REGEXREF) |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| Curly Brackets |   |'
  prefs: []
  type: TYPE_TB
- en: '| `${variable}` | [Parameter substitution](parameter-substitution.html#PARAMSUBREF)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `${!variable}` | [Indirect variable reference](ivr.html#IVRREF) |'
  prefs: []
  type: TYPE_TB
- en: '| `{ command1; command2; . . . commandN; }` | [Block of code](special-chars.html#CODEBLOCKREF)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `{string1,string2,string3,...}` | [Brace expansion](special-chars.html#BRACEEXPREF)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `{a..z}` | [Extended brace expansion](bashver3.html#BRACEEXPREF3) |'
  prefs: []
  type: TYPE_TB
- en: '| `{}` | Text replacement, after [find](moreadv.html#CURLYBRACKETSREF) and
    [xargs](moreadv.html#XARGSCURLYREF) |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| [Parentheses](special-chars.html#PARENSREF) |   |'
  prefs: []
  type: TYPE_TB
- en: '| `( command1; command2 )` | Command group executed within a [subshell](subshells.html#SUBSHELLSREF)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `Array=(element1 element2 element3)` | [Array initialization](arrays.html#ARRAYINIT0)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `result=$(COMMAND)` | [Command substitution](commandsub.html#CSPARENS), new
    style |'
  prefs: []
  type: TYPE_TB
- en: '| `>(COMMAND)` | [Process substitution](process-sub.html#PROCESSSUBREF) |'
  prefs: []
  type: TYPE_TB
- en: '| `<(COMMAND)` | Process substitution |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| [Double Parentheses](dblparens.html) |   |'
  prefs: []
  type: TYPE_TB
- en: '| `(( var = 78 ))` | [Integer arithmetic](dblparens.html#DBLPARENSREF) |'
  prefs: []
  type: TYPE_TB
- en: '| `var=$(( 20 + 5 ))` | Integer arithmetic, with variable assignment |'
  prefs: []
  type: TYPE_TB
- en: '| `(( var++ ))` | *C-style* [variable increment](dblparens.html#PLUSPLUSREF)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `(( var-- ))` | *C-style* [variable decrement](dblparens.html#PLUSPLUSREF)
    |'
  prefs: []
  type: TYPE_TB
- en: '| `(( var0 = var1<98?9:21 ))` | *C-style* [ternary](special-chars.html#CSTRINARY)
    operation |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| [Quoting](quoting.html#QUOTINGREF) |   |'
  prefs: []
  type: TYPE_TB
- en: '| `"$variable"` | ["Weak" quoting](varsubn.html#DBLQUO) |'
  prefs: []
  type: TYPE_TB
- en: '| `''string''` | [''Strong'' quoting](varsubn.html#SNGLQUO) |'
  prefs: []
  type: TYPE_TB
- en: '|   |   |'
  prefs: []
  type: TYPE_TB
- en: '| [Back Quotes](commandsub.html#BACKQUOTESREF) |   |'
  prefs: []
  type: TYPE_TB
- en: '| `` result=`COMMAND` `` | [Command substitution](commandsub.html#COMMANDSUBREF),
    classic style |'
  prefs: []
  type: TYPE_TB
