<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch301.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="internals__resolving__md-_-_-resolving-hostnames" class="level1" data-number="300">
<h1 data-number="300">Resolving hostnames</h1>
<p>Aka <code>hostip.c</code> explained</p>
<p>The main compile-time defines to keep in mind when reading the <code>host*.c</code> source file are these:</p>
<section id="internals__resolving__md-_-_-curlres_ipv6" class="level2" data-number="300.1">
<h2 data-number="300.1"><code>CURLRES_IPV6</code></h2>
<p>this host has <code>getaddrinfo()</code> and family, and thus we use that. The host may not be able to resolve IPv6, but we do not really have to take that into account. Hosts that are not IPv6-enabled have <code>CURLRES_IPV4</code> defined.</p>
</section>
<section id="internals__resolving__md-_-_-curlres_ares" class="level2" data-number="300.2">
<h2 data-number="300.2"><code>CURLRES_ARES</code></h2>
<p>is defined if libcurl is built to use c-ares for asynchronous name resolves. This can be Windows or *nix.</p>
</section>
<section id="internals__resolving__md-_-_-curlres_threaded" class="level2" data-number="300.3">
<h2 data-number="300.3"><code>CURLRES_THREADED</code></h2>
<p>is defined if libcurl is built to use threading for asynchronous name resolves. The name resolve is done in a new thread, and the supported asynch API is be the same as for ares-builds. This is the default under (native) Windows.</p>
<p>If any of the two previous are defined, <code>CURLRES_ASYNCH</code> is defined too. If libcurl is not built to use an asynchronous resolver, <code>CURLRES_SYNCH</code> is defined.</p>
</section>
<section id="internals__resolving__md-_-_-host-dot-c-sources" class="level2" data-number="300.4">
<h2 data-number="300.4"><code>host*.c</code> sources</h2>
<p>The <code>host*.c</code> sources files are split up like this:</p>
<ul>
<li><code>hostip.c</code> - method-independent resolver functions and utility functions</li>
<li><code>hostasyn.c</code> - functions for asynchronous name resolves</li>
<li><code>hostsyn.c</code> - functions for synchronous name resolves</li>
<li><code>asyn-ares.c</code> - functions for asynchronous name resolves using c-ares</li>
<li><code>asyn-thread.c</code> - functions for asynchronous name resolves using threads</li>
<li><code>hostip4.c</code> - IPv4 specific functions</li>
<li><code>hostip6.c</code> - IPv6 specific functions</li>
</ul>
<p>The <code>hostip.h</code> is the single united header file for all this. It defines the <code>CURLRES_*</code> defines based on the <code>config*.h</code> and <code>curl_setup.h</code> defines.</p>
<p><span id="internals__tests__README__md"></span></p>
</section>
</section>
</body>
</html>
