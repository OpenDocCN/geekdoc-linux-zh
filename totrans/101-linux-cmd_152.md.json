["```sh\n      cpio [options] < name-list\ncpio [options] -i [patterns] < archive\ncpio [options] -o > archive\ncpio [options] -p destination-directory \n\n```", "```sh\n      # Create archive from file list\nfind . -name \"*.txt\" | cpio -o > archive.cpio\n\n# Create compressed archive\nfind . -type f | cpio -o | gzip > archive.cpio.gz\n\n# Verbose output\nfind . -name \"*.conf\" | cpio -ov > config_backup.cpio \n\n```", "```sh\n      # Extract archive\ncpio -i < archive.cpio\n\n# Extract to specific directory\ncd /restore && cpio -i < /backup/archive.cpio\n\n# Extract specific files\ncpio -i \"*.txt\" < archive.cpio \n\n```", "```sh\n      # Copy files to another directory\nfind /source -type f | cpio -p /destination\n\n# Preserve attributes while copying\nfind /etc -name \"*.conf\" | cpio -pdm /backup/configs \n\n```", "```sh\n      # -o: Copy-out (create archive)\nfind . | cpio -o > archive.cpio\n\n# -i: Copy-in (extract archive)\ncpio -i < archive.cpio\n\n# -p: Pass-through (copy files)\nfind . | cpio -p /destination\n\n# -v: Verbose output\nfind . | cpio -ov > archive.cpio\n\n# -t: List archive contents\ncpio -tv < archive.cpio \n\n```", "```sh\n      # -d: Create directories as needed\ncpio -id < archive.cpio\n\n# -m: Preserve modification times\ncpio -im < archive.cpio\n\n# -u: Unconditional extraction (overwrite)\ncpio -iu < archive.cpio\n\n# -H: Specify archive format\ncpio -oH newc > archive.cpio\n\n# -B: Use 5120-byte blocks\ncpio -oB > archive.cpio \n\n```", "```sh\n      # Binary format (default, obsolete)\ncpio -o > archive.cpio\n\n# New ASCII format (recommended)\ncpio -oH newc > archive.cpio\n\n# Old ASCII format\ncpio -oH odc > archive.cpio\n\n# CRC format\ncpio -oH crc > archive.cpio\n\n# TAR format\ncpio -oH tar > archive.tar\n\n# USTAR format\ncpio -oH ustar > archive.tar \n\n```", "```sh\n      # Backup entire system (excluding certain directories)\nfind / -path /proc -prune -o -path /sys -prune -o -path /dev -prune -o -print | \\\nsudo cpio -oH newc | gzip > system_backup.cpio.gz\n\n# Backup specific directories\nfind /etc /home /var -type f | cpio -oH newc > important_files.cpio\n\n# Backup with verbose output\nfind /home/user -type f | cpio -ovH newc > user_backup.cpio \n\n```", "```sh\n      # Create initramfs image (common in Linux boot process)cd /tmp/initramfs\nfind . | cpio -oH newc | gzip > /boot/initramfs.img\n\n# Extract existing initramfs\ncd /tmp/extract\nzcat /boot/initramfs.img | cpio -id \n\n```", "```sh\n      # Archive only configuration files\nfind /etc -name \"*.conf\" -o -name \"*.cfg\" | cpio -oH newc > configs.cpio\n\n# Archive files modified in last 7 days\nfind /home -type f -mtime -7 | cpio -oH newc > recent_files.cpio\n\n# Archive files larger than 1MB\nfind /var/log -type f -size +1M | cpio -oH newc > large_logs.cpio \n\n```", "```sh\n      # Create compressed archive\nfind . -type f | cpio -oH newc | gzip > archive.cpio.gz\nfind . -type f | cpio -oH newc | bzip2 > archive.cpio.bz2\nfind . -type f | cpio -oH newc | xz > archive.cpio.xz\n\n# Extract compressed archives\nzcat archive.cpio.gz | cpio -id\nbzcat archive.cpio.bz2 | cpio -id\nxzcat archive.cpio.xz | cpio -id \n\n```", "```sh\n      # Archive including device files\nfind /dev -type c -o -type b | sudo cpio -oH newc > device_files.cpio\n\n# Archive symbolic links\nfind . -type l | cpio -oH newc > symlinks.cpio\n\n# Archive with all file types preserved\nfind . | sudo cpio -oH newc > complete_backup.cpio \n\n```", "```sh\n      # Preserve ownership and permissions\nfind . | sudo cpio -oH newc > backup.cpio\nsudo cpio -idm < backup.cpio\n\n# Preserve modification times\ncpio -im < archive.cpio\n\n# Preserve all attributes in pass-through mode\nfind /source | sudo cpio -pdm /destination \n\n```", "```sh\n      # Extract specific file patterns\ncpio -i \"*.txt\" \"*.conf\" < archive.cpio\n\n# Extract files in specific directory\ncpio -i \"etc/*\" < archive.cpio\n\n# Extract with shell globbing\ncpio -i \"*backup*\" < archive.cpio \n\n```", "```sh\n      # Create archive excluding certain files\nfind . -type f ! -name \"*.tmp\" ! -name \"*.log\" | cpio -oH newc > clean_archive.cpio\n\n# Use grep to filter\nfind . -type f | grep -v -E '\\.(tmp|log|cache)$' | cpio -oH newc > filtered.cpio \n\n```", "```sh\n      # Send archive over network\nfind /home | cpio -oH newc | ssh user@remote \"cat > backup.cpio\"\n\n# Compressed network backup\nfind /data | cpio -oH newc | gzip | ssh user@remote \"cat > data_backup.cpio.gz\"\n\n# Receive archive from network\nssh user@remote \"cat backup.cpio\" | cpio -id \n\n```", "```sh\n      # Write to tape device\nfind /home | cpio -oH newc > /dev/st0\n\n# Read from tape\ncpio -itv < /dev/st0  # List contents\ncpio -id < /dev/st0   # Extract\n\n# Multi-volume archives\nfind /large_dataset | cpio -oH newc --split-at=700M > /dev/st0 \n\n```", "```sh\n      # List all files in archive\ncpio -tv < archive.cpio\n\n# List with detailed information\ncpio -itv < archive.cpio\n\n# Count files in archive\ncpio -it < archive.cpio | wc -l\n\n# Search for specific files\ncpio -it < archive.cpio | grep \"filename\" \n\n```", "```sh\n      # Test archive integrity\ncpio -it < archive.cpio > /dev/null\n\n# Compare with filesystem\nfind . | cpio -oH newc | cpio -it | sort > archive_list.txt\nfind . | sort > filesystem_list.txt\ndiff archive_list.txt filesystem_list.txt \n\n```", "```sh\n      # Append to existing archive (not directly supported)# Workaround: extract, add files, recreate\nmkdir /tmp/archive_work\ncd /tmp/archive_work\ncpio -id < /path/to/archive.cpio\n# Add new files\nfind . | cpio -oH newc > /path/to/new_archive.cpio \n\n```", "```sh\n      # Use larger block size for better performance\ncpio -oB > archive.cpio          # 5120 bytes\ncpio -o --block-size=32768 > archive.cpio  # 32KB blocks\n\n# For tape drives\ncpio -o --block-size=65536 > /dev/st0  # 64KB blocks \n\n```", "```sh\n      # Different compression methods\nfind . | cpio -oH newc | gzip -1 > fast_compress.cpio.gz    # Fast\nfind . | cpio -oH newc | gzip -9 > best_compress.cpio.gz    # Best ratio\nfind . | cpio -oH newc | lz4 > lz4_compress.cpio.lz4        # Very fast\nfind . | cpio -oH newc | xz -9 > xz_compress.cpio.xz        # Best ratio \n\n```", "```sh\n      # Use parallel compression\nfind . | cpio -oH newc | pigz > parallel_compressed.cpio.gz\n\n# Parallel decompression\npigz -dc archive.cpio.gz | cpio -id \n\n```", "```sh\n      # Complex find expressions\nfind /var/log -name \"*.log\" -size +10M -mtime +30 | cpio -oH newc > old_large_logs.cpio\n\n# Execute commands during find\nfind . -name \"*.txt\" -exec grep -l \"important\" {} \\; | cpio -oH newc > important_texts.cpio \n\n```", "```sh\n      # Create incremental backups\nrsync -av --link-dest=/backup/previous /source/ /backup/current/\nfind /backup/current -type f | cpio -oH newc > incremental.cpio \n\n```", "```sh\n      # Convert tar to cpio\ntar -cf - files | cpio -oH tar > archive.tar\n\n# Convert cpio to tar\ncpio -it < archive.cpio | tar -cf archive.tar -T - \n\n```", "```sh\n      # \"Premature end of file\" error# Check if archive is complete or corrupted\nfile archive.cpio\n\n# Permission denied errors\n# Use sudo for system files\nsudo cpio -id < archive.cpio\n\n# \"Cannot create directory\" errors\n# Use -d option\ncpio -id < archive.cpio \n\n```", "```sh\n      # Verbose mode for debugging\ncpio -idv < archive.cpio\n\n# Check archive format\nfile archive.cpio\nhexdump -C archive.cpio | head\n\n# Test archive before extraction\ncpio -it < archive.cpio > /dev/null\necho $?  # Should return 0 for success \n\n```", "```sh\n      # Partial archive recovery\ndd if=damaged_archive.cpio of=partial.cpio bs=512 count=1000\ncpio -id < partial.cpio\n\n# Skip damaged portions\ncpio -id --only-verify-crc < archive.cpio \n\n```", "```sh\n      #!/bin/bash# Automated backup script\nBACKUP_DIR=\"/backup/$(date +%Y%m%d)\"\nSOURCE=\"/home /etc /var/log\"\n\nmkdir -p \"$BACKUP_DIR\"\nfor dir in $SOURCE; do\n    find \"$dir\" -type f | cpio -oH newc | gzip > \"$BACKUP_DIR/$(basename $dir).cpio.gz\"\ndone \n\n```", "```sh\n      #!/bin/bash# Automated restoration script\nARCHIVE=\"$1\"\nDEST=\"${2:-/restore}\"\n\nif [ ! -f \"$ARCHIVE\" ]; then\n    echo \"Archive not found: $ARCHIVE\"\n    exit 1\nfi\n\nmkdir -p \"$DEST\"\ncd \"$DEST\"\n\nif [[ \"$ARCHIVE\" =~ \\.gz$ ]]; then\n    zcat \"$ARCHIVE\" | cpio -idm\nelse\n    cpio -idm < \"$ARCHIVE\"\nfi \n\n```", "```sh\n      # Use descriptive names with dates\nbackup_$(hostname)_$(date +%Y%m%d_%H%M%S).cpio.gz\n\n# Include source information\nhome_backup_$(date +%Y%m%d).cpio\netc_configs_$(date +%Y%m%d).cpio \n\n```", "```sh\n      # Always verify critical archives\nfind /important | cpio -oH newc > critical.cpio\ncpio -it < critical.cpio | wc -l\nfind /important | wc -l \n\n```", "```sh\n      # Document archive contents\ncpio -itv < archive.cpio > archive_contents.txt\necho \"Created: $(date)\" >> archive_info.txt\necho \"Source: /path/to/source\" >> archive_info.txt \n\n```"]