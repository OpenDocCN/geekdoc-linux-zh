<html><head></head><body>
    <div style="page-break-after: always;"/>
    <h1>The <code>awk</code> command</h1>
    <p>Awk is a general-purpose scripting language designed for advanced text processing. It is mostly used as a reporting and analysis tool.</p>
    <h4>WHAT CAN WE DO WITH AWK?</h4>
    <ol>
      <li>
        <p>AWK Operations:
(a) Scans a file line by line
(b) Splits each input line into fields
(c) Compares input line/fields to pattern
(d) Performs action(s) on matched lines</p>
      </li>
      <li>
        <p>Useful For:
(a) Transform data files
(b) Produce formatted reports</p>
      </li>
      <li>
        <p>Programming Constructs:
(a) Format output lines
(b) Arithmetic and string operations
(c) Conditionals and loops</p>
      </li>
    </ol>
    <h4>Syntax</h4>
    <pre>
      <code class="language-php hljs php" data-lang="php">awk options <span class="hljs-string">'selection _criteria {action }'</span> input-file &gt; output-file
</code>
    </pre>
    <h4>Example</h4>
    <p>Consider the following text file as the input file for below example:</p>
    <pre>
      <code class="language-javascript hljs javascript" data-lang="javascript">
        <span class="hljs-string">``</span>
        <span class="hljs-string">`
$cat &gt; employee.txt
`</span>
        <span class="hljs-string">``</span>
        <span class="hljs-string">``</span>
        <span class="hljs-string">`
ajay manager account 45000
sunil clerk account 25000
varun manager sales 50000
amit manager account 47000
tarun peon sales 15000
`</span>
        <span class="hljs-string">``</span>
      </code>
    </pre>
    <ol>
      <li>Default behavior of Awk: By default Awk prints every line of data from the specified file.</li>
    </ol>
    <pre>
      <code class="language-php hljs php" data-lang="php">$ awk <span class="hljs-string">'{print}'</span> employee.txt
</code>
    </pre>
    <pre>
      <code class="language- hljs " data-lang="">ajay manager account 45000
sunil clerk account 25000
varun manager sales 50000
amit manager account 47000
tarun peon sales 15000
</code>
    </pre>
    <p>In the above example, no pattern is given. So the actions are applicable to all the lines. Action print without any argument prints the whole line by default, so it prints all the lines of the file without failure.</p>
    <ol start="2">
      <li>Print the lines which match the given pattern.</li>
    </ol>
    <pre>
      <code class="language-php hljs php" data-lang="php">awk <span class="hljs-string">'/manager/ {print}'</span> employee.txt 
</code>
    </pre>
    <pre>
      <code class="language- hljs " data-lang="">ajay manager account 45000
varun manager sales 50000
amit manager account 47000
</code>
    </pre>
    <p>In the above example, the awk command prints all the line which matches with the ‘manager’.</p>
    <ol start="3">
      <li>Splitting a Line Into Fields : For each record i.e line, the awk command splits the record delimited by whitespace character by default and stores it in the $n variables. If the line has 4 words, it will be stored in $1, $2, $3 and $4 respectively. Also, $0 represents the whole line.</li>
    </ol>
    <pre>
      <code class="language-php hljs php" data-lang="php">$ awk <span class="hljs-string">'{print $1,$4}'</span> employee.txt 
</code>
    </pre>
    <pre>
      <code class="language- hljs " data-lang="">ajay 45000
sunil 25000
varun 50000
amit 47000
tarun 15000
</code>
    </pre>
    <h4>Built-In Variables In Awk</h4>
    <p>Awk’s built-in variables include the field variables—$1, $2, $3, and so on ($0 is the entire line) — that break a line of text into individual words or pieces called fields.</p>
    <p>NR: NR command keeps a current count of the number of input records. Remember that records are usually lines. Awk command performs the pattern/action statements once for each record in a file.
NF: NF command keeps a count of the number of fields within the current input record.
FS: FS command contains the field separator character which is used to divide fields on the input line. The default is “white space”, meaning space and tab characters. FS can be reassigned to another character (typically in BEGIN) to change the field separator.
RS: RS command stores the current record separator character. Since, by default, an input line is the input record, the default record separator character is a newline.
OFS: OFS command stores the output field separator, which separates the fields when Awk prints them. The default is a blank space. Whenever print has several parameters separated with commas, it will print the value of OFS in between each parameter.
ORS: ORS command stores the output record separator, which separates the output lines when Awk prints them. The default is a newline character. print automatically outputs the contents of ORS at the end of whatever it is given to print.</p>
  </body></html>