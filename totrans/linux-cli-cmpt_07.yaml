- en: Viewing Part or Whole File Contents
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://learnbyexample.github.io/cli-computing/viewing-part-or-whole-file-contents.html](https://learnbyexample.github.io/cli-computing/viewing-part-or-whole-file-contents.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In this chapter, you'll learn how to view contents of files from within the
    terminal. If the contents are too long, you can choose to view one screenful at
    a time or get only the starting/ending portions of the input. The commands used
    for these purposes also have other functionalities, some of which will be discussed
    in this chapter as well.
  prefs: []
  type: TYPE_NORMAL
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) The [example_files](https://github.com/learnbyexample/cli-computing/tree/master/example_files)
    directory has the sample input files used in this chapter.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[cat](#cat)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `cat` command derives its name from con**cat**enate. It is primarily used
    to combine the contents of multiple files to be saved in a file or sent as input
    to another command.
  prefs: []
  type: TYPE_NORMAL
- en: 'Commonly used options are shown below:'
  prefs: []
  type: TYPE_NORMAL
- en: '`-n` prefix line number and a tab character to each input line'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`-b` like `-n` but doesn''t number empty lines'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`-s` squeeze consecutive empty lines to a single empty line'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`-v` view special characters like NUL using the [caret notation](https://en.wikipedia.org/wiki/ASCII_control_characters#Control_code_chart)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`-e` view special characters as well as mark the end of line'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`-A` includes `-e` and also helps to spot tab characters'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Here are some examples to showcase `cat`'s main utility. One or more files can
    be given as arguments.
  prefs: []
  type: TYPE_NORMAL
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) As mentioned earlier,
    the [example_files](https://github.com/learnbyexample/cli-computing/tree/master/example_files)
    directory has the sample input files used in this chapter. You need to `cd` into
    the `example_files/text_files` directory to follow along the examples shown in
    this chapter.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'To save the output of concatenation, use redirection:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: You can represent `stdin` data using `-` as a file argument. If file arguments
    are not present, `cat` will read from `stdin` data if present or wait for interactive
    input. Note that `-` is also supported by many more commands to indicate `stdin`
    data.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) Using `cat` to view
    the contents of a file, to concatenate them, etc is well and good. But, using
    `cat` when it is not needed is a bad habit that you should avoid. See [wikipedia:
    UUOC](https://en.wikipedia.org/wiki/Cat_(Unix)#Useless_use_of_cat) and [Useless
    Use of Cat Award](https://porkmail.org/era/unix/award.html) for more details.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`cat` also helps you spot special characters using the [caret notation](https://en.wikipedia.org/wiki/ASCII_control_characters#Control_code_chart):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[tac](#tac)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'You can concatenate files using `tac` as well, but the output will be printed
    in the reverse (line wise). If you pass multiple input files, each file content
    will be reversed separately. Here are some examples:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![warning](../Images/b5314b4a0acf0f436c4bf59486793342.png) If the last line
    of input doesn''t end with a newline, the output will also not have that newline
    character.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_BQ
  type: TYPE_PRE
- en: '[less](#less)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `cat` command is not suitable for viewing contents of large files in the
    terminal. The `less` command automatically fits the content to the size of the
    terminal, allows scrolling and has nifty features for effective viewing. Typically,
    the `man` command uses `less` as the `pager` to display the documentation. The
    navigation options are similar to the Vim text editor.
  prefs: []
  type: TYPE_NORMAL
- en: Commonly used commands are given below. You can press the `h` key for builtin
    help.
  prefs: []
  type: TYPE_NORMAL
- en: '`↑` and `↓` arrow keys to move up and down by a line'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: you can also use `k` and `j` keys (same keys as those used by the Vim text editor)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`f` and `b` keys to move forward and backward by a screenful of content'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Space` key also moves forward by a screen'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: mouse scroll moves up and down by a few lines
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`g` or `Home` go to the start of the file'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`G` or `End` go to the end of the file'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`/pattern` followed by `Enter` search for the given pattern in the forward
    direction'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: pattern refers to regular expressions and depends on the regex library in your
    system
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: the flavor is Extended Regular Expressions (ERE) on my system
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: see `man re_format` for more details
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`?pattern` followed by `Enter` search for the given pattern in the backward
    direction'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`n` go to the next match'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`N` go to the previous match'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`q` quit'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: As an example, use `less /usr/share/dict/words` to open a dictionary file and
    practice the commands discussed above. If your `pager` is set to `less` for manual
    pages, you can also try something like `man ls` for practice.
  prefs: []
  type: TYPE_NORMAL
- en: Similar to the `cat` command, you can use the `-s` option to squeeze consecutive
    blank lines. But unlike `cat -n`, you need to use `less -N` to prefix line numbers.
    The lowercase `-n` option will turn off numbering.
  prefs: []
  type: TYPE_NORMAL
- en: '**Further Reading**'
  prefs: []
  type: TYPE_NORMAL
- en: '`less` command is an [improved version](https://unix.stackexchange.com/q/604/109046)
    of the `more` command'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[unix.stackexchange: differences between most, more and less](https://unix.stackexchange.com/q/81129/109046)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: My [Vim Reference Guide](https://github.com/learnbyexample/vim_reference) ebook
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[tail](#tail)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: By default, `tail` displays the last 10 lines of input files. If there are less
    than 10 lines in the input, only those lines will be displayed. You can use the
    `-n` option to change the number of lines displayed. By using `tail -n +N`, you
    can get all the lines starting from the `N`th line.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here''s an example file that''ll be used for illustration purposes:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Here are some examples with the `-n` option:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: If you pass multiple input files, each file will be processed separately. By
    default, the output is nicely formatted with filename headers and empty line separators
    which you can override with the `-q` (quiet) option.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'The `-c` option works similar to the `-n` option, but with bytes instead of
    lines:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '**Further Reading**'
  prefs: []
  type: TYPE_NORMAL
- en: '[wikipedia: File monitoring with tail -f and -F options](https://en.wikipedia.org/wiki/Tail_(Unix)#File_monitoring)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[toolong](https://github.com/Textualize/toolong) — terminal application to
    view, tail, merge, and search log files'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[unix.stackexchange: How does the tail -f option work?](https://unix.stackexchange.com/q/18760/109046)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to deal with output buffering?](https://mywiki.wooledge.org/BashFAQ/009)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[head](#head)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: By default, `head` displays the first 10 lines of input files. If there are
    less than 10 lines in the input, only those lines will be displayed. You can use
    the `-n` option to change the number of lines displayed. By using `head -n -N`,
    you can get all the input lines except the last `N` lines.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: You can select a range of lines by combining both the `head` and `tail` commands.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: If you pass multiple input files, each file will be processed separately. By
    default, the output is nicely formatted with filename headers and empty line separators
    which you can override with the `-q` (quiet) option.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: 'The `-c` option works similar to the `-n` option, but with bytes instead of
    lines:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '[Exercises](#exercises)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '![info](../Images/147d5d96e6e103c258c8b5f99e9505a9.png) Use the [example_files/text_files](https://github.com/learnbyexample/cli-computing/tree/master/example_files/text_files)
    directory for input files used in the following exercises.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**1)** Which option(s) would you use to get the output shown below?'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: '**2)** Pass appropriate arguments to the `cat` command to get the output shown
    below.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '**3)** Will the two commands shown below produce the same output? If not, why
    not?'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: '**4)** Go through the manual for the `tac` command and use appropriate options
    and arguments to get the output shown below.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: '**5)** What is the difference between `less -n` and `less -N` options? Does
    `cat -n` and `less -n` have similar functionality?'
  prefs: []
  type: TYPE_NORMAL
- en: '**6)** Which command would you use to open another file from within an existing
    `less` session? And which commands would you use to navigate between previous
    and next files?'
  prefs: []
  type: TYPE_NORMAL
- en: '**7)** Use appropriate commands and shell features to get the output shown
    below.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: '**8)** How would you display all the input lines except the first one?'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: '**9)** Which command(s) would you use to get the output shown below?'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: '**10)** Use a combination of the `head` and `tail` commands to get the 11th
    to 14th characters from the given input.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: '**11)** Extract the starting six bytes from the input files `table.txt` and
    `fruits.txt`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: '**12)** Extract the last six bytes from the input files `fruits.txt` and `table.txt`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs: []
  type: TYPE_PRE
