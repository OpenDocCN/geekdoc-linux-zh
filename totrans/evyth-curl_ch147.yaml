- en: Ranges
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 范围
- en: What if the client only wants the first 200 bytes out of a remote resource or
    perhaps 300 bytes somewhere in the middle? The HTTP protocol allows a client to
    ask for only a specific data range. The client asks the server for the specific
    range with a start offset and an end offset. It can even combine things and ask
    for several ranges in the same request by just listing a bunch of pieces next
    to each other. When a server sends back multiple independent pieces to answer
    such a request, you get them separated with mime boundary strings and it is up
    to the user application to handle that accordingly. curl does not further separate
    such a response.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 如果客户端只想获取远程资源的前200字节，或者可能在中间的某个位置获取300字节，怎么办？HTTP协议允许客户端请求特定的数据范围。客户端通过提供一个起始偏移量和结束偏移量来请求服务器上的特定范围。它甚至可以在同一个请求中组合多个范围，只需将多个片段并列列出即可。当服务器发送多个独立的部分来响应此类请求时，这些部分会通过MIME边界字符串分隔，用户应用程序需要相应地处理这些部分。curl不会进一步分隔此类响应。
- en: However, a byte range is only a request to the server. It does not have to respect
    the request and in many cases, like when the server automatically generates the
    contents on the fly when it is being asked, it simply refuses to do it and it
    then instead responds with the full contents anyway.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，字节范围只是一个对服务器的请求。服务器不必遵守这个请求，在许多情况下，比如当服务器在请求时自动生成内容，它可能会简单地拒绝这样做，然后仍然以完整内容作为响应。
- en: 'You can make curl ask for a range with `-r` or `--range`. If you want the first
    200 bytes out of something:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用curl的`-r`或`--range`选项来请求一个范围。如果你想获取某个内容的前200字节：
- en: '[PRE0]'
  id: totrans-4
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Or everything in the file starting from index 200:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 或者从索引200开始文件中的所有内容：
- en: '[PRE1]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Get 200 bytes from index 0 *and* 200 bytes from index 1000:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 从索引0获取200字节，并且从索引1000获取200字节：
- en: '[PRE2]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
