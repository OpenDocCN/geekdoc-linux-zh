- en: The `ionice` command
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The `ionice` command is used to set or get process I/O scheduling class and
    priority.
  prefs: []
  type: TYPE_NORMAL
- en: If no arguments are given , `ionice` will query the current I/O scheduling class
    and priority for that process.
  prefs: []
  type: TYPE_NORMAL
- en: Usage
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'A process can be of three scheduling classes:'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Idle
  prefs:
  - PREF_UL
  - PREF_H3
  type: TYPE_NORMAL
- en: A program with idle I/O priority will only get disk time when `no other program
    has asked for disk I/O for a defined grace period`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The impact of idle processes on normal system actively should be `zero`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This scheduling class `doesn’t take priority` argument.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Presently this scheduling class is permitted for an `ordinary user (since kernel
    2.6.25)`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Best Effort
  prefs:
  - PREF_UL
  - PREF_H3
  type: TYPE_NORMAL
- en: This is `effective` scheduling class for any process that has `not asked for
    a specific I/O priority`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This class `takes priority argument from 0-7`, with `lower` number being `higher
    priority`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Programs running at the same best effort priority are served in `round- robbin
    fashion`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Note that before kernel 2.6.26 a process that has not asked for an I/O priority
    formally uses “None” as scheduling class , but the io schedular will treat such
    processes as if it were in the best effort class.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The priority within best effort class will be dynamically derived form the
    CPU nice level of the process : io_priority = ( cpu_nice + 20 ) / 5/ for kernels
    after 2.6.26 with CFQ I/O schedular a process that has not asked for sn io priority
    inherits CPU scheduling class.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`The I/O priority is derived from the CPU nice level of the process` ( smr
    sd before kernel 2.6.26 ).'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Real Time
  prefs:
  - PREF_UL
  - PREF_H3
  type: TYPE_NORMAL
- en: The real time schedular class is `given first access to disk, regardless of
    what else is going on in the system`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Thus the real time class needs to be used with some care, as it cans tarve other
    processes .
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: As with the best effort class, `8 priority levels are defined denoting how big
    a time slice a given process will receive on each scheduling window`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This scheduling class is `not permitted for an ordinary user(non-root)`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Options
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '| Options | Description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| -c, --class<class></class> | name or number of scheduling class, 0: none,
    1: realtime, 2: best-effort, 3: idle |'
  prefs: []
  type: TYPE_TB
- en: '| -n, --classdata | priority (0..7) in the specified scheduling class,only
    for the realtime and best-effort classes |'
  prefs: []
  type: TYPE_TB
- en: '| -p, --pid <pid>...</pid> | act on these already running processes |'
  prefs: []
  type: TYPE_TB
- en: '| -P, --pgid <pgrp>...</pgrp> | act on already running processes in these groups
    |'
  prefs: []
  type: TYPE_TB
- en: '| -t, --ignore | ignore failures |'
  prefs: []
  type: TYPE_TB
- en: '| -u, --uid <uid>...</uid> | act on already running processes owned by these
    users |'
  prefs: []
  type: TYPE_TB
- en: '| -h, --help | display this help |'
  prefs: []
  type: TYPE_TB
- en: '| -V, --version | display version |'
  prefs: []
  type: TYPE_TB
- en: For more details see ionice(1).
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '| Command | O/P | Explanation |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `$ ionice` | *none: prio 4* | Running alone `ionice` will give the class
    and priority of current process |'
  prefs: []
  type: TYPE_TB
- en: '| `$ ionice -p 101` | *none : prio 4* | Give the details(*class : priority*)
    of the process specified by given process id |'
  prefs: []
  type: TYPE_TB
- en: '| `$ ionice -p 2` | *none: prio 4* | Check the class and priority of process
    with pid 2 it is none and 4 resp. |'
  prefs: []
  type: TYPE_TB
- en: '| `$ ionice -c2 -n0 -p2` | 2 ( best-effort ) priority 0 process 2 | Now lets
    set process(pid) 2 as a best-effort program with highest priority |'
  prefs: []
  type: TYPE_TB
- en: '| $ `ionice` -p 2 | best-effort : prio 0 | Now if I check details of Process
    2 you can see the updated one |'
  prefs: []
  type: TYPE_TB
- en: '| $ `ionice` /bin/ls |  | get priority and class info of bin/ls |'
  prefs: []
  type: TYPE_TB
- en: '| $ `ionice` -n4 -p2 |  | set priority 4 of process with pid 2 |'
  prefs: []
  type: TYPE_TB
- en: '| $ `ionice` -p 2 | best-effort: prio 4 | Now observe the difference between
    the command ran above and this one we have changed priority from 0 to 4 |'
  prefs: []
  type: TYPE_TB
- en: '| $ `ionice` -c0 -n4 -p2 | ionice: ignoring given class data for none class
    | (Note that before kernel 2.6.26 a process that has not asked for an I/O priority
    formally uses “None” as scheduling class , |'
  prefs: []
  type: TYPE_TB
- en: '|  |  | but the io schedular will treat such processes as if it were in the
    best effort class. ) |'
  prefs: []
  type: TYPE_TB
- en: '|  |  | -t option : ignore failure |'
  prefs: []
  type: TYPE_TB
- en: '| $ `ionice` -c0 -n4 -p2 -t |  | For ignoring the warning shown above we can
    use -t option so it will ignore failure |'
  prefs: []
  type: TYPE_TB
- en: Conclusion
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Thus we have successfully learnt about `ionice` command.
  prefs: []
  type: TYPE_NORMAL
