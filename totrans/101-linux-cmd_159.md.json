["```sh\n      lspci [options] \n\n```", "```sh\n      # List all PCI devices\nlspci\n\n# Example output:\n# 00:00.0 Host bridge: Intel Corporation Device 9b61\n# 00:01.0 PCI bridge: Intel Corporation Device 1901\n# 00:02.0 VGA compatible controller: Intel Corporation Device 9bc4\n# 00:14.0 USB controller: Intel Corporation Device a36d \n\n```", "```sh\n      # Show device names instead of just IDs\nlspci -nn\n\n# More verbose output\nlspci -v\n\n# Very verbose output (includes everything)\nlspci -vv\n\n# Extremely verbose output\nlspci -vvv \n\n```", "```sh\n      # -v: Verbose (show detailed info)\nlspci -v\n\n# -vv: Very verbose\nlspci -vv\n\n# -n: Show numeric IDs instead of names\nlspci -n\n\n# -nn: Show both names and numeric IDs\nlspci -nn\n\n# -k: Show kernel drivers\nlspci -k \n\n```", "```sh\n      # -t: Tree format\nlspci -t\n\n# -tv: Tree format with verbose info\nlspci -tv\n\n# -x: Show hex dump of config space\nlspci -x\n\n# -xxx: Show full hex dump\nlspci -xxx \n\n```", "```sh\n      # Graphics cards\nlspci | grep -i vga\nlspci | grep -i display\n\n# Network adapters\nlspci | grep -i network\nlspci | grep -i ethernet\n\n# USB controllers\nlspci | grep -i usb\n\n# Sound cards\nlspci | grep -i audio\nlspci | grep -i sound\n\n# Storage controllers\nlspci | grep -i storage\nlspci | grep -i sata \n\n```", "```sh\n      # Intel devices\nlspci | grep -i intel\n\n# AMD devices\nlspci | grep -i amd\n\n# NVIDIA devices\nlspci | grep -i nvidia\n\n# Broadcom devices\nlspci | grep -i broadcom \n\n```", "```sh\n      # Select specific device by bus ID\nlspci -s 00:02.0\n\n# Select multiple devices\nlspci -s 00:02.0,00:14.0\n\n# Select by vendor ID\nlspci -d 8086:\n\n# Select by vendor and device ID\nlspci -d 8086:9bc4 \n\n```", "```sh\n      # Show capabilities and features\nlspci -v\n\n# Example output includes:\n# - Memory addresses\n# - IRQ assignments\n# - Capabilities (MSI, Power Management, etc.)\n# - Kernel modules/drivers\n\n# Very detailed information\nlspci -vv\n# Includes:\n# - Extended capabilities\n# - Configuration registers\n# - Link status and speeds \n\n```", "```sh\n      # Show which kernel drivers are in use\nlspci -k\n\n# Example output:\n# 00:02.0 VGA compatible controller: Intel Corporation Device 9bc4\n#         Subsystem: Dell Device 097d\n#         Kernel driver in use: i915\n#         Kernel modules: i915\n\n# Combine with verbose for more detail\nlspci -vk \n\n```", "```sh\n      # Show configuration space (hex dump)\nlspci -x\n\n# Full configuration space\nlspci -xxx\n\n# Specific device configuration\nlspci -s 00:02.0 -xxx \n\n```", "```sh\n      # Show device tree structure\nlspci -t\n\n# Example output:\n# -[0000:00]-+-00.0  Intel Corporation Device 9b61\n#            +-01.0-[01]--\n#            +-02.0  Intel Corporation Device 9bc4\n#            +-14.0  Intel Corporation Device a36d\n\n# Tree with device names\nlspci -tv \n\n```", "```sh\n      # Show bridges and connections\nlspci -tv | grep -E \"(bridge|Bridge)\"\n\n# PCI Express information\nlspci -vv | grep -A 5 -B 5 \"Express\"\n\n# Link capabilities and status\nlspci -vv | grep -E \"(Link|Speed|Width)\" \n\n```", "```sh\n      # List graphics devicesget_gpu_info() {\n    echo \"=== Graphics Cards ===\"\n    lspci | grep -i -E \"(vga|display|3d)\"\n    echo\n\n    echo \"=== Detailed GPU Information ===\"\n    lspci -v | grep -A 10 -B 2 -i -E \"(vga|display)\"\n    echo\n\n    echo \"=== GPU Drivers ===\"\n    lspci -k | grep -A 3 -B 1 -i -E \"(vga|display)\"\n}\n\nget_gpu_info \n\n```", "```sh\n      # Network adapter detailsget_network_info() {\n    echo \"=== Network Adapters ===\"\n    lspci | grep -i -E \"(network|ethernet|wireless)\"\n    echo\n\n    echo \"=== Network Driver Information ===\"\n    lspci -k | grep -A 3 -B 1 -i -E \"(network|ethernet)\"\n    echo\n\n    echo \"=== Wireless Capabilities ===\"\n    lspci -vv | grep -A 20 -B 5 -i wireless\n}\n\nget_network_info \n\n```", "```sh\n      # Storage device detailsget_storage_info() {\n    echo \"=== Storage Controllers ===\"\n    lspci | grep -i -E \"(storage|sata|ide|scsi|nvme)\"\n    echo\n\n    echo \"=== Storage Driver Information ===\"\n    lspci -k | grep -A 3 -B 1 -i -E \"(storage|sata|ahci)\"\n    echo\n\n    echo \"=== SATA Capabilities ===\"\n    lspci -vv | grep -A 10 -B 2 -i sata\n}\n\nget_storage_info \n\n```", "```sh\n      #!/bin/bash# Complete hardware inventory using lspcihardware_inventory() {\n    echo \"=== PCI Hardware Inventory ===\"\n    echo \"Generated: $(date)\"\n    echo\n\n    echo \"--- System Overview ---\"\n    lspci | wc -l | xargs echo \"Total PCI devices:\"\n    echo\n\n    echo \"--- Graphics ---\"\n    lspci | grep -i -E \"(vga|display|3d)\" || echo \"No graphics devices found\"\n    echo\n\n    echo \"--- Network ---\"\n    lspci | grep -i -E \"(network|ethernet|wireless)\" || echo \"No network devices found\"\n    echo\n\n    echo \"--- Storage ---\"\n    lspci | grep -i -E \"(storage|sata|ide|nvme)\" || echo \"No storage controllers found\"\n    echo\n\n    echo \"--- Audio ---\"\n    lspci | grep -i -E \"(audio|sound|multimedia)\" || echo \"No audio devices found\"\n    echo\n\n    echo \"--- USB Controllers ---\"\n    lspci | grep -i usb || echo \"No USB controllers found\"\n    echo\n\n    echo \"--- Other Devices ---\"\n    lspci | grep -v -i -E \"(vga|display|3d|network|ethernet|wireless|storage|sata|ide|nvme|audio|sound|multimedia|usb|bridge|host)\" || echo \"No other devices\"\n}\n\nhardware_inventory > hardware_inventory.txt \n\n```", "```sh\n      #!/bin/bash# Check driver status for all PCI devicescheck_drivers() {\n    echo \"=== PCI Driver Status ===\"\n\n    lspci | while read line; do\n        device_id=$(echo \"$line\" | cut -d' ' -f1)\n        device_name=$(echo \"$line\" | cut -d' ' -f2-)\n\n        driver_info=$(lspci -k -s \"$device_id\" | grep \"Kernel driver in use\")\n\n        if [ -n \"$driver_info\" ]; then\n            driver=$(echo \"$driver_info\" | cut -d':' -f2 | xargs)\n            echo \"✓ $device_id: $device_name -> $driver\"\n        else\n            echo \"✗ $device_id: $device_name -> NO DRIVER\"\n        fi\n    done\n}\n\ncheck_drivers \n\n```", "```sh\n      #!/bin/bash# Analyze PCI device performance capabilitiesanalyze_performance() {\n    echo \"=== PCI Performance Analysis ===\"\n\n    echo \"--- PCIe Link Speeds ---\"\n    lspci -vv | grep -A 1 -B 1 \"Link.*Speed\" | grep -E \"(:|Speed|Width)\"\n    echo\n\n    echo \"--- Memory Mappings ---\"\n    lspci -v | grep -E \"(Memory at|I/O ports at)\" | sort | uniq -c | sort -nr\n    echo\n\n    echo \"--- Power Management ---\"\n    lspci -vv | grep -c \"Power Management\" | xargs echo \"Devices with power management:\"\n    echo\n\n    echo \"--- MSI Capabilities ---\"\n    lspci -vv | grep -c \"MSI:\" | xargs echo \"Devices with MSI support:\"\n    echo\n\n    echo \"--- 64-bit Devices ---\"\n    lspci -vv | grep -c \"64-bit\" | xargs echo \"64-bit capable devices:\"\n}\n\nanalyze_performance \n\n```", "```sh\n      # Check if device is detectedcheck_device_detection() {\n    local search_term=\"$1\"\n\n    echo \"Searching for: $search_term\"\n\n    devices=$(lspci | grep -i \"$search_term\")\n    if [ -n \"$devices\" ]; then\n        echo \"✓ Device(s) found:\"\n        echo \"$devices\"\n        echo\n\n        echo \"Driver information:\"\n        echo \"$devices\" | while read line; do\n            device_id=$(echo \"$line\" | cut -d' ' -f1)\n            lspci -k -s \"$device_id\" | grep -E \"(driver|module)\"\n        done\n    else\n        echo \"✗ No devices found matching '$search_term'\"\n        echo \"Try checking:\"\n        echo \"  - Physical connections\"\n        echo \"  - BIOS/UEFI settings\"\n        echo \"  - Power supply\"\n    fi\n}\n\n# Usage examples\ncheck_device_detection \"graphics\"\ncheck_device_detection \"network\" \n\n```", "```sh\n      # Find devices without driversfind_missing_drivers() {\n    echo \"=== Devices Without Drivers ===\"\n\n    lspci | while read line; do\n        device_id=$(echo \"$line\" | cut -d' ' -f1)\n        device_name=$(echo \"$line\" | cut -d' ' -f2-)\n\n        if ! lspci -k -s \"$device_id\" | grep -q \"Kernel driver in use\"; then\n            echo \"Missing driver: $device_id - $device_name\"\n\n            # Try to find available modules\n            modules=$(lspci -k -s \"$device_id\" | grep \"Kernel modules:\" | cut -d':' -f2)\n            if [ -n \"$modules\" ]; then\n                echo \"  Available modules:$modules\"\n            fi\n        fi\n    done\n}\n\nfind_missing_drivers \n\n```", "```sh\n      # Check hardware compatibilitycheck_compatibility() {\n    echo \"=== Hardware Compatibility Check ===\"\n\n    echo \"--- Unsupported Devices ---\"\n    lspci -nn | while read line; do\n        if echo \"$line\" | grep -q \"\\[ffff:\"; then\n            echo \"Possible unsupported device: $line\"\n        fi\n    done\n    echo\n\n    echo \"--- Legacy Devices ---\"\n    lspci | grep -i -E \"(legacy|isa|parallel|serial|floppy)\" || echo \"No legacy devices found\"\n    echo\n\n    echo \"--- Vendor Support ---\"\n    echo \"Intel devices: $(lspci | grep -i intel | wc -l)\"\n    echo \"AMD devices: $(lspci | grep -i amd | wc -l)\"\n    echo \"NVIDIA devices: $(lspci | grep -i nvidia | wc -l)\"\n    echo \"Other vendors: $(lspci | grep -v -i -E \"(intel|amd|nvidia)\" | wc -l)\"\n}\n\ncheck_compatibility \n\n```", "```sh\n      # Analyze specific device configurationanalyze_device_config() {\n    local device_id=\"$1\"\n\n    echo \"=== Configuration Analysis for $device_id ===\"\n\n    echo \"--- Basic Information ---\"\n    lspci -s \"$device_id\" -v\n    echo\n\n    echo \"--- Configuration Space ---\"\n    lspci -s \"$device_id\" -x\n    echo\n\n    echo \"--- Capabilities ---\"\n    lspci -s \"$device_id\" -vv | grep -A 20 \"Capabilities:\"\n}\n\n# Usage: analyze_device_config \"00:02.0\" \n\n```", "```sh\n      # Analyze PCIe bandwidthanalyze_bandwidth() {\n    echo \"=== PCIe Bandwidth Analysis ===\"\n\n    lspci -vv | grep -A 2 -B 2 \"Express.*Root Port\\|Express.*Endpoint\" | \\\n    while read line; do\n        if echo \"$line\" | grep -q \"Express\"; then\n            echo \"Device: $line\"\n        elif echo \"$line\" | grep -q \"Link.*Speed\"; then\n            echo \"  $line\"\n        fi\n    done\n}\n\nanalyze_bandwidth \n\n```", "```sh\n      # Check power management capabilitiescheck_power_management() {\n    echo \"=== Power Management Status ===\"\n\n    lspci -vv | grep -B 5 -A 10 \"Power Management\" | \\\n    grep -E \"(^[0-9a-f]{2}:[0-9a-f]{2}\\.[0-9]|Power Management|PME)\"\n}\n\ncheck_power_management \n\n```", "```sh\n      # Match PCI devices with loaded modulesmatch_devices_modules() {\n    echo \"=== PCI Devices and Kernel Modules ===\"\n\n    lspci -k | grep -E \"(^[0-9a-f]{2}:|Kernel driver|Kernel modules)\" | \\\n    while read line; do\n        if [[ \"$line\" =~ ^[0-9a-f]{2}: ]]; then\n            echo \"$line\"\n        elif [[ \"$line\" =~ \"Kernel driver in use:\" ]]; then\n            driver=$(echo \"$line\" | cut -d':' -f2 | xargs)\n            echo \"  Active driver: $driver\"\n            lsmod | grep \"^$driver\" && echo \"    ✓ Module loaded\" || echo \"    ✗ Module not found\"\n        fi\n    done\n} \n\n```", "```sh\n      # Check udev rules for PCI devicescheck_udev_rules() {\n    local device_id=\"$1\"\n\n    echo \"Checking udev rules for device: $device_id\"\n\n    # Get vendor and device IDs\n    vendor_device=$(lspci -n -s \"$device_id\" | awk '{print $3}')\n    vendor_id=$(echo \"$vendor_device\" | cut -d':' -f1)\n    device_id_hex=$(echo \"$vendor_device\" | cut -d':' -f2)\n\n    echo \"Vendor ID: $vendor_id, Device ID: $device_id_hex\"\n\n    # Search udev rules\n    find /etc/udev/rules.d /lib/udev/rules.d -name \"*.rules\" -exec grep -l \"$vendor_id\\|$device_id_hex\" {} \\; 2>/dev/null\n} \n\n```", "```sh\n      # Check for security-relevant hardwarecheck_security_hardware() {\n    echo \"=== Security Hardware Check ===\"\n\n    echo \"--- TPM Devices ---\"\n    lspci | grep -i tpm || echo \"No TPM devices found\"\n    echo\n\n    echo \"--- Virtualization Support ---\"\n    lspci -vv | grep -i -E \"(vt-x|amd-v|virtualization)\" || echo \"Check CPU flags for virtualization\"\n    echo\n\n    echo \"--- IOMMU Support ---\"\n    lspci -vv | grep -i iommu || echo \"No explicit IOMMU references found\"\n    echo\n\n    echo \"--- Hardware Security Modules ---\"\n    lspci | grep -i -E \"(security|crypto|hsm)\" || echo \"No HSM devices found\"\n}\n\ncheck_security_hardware \n\n```", "```sh\n      # Create hardware monitoring script#!/bin/bash# Monitor hardware changes\n\nBASELINE_FILE=\"/var/lib/hardware_baseline.txt\"\nCURRENT_FILE=\"/tmp/current_hardware.txt\"\n\n# Generate current state\nlspci -nn > \"$CURRENT_FILE\"\n\n# Compare with baseline\nif [ -f \"$BASELINE_FILE\" ]; then\n    if ! diff -q \"$BASELINE_FILE\" \"$CURRENT_FILE\" >/dev/null; then\n        echo \"Hardware configuration changed!\"\n        echo \"Changes:\"\n        diff \"$BASELINE_FILE\" \"$CURRENT_FILE\"\n    fi\nelse\n    echo \"Creating hardware baseline\"\nfi\n\n# Update baseline\ncp \"$CURRENT_FILE\" \"$BASELINE_FILE\" \n\n```", "```sh\n      # Generate hardware documentationdocument_hardware() {\n    local output_file=\"hardware_documentation_$(date +%Y%m%d).txt\"\n\n    {\n        echo \"Hardware Documentation\"\n        echo \"Generated: $(date)\"\n        echo \"Hostname: $(hostname)\"\n        echo \"=========================\"\n        echo\n\n        echo \"PCI Device Summary:\"\n        lspci | wc -l | xargs echo \"Total devices:\"\n        echo\n\n        echo \"Detailed Device List:\"\n        lspci -nn\n        echo\n\n        echo \"Driver Status:\"\n        lspci -k\n        echo\n\n        echo \"Device Tree:\"\n        lspci -tv\n\n    } > \"$output_file\"\n\n    echo \"Documentation saved to: $output_file\"\n} \n\n```"]