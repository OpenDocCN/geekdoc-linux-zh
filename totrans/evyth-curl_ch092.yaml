- en: My browser shows something else
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我的浏览器显示的内容不同
- en: A common use case is using curl to get a URL that you can get in your browser
    when you paste the URL in the browser’s address bar.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 一个常见的用例是使用curl获取你可以在浏览器地址栏粘贴的URL。
- en: A browser getting a URL as input does so much more and in so many different
    ways than curl that what curl shows in your terminal output is probably not at
    all what you see in your browser window.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 浏览器在获取URL作为输入时，比curl做得多得多，并且以多种不同的方式，因此curl在终端输出中显示的内容可能与你浏览器窗口中看到的内容完全不同。
- en: Client differences
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 客户端差异
- en: Curl only gets exactly what you ask it to get and it never parses the actual
    content—the data—that the server delivers. A browser gets data and it activates
    different parsers depending on what kind of content it thinks it gets. For example,
    if the data is HTML it parses it to display a webpage and possibly download other
    sub resources such as images, JavaScript and CSS files. When curl downloads HTML
    it just gets that single HTML resource, even if it, when parsed by a browser,
    would trigger a whole busload of more downloads. If you want curl to download
    any sub-resources as well, you need to pass those URLs to curl and ask it to get
    those, just like any other URLs.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Curl只会获取你要求它获取的内容，它永远不会解析服务器实际提供的数据——即数据。浏览器获取数据后，它会根据认为获取的内容类型激活不同的解析器。例如，如果数据是HTML，它会解析它以显示网页，并可能下载其他子资源，如图片、JavaScript和CSS文件。当curl下载HTML时，它只获取那个单一的HTML资源，即使当它被浏览器解析时，可能会触发更多的下载。如果你想让curl下载任何子资源，你需要将这些URL传递给curl，并要求它获取这些资源，就像其他任何URL一样。
- en: Clients also differ in how they send their requests, and some aspects of a request
    for a resource include, for example, format preferences, asking for compressed
    data, or just telling the server from which previous page we are “coming from”.
    curl’s requests differ a little or a lot from how your browser sends its requests.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端在发送请求的方式上也有所不同，一个资源请求的一些方面包括，例如，格式偏好、请求压缩数据，或者只是告诉服务器我们是从哪个页面“来”的。curl的请求与你的浏览器发送请求的方式略有不同或有很大不同。
- en: Server differences
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 服务器差异
- en: The server that receives the request and delivers data is often set up to act
    in certain ways depending on what kind of client it thinks communicates with it.
    Sometimes it is as innocent as trying to deliver the best content for the client,
    sometimes it is to hide some content for some clients or even to try to work around
    known problems in specific browsers. Then there are also, of course, various kinds
    of login systems that might rely on HTTP authentication or cookies or the client
    being from the pre-validated IP address range.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 接收请求并交付数据的服务器通常根据它认为与之通信的客户端类型而设置成以某种方式行动。有时它可能只是试图为客户端提供最佳内容，有时可能是为了某些客户端隐藏一些内容，甚至试图绕过特定浏览器中已知的问题。当然，还有各种登录系统，可能依赖于HTTP身份验证、cookies或客户端来自预验证的IP地址范围。
- en: Sometimes getting the same response from a server using curl as the response
    you get with a browser ends up really hard work. Users then typically record their
    browser sessions with the browser’s networking tools and then compare that recording
    with recorded data from curl’s `--trace-ascii` option and proceed to modify curl’s
    requests (often with `-H / --header`) until the server starts to respond the same
    to both.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，使用curl从服务器获取与浏览器获取相同的响应实际上非常困难。用户通常会使用浏览器的网络工具记录他们的浏览器会话，然后将该记录与curl的`--trace-ascii`选项记录的数据进行比较，然后修改curl的请求（通常使用`-H`/`--header`），直到服务器开始对两者做出相同的响应。
- en: This type of work can be both time consuming and tedious. You should always
    do this with permission from the server owners or admins.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 这类工作可能既耗时又繁琐。你应该始终在服务器所有者或管理员许可的情况下进行。
- en: Intermediaries’ fiddlings
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 中间件的篡改
- en: Intermediaries are proxies, explicit or implicit ones. Some environments force
    you to use one or you may choose to use one for various reasons, but there are
    also the transparent ones that intercept your network traffic silently and proxy
    it for you no matter what you want.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 中间件是代理，可以是显式的也可以是隐式的。某些环境强制你使用一个，或者你可能出于各种原因选择使用一个，但还有一些透明的中间件会静默地拦截你的网络流量并为你代理，无论你想要什么。
- en: Proxies are “middle men” that terminate the traffic and then act on your behalf
    to the remote server. This can introduce all sorts of explicit filtering and “saving”
    you from certain content or even “protecting” the remote server from what data
    you try to send to it, but even more so it introduces another software’s view
    on how the protocol works and what the right things to do are.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 代理是“中间人”，它们终止流量，然后代表你向远程服务器进行操作。这可能会引入各种显式的过滤，并“拯救”你免受某些内容的影响，甚至“保护”远程服务器免受你试图发送给它的数据，但更重要的是，它引入了另一种软件对协议如何工作以及正确做法的看法。
- en: Interfering intermediaries are often the cause of lots of headaches and mysteries
    down to downright malicious modifications of content.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 干扰的中介往往是导致许多头痛和神秘现象的原因，甚至包括对内容进行直接的恶意修改。
- en: We strongly encourage you to use HTTPS or other means to verify that the contents
    you are downloading or uploading are really the data that the remote server has
    sent to you and that your precious bytes end up verbatim at the intended destination.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们强烈建议您使用HTTPS或其他方式来验证您下载或上传的内容确实是远程服务器发送给您的数据，并且您的宝贵字节最终完整地到达了预期的目的地。
