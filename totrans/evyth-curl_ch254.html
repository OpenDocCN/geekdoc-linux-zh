<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch254.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="libcurl-http__multiplexing__md-_-_-multiplexing" class="level1" data-number="253">
<h1 data-number="253">Multiplexing</h1>
<p>The HTTP versions 2 and 3 offer “multiplexing”. Using this protocol feature, an HTTP client can do several concurrent transfers to a server <em>over the same single connection</em>. This feature does not exist in earlier versions of the HTTP protocol. In earlier HTTP versions, the client would either have to create multiple connections or do the transfers in a serial manner, one after the other.</p>
<p>libcurl supports HTTP multiplexing for both HTTP/2 and HTTP/3.</p>
<p>Make sure you do multiple transfers using the multi interface to a server that supports HTTP multiplexing. libcurl can only multiplex transfers when the same hostname is used for subsequent transfers.</p>
<p>For all practical purposes and API behaviors, an application does not have to care about if multiplexing is done or not.</p>
<p>libcurl enables multiplexing by default, but if you start multiple transfers at the same time they prioritize short-term speed so they might then open new connections rather than waiting for a connection to get created by another transfer to be able to multiplex over. To tell libcurl to prioritize multiplexing, set the <code>CURLOPT_PIPEWAIT</code> option for the transfer with <code>curl_easy_setopt()</code>.</p>
<p>With <code>curl_multi_setopt()</code>’s option <code>CURLMOPT_PIPELINING</code>, you can disable multiplexing for a specific multi handle.</p>
<p><span id="libcurl-http__hsts__md"></span></p>
</section>
</body>
</html>
