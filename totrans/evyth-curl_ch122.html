<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch122.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="usingcurl__proxies__headers__md-_-_-proxy-headers" class="level1" data-number="121">
<h1 data-number="121">Proxy headers</h1>
<p>When you want to add HTTP headers meant specifically for an HTTP or HTTPS proxy, and not for the remote server, the <code>--header</code> option falls short.</p>
<p>For example, if you issue an HTTPS request through an HTTP proxy, it is done by first issuing a <code>CONNECT</code> to the proxy that establishes a tunnel to the remote server and then it sends the request to that server. That first <code>CONNECT</code> is only issued to the proxy and you may want to make sure only that receives your special header, and send another set of custom headers to the remote server.</p>
<p>Set a specific different <code>User-Agent:</code> only to the proxy:</p>
<pre><code>curl --proxy-header &quot;User-Agent: magic/3000&quot; -x proxy https://example.com/</code></pre>
<p><span id="usingcurl__proxies__haproxy__md"></span></p>
</section>
</body>
</html>
