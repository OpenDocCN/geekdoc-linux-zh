- en: SSL context
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SSL上下文
- en: libcurl offers a special TLS related callback called `CURLOPT_SSL_CTX_FUNCTION`.
    This option only works for libcurl powered by OpenSSL, wolfSSL or mbedTLS and
    it does nothing if libcurl is built with another TLS backend.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: libcurl提供了一个特殊的TLS相关回调，称为`CURLOPT_SSL_CTX_FUNCTION`。此选项仅适用于由OpenSSL、wolfSSL或mbedTLS提供的libcurl，如果libcurl是用其他TLS后端构建的，则此选项不起作用。
- en: This callback gets called by libcurl just before the initialization of a TLS
    connection after having processed all other TLS related options to give a last
    chance to an application to modify the behavior of the TLS initialization. The
    `ssl_ctx parameter` passed to the callback in the second argument is actually
    a pointer to the SSL library’s `SSL_CTX` for OpenSSL or wolfSSL, and a pointer
    to `mbedtls_ssl_config` for mbedTLS. If an error is returned from the callback
    no attempt to establish a connection is made and the operation returns the callback’s
    error code. Set the `userptr` argument with the `CURLOPT_SSL_CTX_DATA` option.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 此回调在libcurl处理完所有其他TLS相关选项之后，在初始化TLS连接之前被调用，以便给应用程序最后一次修改TLS初始化行为的机会。传递给回调的第二个参数中的`ssl_ctx参数`实际上是OpenSSL或wolfSSL的SSL库的`SSL_CTX`的指针，以及mbedTLS的`mbedtls_ssl_config`的指针。如果回调返回错误，则不会尝试建立连接，并且操作返回回调的错误代码。使用`CURLOPT_SSL_CTX_DATA`选项设置`userptr`参数。
- en: This function gets called on all new connections made to a server, during the
    TLS negotiation. The TLS context points to a newly initialized object each time.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 此函数在服务器上建立的所有新连接期间被调用，在TLS协商过程中。每次TLS上下文都指向一个新初始化的对象。
