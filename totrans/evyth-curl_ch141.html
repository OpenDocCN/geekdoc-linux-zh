<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>ch141.xhtml</title>
  <link rel="stylesheet" type="text/css" href="../styles/stylesheet1.css" />
</head>
<body epub:type="bodymatter">
<section id="usingcurl__telnet__md-_-_-telnet" class="level1" data-number="140">
<h1 data-number="140">TELNET</h1>
<p>Telnet is an ancient application protocol for bidirectional <strong>clear-text</strong> communication. It was designed for interactive text-oriented communications and <em>there is no encrypted or secure version</em> of Telnet.</p>
<p>TELNET is not a perfect match for curl. The protocol is not done to handle plain uploads or downloads so the usual curl paradigms have had to be stretched somewhat to make curl deal with it appropriately.</p>
<p>curl sends received data to stdout and it reads input to send on stdin. The transfer is complete when the connection is dropped or when the user presses control-c.</p>
<section id="usingcurl__telnet__md-_-_-historic-telnet" class="level2" data-number="140.1">
<h2 data-number="140.1">Historic TELNET</h2>
<p>Once upon the time, systems provided telnet access for login. Then you could connect to a server and login to it, much like how you would do it with SSH today. That practice has fortunately now mostly been moved into the museum cabinets due to the insecure nature of the protocol.</p>
<p>The default port number for telnet is 23.</p>
</section>
<section id="usingcurl__telnet__md-_-_-debugging-with-telnet" class="level2" data-number="140.2">
<h2 data-number="140.2">Debugging with TELNET</h2>
<p>The fact that TELNET is basically just a simple clear-text TCP connection to the target host and port makes it somewhat useful to debug other protocols and services at times.</p>
<p>Example, connect to your local HTTP server on port 80 and send a (broken) request to it by manually entering <code>GET /</code> and press return twice:</p>
<pre><code>curl telnet://localhost:80</code></pre>
<p>Your web server most probably returns something like this back:</p>
<pre><code>HTTP/1.1 400 Bad Request
Date: Tue, 07 Dec 2021 07:41:16 GMT
Server: softeare/7.8.9
Content-Length: 31
Connection: close
Content-Type: text/html

[message]</code></pre>
</section>
<section id="usingcurl__telnet__md-_-_-options" class="level2" data-number="140.3">
<h2 data-number="140.3">Options</h2>
<p>When curl sets up a TELNET connection to a server, you can ask it to pass on options. You do this with <code>--telnet-option</code> (or <code>-t</code>), and there are three options available to use:</p>
<ul>
<li><code>TTYPE=&lt;term&gt;</code> sets the “terminal type” for the session to be <code>&lt;term&gt;</code>.</li>
<li><code>XDISPLOC=&lt;X display&gt;</code> sets the X display location</li>
<li><code>NEW_ENV=&lt;var,val&gt;</code> sets the environment variable <code>var</code> to the value <code>val</code> in the remote session</li>
</ul>
<p>Login to your local machine’s telnet server and tell it you use a <code>vt100</code> terminal:</p>
<pre><code>curl --telnet-option TTYPE=vt100 telnet://localhost</code></pre>
<p>You need to manually enter your name and password when prompted.</p>
<p><span id="usingcurl__tftp__md"></span></p>
</section>
</section>
</body>
</html>
