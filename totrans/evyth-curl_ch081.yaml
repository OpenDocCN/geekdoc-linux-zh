- en: Trace options
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are times when `-v` is not enough. In particular, when you want to store
    the complete stream including the actual transferred data.
  prefs: []
  type: TYPE_NORMAL
- en: For situations when curl does encrypted file transfers with protocols such as
    HTTPS, FTPS or SFTP, other network monitoring tools (like Wireshark or tcpdump)
    are not able to do this job as easily for you.
  prefs: []
  type: TYPE_NORMAL
- en: For this, curl offers two other options that you use instead of `-v`.
  prefs: []
  type: TYPE_NORMAL
- en: '`--trace [filename]` saves a full trace in the given filename. You can also
    use ‘-’ (a single minus) instead of a filename to get it passed to stdout. You
    would use it like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'When completed, there is a ‘dump’ file that can turn out pretty sizable. In
    this case, the 15 first lines of the dump file looks like:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Every single sent and received byte gets displayed individually in hexadecimal
    numbers. Received headers are output line by line.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you think the hexadecimals are not helping, you can try `--trace-ascii [filename]`
    instead, also this accepting ‘-’ for stdout and that makes the 15 first lines
    of tracing look like:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Time stamps
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `--trace-time` option prefixes all verbose/trace outputs with a high resolution
    timer for when the line is printed. It works with the regular `-v / --verbose`
    option as well as with `--trace` and `--trace-ascii`.
  prefs: []
  type: TYPE_NORMAL
- en: 'An example could look like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The lines are all the local time as hours:minutes:seconds and then number of
    microseconds in that second.
  prefs: []
  type: TYPE_NORMAL
- en: Identify transfers and connections
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As the trace information flow showing on screen or to a file using these options
    is a continuous stream even though your command line might make curl use a large
    number of separate connections and different transfers, there are times when you
    want to see to which specific transfers or connections the various information
    below to. To better understand the trace output.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can then add `--trace-ids` to the line and you see how curl adds two numbers
    to all tracing: the connection number and the transfer number. They are two separate
    identifiers because connections can be reused and multiple transfers can use the
    same connection.'
  prefs: []
  type: TYPE_NORMAL
- en: More data
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If the amount of tracing data is not enough. Like when you suspect and want
    to debug a problem in a more fundamental lower protocol level, curl provides the
    `--trace-config` option for you.
  prefs: []
  type: TYPE_NORMAL
- en: With this option you tell curl to also include logging about components that
    it otherwise does not include by default, such as details about TLS, HTTP/2 or
    HTTP/3 protocol bits. It also has convenience options for adding the connection
    and transfer identifiers and time stamps.
  prefs: []
  type: TYPE_NORMAL
- en: 'The `--trace-config` option accepts an argument where you specify a comma-separated
    list with the areas you want it to trace. For example, include identifiers and
    show me HTTP/2 details:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'The exact set of options varies, but here are some ones to try:'
  prefs: []
  type: TYPE_NORMAL
- en: '| area | description |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `ids` | the same identifiers as `--trace-ids` provides |'
  prefs: []
  type: TYPE_TB
- en: '| `time` | the same time output as `--trace-time` provides |'
  prefs: []
  type: TYPE_TB
- en: '| `all` | show everything possible |'
  prefs: []
  type: TYPE_TB
- en: '| `tls` | TLS protocol exchange details |'
  prefs: []
  type: TYPE_TB
- en: '| `http/2` | HTTP/2 frame information |'
  prefs: []
  type: TYPE_TB
- en: '| `http/3` | HTTP/3 frame information |'
  prefs: []
  type: TYPE_TB
- en: '| `*` | additional ones in future versions |'
  prefs: []
  type: TYPE_TB
- en: Doing a quick run with `all` is often a good way to get to see which specific
    areas that are shown, as then you can do follow-up runs with more specific areas
    set.
  prefs: []
  type: TYPE_NORMAL
